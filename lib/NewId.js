"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.newId = newId;

function newId() {
  var when = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : new Date();
  // take the UTC date and convert to base 62
  var decimal = 5000000000000 - when.getTime();
  var s = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('');
  var result = '';

  while (decimal >= 1) {
    result = s[decimal - 62 * Math.floor(decimal / 62)] + result;
    decimal = Math.floor(decimal / 62);
  } // Add 5 extra random characters in case multiple ids are creates at the same time


  result += Array(5).join().split(',').map(function () {
    return s[Math.floor(Math.random() * s.length)];
  }).join('');
  return result;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9OZXdJZC50cyJdLCJuYW1lcyI6WyJuZXdJZCIsIndoZW4iLCJEYXRlIiwiZGVjaW1hbCIsImdldFRpbWUiLCJzIiwic3BsaXQiLCJyZXN1bHQiLCJNYXRoIiwiZmxvb3IiLCJBcnJheSIsImpvaW4iLCJtYXAiLCJyYW5kb20iLCJsZW5ndGgiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFFTyxTQUFTQSxLQUFULEdBQTRDO0FBQUEsTUFBN0JDLElBQTZCLHVFQUFoQixJQUFJQyxJQUFKLEVBQWdCO0FBQ2pEO0FBQ0EsTUFBSUMsT0FBTyxHQUFHLGdCQUFnQkYsSUFBSSxDQUFDRyxPQUFMLEVBQTlCO0FBQ0EsTUFBTUMsQ0FBQyxHQUFHLGlFQUFpRUMsS0FBakUsQ0FBdUUsRUFBdkUsQ0FBVjtBQUNBLE1BQUlDLE1BQU0sR0FBRyxFQUFiOztBQUNBLFNBQU9KLE9BQU8sSUFBSSxDQUFsQixFQUFxQjtBQUNuQkksSUFBQUEsTUFBTSxHQUFHRixDQUFDLENBQUVGLE9BQU8sR0FBSSxLQUFLSyxJQUFJLENBQUNDLEtBQUwsQ0FBV04sT0FBTyxHQUFHLEVBQXJCLENBQWxCLENBQUQsR0FBaURJLE1BQTFEO0FBQ0FKLElBQUFBLE9BQU8sR0FBR0ssSUFBSSxDQUFDQyxLQUFMLENBQVdOLE9BQU8sR0FBRyxFQUFyQixDQUFWO0FBQ0QsR0FSZ0QsQ0FVakQ7OztBQUNBSSxFQUFBQSxNQUFNLElBQUlHLEtBQUssQ0FBQyxDQUFELENBQUwsQ0FBU0MsSUFBVCxHQUFnQkwsS0FBaEIsQ0FBc0IsR0FBdEIsRUFBMkJNLEdBQTNCLENBQStCO0FBQUEsV0FBTVAsQ0FBQyxDQUFFRyxJQUFJLENBQUNDLEtBQUwsQ0FBV0QsSUFBSSxDQUFDSyxNQUFMLEtBQWdCUixDQUFDLENBQUNTLE1BQTdCLENBQUYsQ0FBUDtBQUFBLEdBQS9CLEVBQ1BILElBRE8sQ0FDRixFQURFLENBQVY7QUFHQSxTQUFPSixNQUFQO0FBQ0QiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJZCB9IGZyb20gXCIuL2RhdGFNb2RlbHMvSWRcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIG5ld0lkKHdoZW46IERhdGUgPSBuZXcgRGF0ZSgpKTogSWQge1xuICAvLyB0YWtlIHRoZSBVVEMgZGF0ZSBhbmQgY29udmVydCB0byBiYXNlIDYyXG4gIGxldCBkZWNpbWFsID0gNTAwMDAwMDAwMDAwMCAtIHdoZW4uZ2V0VGltZSgpO1xuICBjb25zdCBzID0gJzAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ekFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaJy5zcGxpdCgnJyk7XG4gIGxldCByZXN1bHQgPSAnJztcbiAgd2hpbGUgKGRlY2ltYWwgPj0gMSkge1xuICAgIHJlc3VsdCA9IHNbKGRlY2ltYWwgLSAoNjIgKiBNYXRoLmZsb29yKGRlY2ltYWwgLyA2MikpKV0gKyByZXN1bHQ7XG4gICAgZGVjaW1hbCA9IE1hdGguZmxvb3IoZGVjaW1hbCAvIDYyKTtcbiAgfVxuXG4gIC8vIEFkZCA1IGV4dHJhIHJhbmRvbSBjaGFyYWN0ZXJzIGluIGNhc2UgbXVsdGlwbGUgaWRzIGFyZSBjcmVhdGVzIGF0IHRoZSBzYW1lIHRpbWVcbiAgcmVzdWx0ICs9IEFycmF5KDUpLmpvaW4oKS5zcGxpdCgnLCcpLm1hcCgoKSA9PiBzWyhNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBzLmxlbmd0aCkpXSlcbiAgICAuam9pbignJyk7XG5cbiAgcmV0dXJuIHJlc3VsdCBhcyBhbnk7XG59Il19