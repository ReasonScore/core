"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.newId = newId;

function newId() {
  var when = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : new Date();
  // take the UTC date and convert to base 62
  var decimal = 5000000000000 - when.getTime();
  var s = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('');
  var result = '';

  while (decimal >= 1) {
    result = s[decimal - 62 * Math.floor(decimal / 62)] + result;
    decimal = Math.floor(decimal / 62);
  } // Add 5 extra random characters in case multiple ids are creates at the same time


  result += Array(5).join().split(',').map(function () {
    return s[Math.floor(Math.random() * s.length)];
  }).join('');
  return result;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9OZXdJZC50cyJdLCJuYW1lcyI6WyJuZXdJZCIsIndoZW4iLCJEYXRlIiwiZGVjaW1hbCIsImdldFRpbWUiLCJzIiwic3BsaXQiLCJyZXN1bHQiLCJNYXRoIiwiZmxvb3IiLCJBcnJheSIsImpvaW4iLCJtYXAiLCJyYW5kb20iLCJsZW5ndGgiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFFTyxTQUFTQSxLQUFULEdBQTRDO0FBQUEsTUFBN0JDLElBQTZCLHVFQUFoQixJQUFJQyxJQUFKLEVBQWdCO0FBQ2pEO0FBQ0EsTUFBSUMsT0FBTyxHQUFHLGdCQUFnQkYsSUFBSSxDQUFDRyxPQUFMLEVBQTlCO0FBQ0EsTUFBTUMsQ0FBQyxHQUFHLGlFQUFpRUMsS0FBakUsQ0FBdUUsRUFBdkUsQ0FBVjtBQUNBLE1BQUlDLE1BQU0sR0FBRyxFQUFiOztBQUNBLFNBQU9KLE9BQU8sSUFBSSxDQUFsQixFQUFxQjtBQUNuQkksSUFBQUEsTUFBTSxHQUFHRixDQUFDLENBQUVGLE9BQU8sR0FBSSxLQUFLSyxJQUFJLENBQUNDLEtBQUwsQ0FBV04sT0FBTyxHQUFHLEVBQXJCLENBQWxCLENBQUQsR0FBaURJLE1BQTFEO0FBQ0FKLElBQUFBLE9BQU8sR0FBR0ssSUFBSSxDQUFDQyxLQUFMLENBQVdOLE9BQU8sR0FBRyxFQUFyQixDQUFWO0FBQ0QsR0FSZ0QsQ0FVakQ7OztBQUNBSSxFQUFBQSxNQUFNLElBQUlHLEtBQUssQ0FBQyxDQUFELENBQUwsQ0FBU0MsSUFBVCxHQUFnQkwsS0FBaEIsQ0FBc0IsR0FBdEIsRUFBMkJNLEdBQTNCLENBQStCO0FBQUEsV0FBTVAsQ0FBQyxDQUFFRyxJQUFJLENBQUNDLEtBQUwsQ0FBV0QsSUFBSSxDQUFDSyxNQUFMLEtBQWdCUixDQUFDLENBQUNTLE1BQTdCLENBQUYsQ0FBUDtBQUFBLEdBQS9CLEVBQ1BILElBRE8sQ0FDRixFQURFLENBQVY7QUFHQSxTQUFPSixNQUFQO0FBQ0QiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJZCB9IGZyb20gXCIuL2RhdGFNb2RlbHMvSWRcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBuZXdJZCh3aGVuOiBEYXRlID0gbmV3IERhdGUoKSk6IElkIHtcclxuICAvLyB0YWtlIHRoZSBVVEMgZGF0ZSBhbmQgY29udmVydCB0byBiYXNlIDYyXHJcbiAgbGV0IGRlY2ltYWwgPSA1MDAwMDAwMDAwMDAwIC0gd2hlbi5nZXRUaW1lKCk7XHJcbiAgY29uc3QgcyA9ICcwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWicuc3BsaXQoJycpO1xyXG4gIGxldCByZXN1bHQgPSAnJztcclxuICB3aGlsZSAoZGVjaW1hbCA+PSAxKSB7XHJcbiAgICByZXN1bHQgPSBzWyhkZWNpbWFsIC0gKDYyICogTWF0aC5mbG9vcihkZWNpbWFsIC8gNjIpKSldICsgcmVzdWx0O1xyXG4gICAgZGVjaW1hbCA9IE1hdGguZmxvb3IoZGVjaW1hbCAvIDYyKTtcclxuICB9XHJcblxyXG4gIC8vIEFkZCA1IGV4dHJhIHJhbmRvbSBjaGFyYWN0ZXJzIGluIGNhc2UgbXVsdGlwbGUgaWRzIGFyZSBjcmVhdGVzIGF0IHRoZSBzYW1lIHRpbWVcclxuICByZXN1bHQgKz0gQXJyYXkoNSkuam9pbigpLnNwbGl0KCcsJykubWFwKCgpID0+IHNbKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHMubGVuZ3RoKSldKVxyXG4gICAgLmpvaW4oJycpO1xyXG5cclxuICByZXR1cm4gcmVzdWx0IGFzIGFueTtcclxufSJdfQ==