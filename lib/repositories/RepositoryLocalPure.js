"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.RepositoryLocalPure = void 0;

var _RsData = require("../dataModels/RsData");

var _claims = require("./reducers/claims");

var _claimEdges = require("./reducers/claimEdges");

var _RepositoryLocalBase = require("./RepositoryLocalBase");

var _scores = require("./reducers/scores");

var _scoresTrees = require("./reducers/scoresTrees");

class RepositoryLocalPure extends _RepositoryLocalBase.RepositoryLocalBase {
  constructor(rsData = new _RsData.RsData()) {
    super(rsData);
    this.rsData = rsData;
  }

  async notify(actions) {
    //this.rsData.actionsLog.push({actions:actions}); TODO: put logs back in
    for (const action of actions) {
      this.rsData = (0, _claims.claims)(this.rsData, action);
      this.rsData = (0, _claimEdges.claimEdges)(this.rsData, action);
      this.rsData = (0, _scores.scores)(this.rsData, action);
      this.rsData = (0, _scoresTrees.scoreTrees)(this.rsData, action);
    }
  }

}

exports.RepositoryLocalPure = RepositoryLocalPure;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9yZXBvc2l0b3JpZXMvUmVwb3NpdG9yeUxvY2FsUHVyZS50cyJdLCJuYW1lcyI6WyJSZXBvc2l0b3J5TG9jYWxQdXJlIiwiUmVwb3NpdG9yeUxvY2FsQmFzZSIsImNvbnN0cnVjdG9yIiwicnNEYXRhIiwiUnNEYXRhIiwibm90aWZ5IiwiYWN0aW9ucyIsImFjdGlvbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUNBOztBQUVBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUdPLE1BQU1BLG1CQUFOLFNBQWtDQyx3Q0FBbEMsQ0FBNkU7QUFFaEZDLEVBQUFBLFdBQVcsQ0FDQUMsTUFBZSxHQUFHLElBQUlDLGNBQUosRUFEbEIsRUFFVDtBQUNFLFVBQU1ELE1BQU47QUFERixTQURTQSxNQUNULEdBRFNBLE1BQ1Q7QUFFRDs7QUFFRCxRQUFNRSxNQUFOLENBQWFDLE9BQWIsRUFBaUM7QUFDN0I7QUFDQSxTQUFLLE1BQU1DLE1BQVgsSUFBcUJELE9BQXJCLEVBQThCO0FBQzFCLFdBQUtILE1BQUwsR0FBYyxvQkFBTyxLQUFLQSxNQUFaLEVBQW9CSSxNQUFwQixDQUFkO0FBQ0EsV0FBS0osTUFBTCxHQUFjLDRCQUFXLEtBQUtBLE1BQWhCLEVBQXdCSSxNQUF4QixDQUFkO0FBQ0EsV0FBS0osTUFBTCxHQUFjLG9CQUFPLEtBQUtBLE1BQVosRUFBb0JJLE1BQXBCLENBQWQ7QUFDQSxXQUFLSixNQUFMLEdBQWMsNkJBQVcsS0FBS0EsTUFBaEIsRUFBd0JJLE1BQXhCLENBQWQ7QUFDSDtBQUNKOztBQWhCK0UiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpQWN0aW9uIH0gZnJvbSBcIi4uL2RhdGFNb2RlbHMvQWN0aW9uXCI7XHJcbmltcG9ydCB7IFJzRGF0YSwgaVJzRGF0YSB9IGZyb20gXCIuLi9kYXRhTW9kZWxzL1JzRGF0YVwiO1xyXG5pbXBvcnQgeyBpUmVwb3NpdG9yeSB9IGZyb20gXCIuLi9kYXRhTW9kZWxzL2lSZXBvc2l0b3J5XCI7XHJcbmltcG9ydCB7IGNsYWltcyB9IGZyb20gXCIuL3JlZHVjZXJzL2NsYWltc1wiO1xyXG5pbXBvcnQgeyBjbGFpbUVkZ2VzIH0gZnJvbSBcIi4vcmVkdWNlcnMvY2xhaW1FZGdlc1wiO1xyXG5pbXBvcnQgeyBSZXBvc2l0b3J5TG9jYWxCYXNlIH0gZnJvbSBcIi4vUmVwb3NpdG9yeUxvY2FsQmFzZVwiO1xyXG5pbXBvcnQgeyBzY29yZXMgfSBmcm9tIFwiLi9yZWR1Y2Vycy9zY29yZXNcIjtcclxuaW1wb3J0IHsgc2NvcmVUcmVlcyB9IGZyb20gXCIuL3JlZHVjZXJzL3Njb3Jlc1RyZWVzXCI7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFJlcG9zaXRvcnlMb2NhbFB1cmUgZXh0ZW5kcyBSZXBvc2l0b3J5TG9jYWxCYXNlIGltcGxlbWVudHMgaVJlcG9zaXRvcnkge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKFxyXG4gICAgICAgIHB1YmxpYyByc0RhdGE6IGlSc0RhdGEgPSBuZXcgUnNEYXRhKClcclxuICAgICkge1xyXG4gICAgICAgIHN1cGVyKHJzRGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgbm90aWZ5KGFjdGlvbnM6IGlBY3Rpb25bXSkge1xyXG4gICAgICAgIC8vdGhpcy5yc0RhdGEuYWN0aW9uc0xvZy5wdXNoKHthY3Rpb25zOmFjdGlvbnN9KTsgVE9ETzogcHV0IGxvZ3MgYmFjayBpblxyXG4gICAgICAgIGZvciAoY29uc3QgYWN0aW9uIG9mIGFjdGlvbnMpIHtcclxuICAgICAgICAgICAgdGhpcy5yc0RhdGEgPSBjbGFpbXModGhpcy5yc0RhdGEsIGFjdGlvbik7XHJcbiAgICAgICAgICAgIHRoaXMucnNEYXRhID0gY2xhaW1FZGdlcyh0aGlzLnJzRGF0YSwgYWN0aW9uKTtcclxuICAgICAgICAgICAgdGhpcy5yc0RhdGEgPSBzY29yZXModGhpcy5yc0RhdGEsIGFjdGlvbik7XHJcbiAgICAgICAgICAgIHRoaXMucnNEYXRhID0gc2NvcmVUcmVlcyh0aGlzLnJzRGF0YSwgYWN0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59Il19