"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.RepositoryLocalPure = void 0;

var _RsData = require("../dataModels/RsData");

var _claims = require("./reducers/claims");

var _claimEdges = require("./reducers/claimEdges");

var _RepositoryLocalBase = require("./RepositoryLocalBase");

var _scores = require("./reducers/scores");

class RepositoryLocalPure extends _RepositoryLocalBase.RepositoryLocalBase {
  constructor(rsData = new _RsData.RsData()) {
    super(rsData);
    this.rsData = rsData;
  }

  async notify(actions) {
    this.rsData.actionsLog.push(actions);

    for (const action of actions) {
      //TODO: add more reducers
      this.rsData = (0, _claims.claims)(this.rsData, action);
      this.rsData = (0, _claimEdges.claimEdges)(this.rsData, action);
      this.rsData = (0, _scores.scores)(this.rsData, action);
    }
  }

}

exports.RepositoryLocalPure = RepositoryLocalPure;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9yZXBvc2l0b3JpZXMvUmVwb3NpdG9yeUxvY2FsUHVyZS50cyJdLCJuYW1lcyI6WyJSZXBvc2l0b3J5TG9jYWxQdXJlIiwiUmVwb3NpdG9yeUxvY2FsQmFzZSIsImNvbnN0cnVjdG9yIiwicnNEYXRhIiwiUnNEYXRhIiwibm90aWZ5IiwiYWN0aW9ucyIsImFjdGlvbnNMb2ciLCJwdXNoIiwiYWN0aW9uIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ0E7O0FBRUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBR08sTUFBTUEsbUJBQU4sU0FBa0NDLHdDQUFsQyxDQUE2RTtBQUVoRkMsRUFBQUEsV0FBVyxDQUNBQyxNQUFlLEdBQUcsSUFBSUMsY0FBSixFQURsQixFQUVUO0FBQ0UsVUFBTUQsTUFBTjtBQURGLFNBRFNBLE1BQ1QsR0FEU0EsTUFDVDtBQUVEOztBQUVELFFBQU1FLE1BQU4sQ0FBYUMsT0FBYixFQUFpQztBQUM3QixTQUFLSCxNQUFMLENBQVlJLFVBQVosQ0FBdUJDLElBQXZCLENBQTRCRixPQUE1Qjs7QUFDQSxTQUFLLE1BQU1HLE1BQVgsSUFBcUJILE9BQXJCLEVBQThCO0FBQzFCO0FBQ0EsV0FBS0gsTUFBTCxHQUFjLG9CQUFPLEtBQUtBLE1BQVosRUFBb0JNLE1BQXBCLENBQWQ7QUFDQSxXQUFLTixNQUFMLEdBQWMsNEJBQVcsS0FBS0EsTUFBaEIsRUFBd0JNLE1BQXhCLENBQWQ7QUFDQSxXQUFLTixNQUFMLEdBQWMsb0JBQU8sS0FBS0EsTUFBWixFQUFvQk0sTUFBcEIsQ0FBZDtBQUNIO0FBQ0o7O0FBaEIrRSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlBY3Rpb24gfSBmcm9tIFwiLi4vZGF0YU1vZGVscy9BY3Rpb25cIjtcclxuaW1wb3J0IHsgUnNEYXRhLCBpUnNEYXRhIH0gZnJvbSBcIi4uL2RhdGFNb2RlbHMvUnNEYXRhXCI7XHJcbmltcG9ydCB7IGlSZXBvc2l0b3J5IH0gZnJvbSBcIi4uL2RhdGFNb2RlbHMvaVJlcG9zaXRvcnlcIjtcclxuaW1wb3J0IHsgY2xhaW1zIH0gZnJvbSBcIi4vcmVkdWNlcnMvY2xhaW1zXCI7XHJcbmltcG9ydCB7IGNsYWltRWRnZXMgfSBmcm9tIFwiLi9yZWR1Y2Vycy9jbGFpbUVkZ2VzXCI7XHJcbmltcG9ydCB7IFJlcG9zaXRvcnlMb2NhbEJhc2UgfSBmcm9tIFwiLi9SZXBvc2l0b3J5TG9jYWxCYXNlXCI7XHJcbmltcG9ydCB7IHNjb3JlcyB9IGZyb20gXCIuL3JlZHVjZXJzL3Njb3Jlc1wiO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBSZXBvc2l0b3J5TG9jYWxQdXJlIGV4dGVuZHMgUmVwb3NpdG9yeUxvY2FsQmFzZSBpbXBsZW1lbnRzIGlSZXBvc2l0b3J5IHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihcclxuICAgICAgICBwdWJsaWMgcnNEYXRhOiBpUnNEYXRhID0gbmV3IFJzRGF0YSgpXHJcbiAgICApIHtcclxuICAgICAgICBzdXBlcihyc0RhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIG5vdGlmeShhY3Rpb25zOiBpQWN0aW9uW10pIHtcclxuICAgICAgICB0aGlzLnJzRGF0YS5hY3Rpb25zTG9nLnB1c2goYWN0aW9ucyk7XHJcbiAgICAgICAgZm9yIChjb25zdCBhY3Rpb24gb2YgYWN0aW9ucykge1xyXG4gICAgICAgICAgICAvL1RPRE86IGFkZCBtb3JlIHJlZHVjZXJzXHJcbiAgICAgICAgICAgIHRoaXMucnNEYXRhID0gY2xhaW1zKHRoaXMucnNEYXRhLCBhY3Rpb24pO1xyXG4gICAgICAgICAgICB0aGlzLnJzRGF0YSA9IGNsYWltRWRnZXModGhpcy5yc0RhdGEsIGFjdGlvbik7XHJcbiAgICAgICAgICAgIHRoaXMucnNEYXRhID0gc2NvcmVzKHRoaXMucnNEYXRhLCBhY3Rpb24pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn0iXX0=