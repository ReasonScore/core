"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.calculateScoreActionTests = calculateScoreActionTests;

var _RepositoryLocalPure = require("../repositories/RepositoryLocalPure");

var _calculateScoreActions = require("../calculateScoreActions");

var _calculateScore = require("../calculateScore");

var _Claim = require("../dataModels/Claim");

var _Action = require("../dataModels/Action");

var _ClaimEdge = require("../dataModels/ClaimEdge");

var _Score = require("../dataModels/Score");

var _ScoreTree = require("../dataModels/ScoreTree");

function calculateScoreActionTests() {
  const u = undefined,
        pro = true,
        con = false;
  test('add a new scoretree', async () => {
    const repository = new _RepositoryLocalPure.RepositoryLocalPure(); // Add a new claim and set it as a score tree top

    const result = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _Claim.Claim("", "topTestClaim"), undefined, "add_claim"), new _Action.Action(new _ScoreTree.ScoreTree("topTestClaim", "testTopScore", u, "testScoreTree"), undefined, "add_scoreTree")],
      repository: repository,
      calculator: _calculateScore.calculateScore
    });
    var test = new _Action.Action(new _ScoreTree.ScoreTree("topTestClaim", "testTopScore", u, "testScoreTree"), undefined, "add_scoreTree");
    expect(repository.rsData.scoreIdsBySourceId["topTestClaim"].length).toEqual(1);
  });
  test('Add a child that does not change the top score', async () => {
    var _await$repository$get;

    const repository = new _RepositoryLocalPure.RepositoryLocalPure();
    const temp = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _Claim.Claim("", "topTestClaim"), undefined, "add_claim"), new _Action.Action(new _Claim.Claim("", "ChildClaim1"), undefined, "add_claim"), new _Action.Action(new _ScoreTree.ScoreTree("topTestClaim", "testTopScore", u, "testScoreTree"), undefined, "add_scoreTree")],
      repository: repository
    });
    const result = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim1", u, u, u, "Priority Set"), undefined, "add_claimEdge")],
      repository: repository
    });
    expect((_await$repository$get = await repository.getScore("testTopScore")) === null || _await$repository$get === void 0 ? void 0 : _await$repository$get.confidence).toEqual(1);
  });
  test('Changing a child pro value should change the top score', async () => {
    const repository = new _RepositoryLocalPure.RepositoryLocalPure();
    const temp = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _Claim.Claim("", "topTestClaim"), u, "add_claim"), new _Action.Action(new _ScoreTree.ScoreTree("topTestClaim", "testTopScore", u, "testScoreTree"), undefined, "add_scoreTree"), new _Action.Action(new _Claim.Claim("", "ChildClaim1"), u, "add_claim"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim1", u, true, "ChildClaim1Edge"), u, "add_claimEdge")],
      repository: repository
    });
    const result = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim1", u, false, "ChildClaim1Edge"), u, "modify_claimEdge")],
      repository: repository
    });
    expect((await repository.getScoresBySourceId("topTestClaim"))[0].confidence).toEqual(-1);
  });
  test('Add a child that reverses the top score', async () => {
    const repository = new _RepositoryLocalPure.RepositoryLocalPure();
    const temp = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _Claim.Claim("", "topTestClaim"), u, "add_claim"), new _Action.Action(new _ScoreTree.ScoreTree("topTestClaim", "testTopScore", u, "testScoreTree"), u, "add_scoreTree"), new _Action.Action(new _Claim.Claim("", "ChildClaim1"), u, "add_claim")],
      repository: repository
    });
    const result = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim1", u, false, "ChildClaim1Edge"), u, "add_claimEdge")],
      repository: repository,
      calculator: _calculateScore.calculateScore
    });
    expect((await repository.getScoresBySourceId("topTestClaim"))[0].confidence).toEqual(-1);
  });
  test('Adding a grandchild score Reverses Scores 2 levels', async () => {
    var _await$repository$get2;

    const repository = new _RepositoryLocalPure.RepositoryLocalPure();
    const temp = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _Claim.Claim("", "topTestClaim"), undefined, "add_claim"), new _Action.Action(new _ScoreTree.ScoreTree("topTestClaim", "testTopScore", u, "testScoreTree"), undefined, "add_scoreTree"), new _Action.Action(new _Claim.Claim("", "ChildClaim1"), undefined, "add_claim"), new _Action.Action(new _Claim.Claim("", "ChildClaim2"), undefined, "add_claim"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim1", undefined, false, "ChildClaim1Edge"), undefined, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim2", undefined, true, "ChildClaim2Edge"), undefined, "add_claimEdge"), new _Action.Action(new _Claim.Claim("", "grandChild1"), undefined, "add_claim")],
      repository: repository
    });
    const result = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _ClaimEdge.ClaimEdge("ChildClaim1", "grandChild1", undefined, false, "GrandChildClaim1Edge"), undefined, "add_claimEdge")],
      repository: repository,
      calculator: _calculateScore.calculateScore
    });
    expect((_await$repository$get2 = await repository.getScore("testTopScore")) === null || _await$repository$get2 === void 0 ? void 0 : _await$repository$get2.confidence).toEqual(1);
  });
  test('Complex Test', async () => {
    const repository = new _RepositoryLocalPure.RepositoryLocalPure();
    const changedScores = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _Claim.Claim("Top Claim", "topTestClaim"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Child Claim 1", "ChildClaim1"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Child Claim 2", "ChildClaim2"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Grandchild Claim 1", "grandChild1"), u, "add_claim"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim1", u, false, "ChildClaim1Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim2", u, true, "ChildClaim2Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("ChildClaim1", "grandChild1", u, false, "GrandChildClaim1Edge"), u, "add_claimEdge"), new _Action.Action(new _ScoreTree.ScoreTree("topTestClaim", "testTopScore", u, "testScoreTree"), undefined, "add_scoreTree")],
      repository: repository
    });
    expect(repository.rsData.items["testTopScore"].confidence).toEqual(1);
    expect(repository.rsData.scoreIdsBySourceId["topTestClaim"].length).toEqual(1); //Weird score not changing

    const ChildClaim1ScoresInitial = await repository.getScoresBySourceId("ChildClaim1");
    expect(ChildClaim1ScoresInitial[0].pro).toEqual(false);
    const changedScores2 = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [{
        "newData": {
          "content": "Child Claim 1",
          "id": "ChildClaim1",
          "reversible": false,
          "type": "claim"
        },
        "type": "modify_claim",
        "dataId": "ChildClaim1"
      }, {
        "newData": {
          "parentId": "topTestClaim",
          "childId": "ChildClaim1",
          "affects": "confidence",
          "pro": true,
          "id": "ChildClaim1Edge",
          "priority": "",
          "type": "claimEdge"
        },
        "type": "modify_claimEdge",
        "dataId": "ChildClaim1Edge"
      }],
      repository: repository
    });
    const ChildClaim1Scores = await repository.getScoresBySourceId("ChildClaim1");
    expect(ChildClaim1Scores[0].pro).toEqual(true);
  });
  test('Partial Claim Edge Grandchild Update', async () => {
    var _await$repository$get3, _await$repository$get4, _await$repository$get5;

    const repository = new _RepositoryLocalPure.RepositoryLocalPure();
    const changedScores = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _Claim.Claim("Top Claim", "topTestClaim"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Child Claim 1", "ChildClaim1"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Child Claim 2", "ChildClaim2"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Grandchild Claim 1", "grandChild1"), u, "add_claim"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim1", u, false, "ChildClaim1Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim2", u, true, "ChildClaim2Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("ChildClaim1", "grandChild1", u, false, "GrandChildClaim1Edge"), u, "add_claimEdge"), new _Action.Action(new _ScoreTree.ScoreTree("topTestClaim", "testTopScore", u, "testScoreTree"), undefined, "add_scoreTree")],
      repository: repository
    }); //await repository.notify(changedScores);

    expect((_await$repository$get3 = await repository.getScore("testTopScore")) === null || _await$repository$get3 === void 0 ? void 0 : _await$repository$get3.confidence).toEqual(1);
    expect(repository.rsData.scoreIdsBySourceId["topTestClaim"].length).toEqual(1);
    const result = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim2", u, false, "ChildClaim2Edge"), u, "modify_claimEdge")],
      repository: repository
    });
    await repository.notify(result);
    expect((_await$repository$get4 = await repository.getScore("testTopScore")) === null || _await$repository$get4 === void 0 ? void 0 : _await$repository$get4.confidence).toEqual(-1);
    const result2 = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action({
        pro: true
      }, u, "modify_claimEdge", "ChildClaim2Edge") //new Action(new ClaimEdge("topTestClaim", "ChildClaim2", u, true, "ChildClaim2Edge"), u, "modify_claimEdge"),
      ],
      repository: repository
    });
    await repository.notify(result2);
    expect((_await$repository$get5 = await repository.getScore("testTopScore")) === null || _await$repository$get5 === void 0 ? void 0 : _await$repository$get5.confidence).toEqual(1);
  });
  test('Partial Claim Edge Child Update', async () => {
    var _await$repository$get6, _await$repository$get7, _await$repository$get8;

    const repository = new _RepositoryLocalPure.RepositoryLocalPure();
    const changedScores = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _Claim.Claim("Top Claim", "topTestClaim"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Child Claim 1", "ChildClaim1"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Child Claim 2", "ChildClaim2"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Grandchild Claim 1", "grandChild1"), u, "add_claim"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim1", u, false, "ChildClaim1Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim2", u, true, "ChildClaim2Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("ChildClaim1", "grandChild1", u, false, "GrandChildClaim1Edge"), u, "add_claimEdge"), new _Action.Action(new _ScoreTree.ScoreTree("topTestClaim", "testTopScore", u, "testScoreTree"), undefined, "add_scoreTree")],
      repository: repository
    }); //await repository.notify(changedScores);

    expect((_await$repository$get6 = await repository.getScore("testTopScore")) === null || _await$repository$get6 === void 0 ? void 0 : _await$repository$get6.confidence).toEqual(1);
    const result = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action({
        pro: false
      }, u, "modify_claimEdge", "ChildClaim2Edge") //new Action(new ClaimEdge("topTestClaim", "ChildClaim2", u, false, "ChildClaim2Edge"), u, "modify_claimEdge"),
      ],
      repository: repository
    }); //await repository.notify(result);

    expect((_await$repository$get7 = await repository.getScore("testTopScore")) === null || _await$repository$get7 === void 0 ? void 0 : _await$repository$get7.confidence).toEqual(-1);
    const result2 = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action({
        pro: true
      }, u, "modify_claimEdge", "ChildClaim2Edge") //new Action(new ClaimEdge("topTestClaim", "ChildClaim2", u, true, "ChildClaim2Edge"), u, "modify_claimEdge"),
      ],
      repository: repository
    });
    expect((_await$repository$get8 = await repository.getScore("testTopScore")) === null || _await$repository$get8 === void 0 ? void 0 : _await$repository$get8.confidence).toEqual(1);
  });
  test('Deleting an edge should reverses the top score', async () => {
    var _await$repository$get9, _await$repository$get10;

    const repository = new _RepositoryLocalPure.RepositoryLocalPure();
    await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _Claim.Claim("", "topTestClaim"), undefined, "add_claim"), new _Action.Action(new _Claim.Claim("", "ChildClaim1"), undefined, "add_claim"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim1", undefined, false, "ChildClaim1Edge"), undefined, "add_claimEdge"), new _Action.Action(new _ScoreTree.ScoreTree("topTestClaim", "testTopScore", u, "testScoreTree"), undefined, "add_scoreTree")],
      repository: repository
    });
    expect((_await$repository$get9 = await repository.getScore("testTopScore")) === null || _await$repository$get9 === void 0 ? void 0 : _await$repository$get9.confidence).toEqual(-1);
    await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(u, {
        parentId: "topTestClaim"
      }, "delete_claimEdge", "ChildClaim1Edge")],
      repository: repository
    });
    expect((_await$repository$get10 = await repository.getScore("testTopScore")) === null || _await$repository$get10 === void 0 ? void 0 : _await$repository$get10.confidence).toEqual(1);
  });
  test('Multi level relevance delete test', async () => {
    var _await$repository$get11, _await$repository$get12;

    const repository = new _RepositoryLocalPure.RepositoryLocalPure();
    const pro = true;
    const con = false;
    const topClaim = new _Claim.Claim("Should Fiction City convert Elm Street to only pedestrian traffic?", "topTestClaim");
    const Claim1_0 = new _Claim.Claim("The planning commission estimates this will increase foot traffic to local shops by 12% during peak hours.", "Claim1_0");
    const Claim1_1 = new _Claim.Claim("The increase in revenue is expected to pay off the expense in under 2 years meeting the cities investment requirements.", "Claim1_1");
    const Claim2_0 = new _Claim.Claim("This will result in traffic being diverted down residential streets.");
    const Claim2_1 = new _Claim.Claim("Children safety is more important than profit for local shops.");
    const Claim2_2 = new _Claim.Claim("A set of railroad tracks are no longer in use and the City can convert that to a new street.");
    const Claim3_0 = new _Claim.Claim("The conversion will cost 2 Million dollars.");
    const ClaimEdge1_0 = new _ClaimEdge.ClaimEdge(topClaim.id, Claim1_0.id, u, pro, "ClaimEdge1_0");
    const ClaimEdge1_1 = new _ClaimEdge.ClaimEdge(Claim1_0.id, Claim1_1.id, "relevance", pro, "ClaimEdge1_1");
    const actions = [new _Action.Action(topClaim, u, "add_claim"), new _Action.Action(Claim1_0, u, "add_claim"), new _Action.Action(Claim1_1, u, "add_claim"), new _Action.Action(Claim2_0, u, "add_claim"), new _Action.Action(Claim2_1, u, "add_claim"), new _Action.Action(Claim2_2, u, "add_claim"), new _Action.Action(Claim3_0, u, "add_claim"), new _Action.Action(ClaimEdge1_0, u, "add_claimEdge"), new _Action.Action(ClaimEdge1_1, u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge(topClaim.id, Claim2_0.id, u, con), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge(Claim2_0.id, Claim2_1.id, "relevance", con), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge(Claim2_0.id, Claim2_2.id, u, con), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge(topClaim.id, Claim3_0.id, u, con), u, "add_claimEdge"), new _Action.Action(new _Score.Score(topClaim.id, topClaim.id, u, u, u, u, u, 0, u, "testTopScore"), u, "add_score"), new _Action.Action(new _ScoreTree.ScoreTree("topTestClaim", "testTopScore", u, "testScoreTree"), undefined, "add_scoreTree")];
    await (0, _calculateScoreActions.calculateScoreActions)({
      actions: actions,
      repository: repository
    });
    expect((_await$repository$get11 = await repository.getScore("testTopScore")) === null || _await$repository$get11 === void 0 ? void 0 : _await$repository$get11.confidence).toEqual(0.3333333333333333);
    const result = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(undefined, ClaimEdge1_1, "delete_claimEdge", ClaimEdge1_1.id)],
      repository: repository
    });
    expect((_await$repository$get12 = await repository.getScore("testTopScore")) === null || _await$repository$get12 === void 0 ? void 0 : _await$repository$get12.confidence).toEqual(0);
  });
  test('Relevance test', async () => {
    const repository = new _RepositoryLocalPure.RepositoryLocalPure();
    let result;
    await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _Claim.Claim("Top Claim", "topTestClaim"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Child Claim 1", "ChildClaim1"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Child Claim 2", "ChildClaim2"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Grandchild Claim 1", "grandChild1"), u, "add_claim"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim1", u, pro, "ChildClaim1Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim2", u, con, "ChildClaim2Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("ChildClaim1", "grandChild1", "relevance", pro, "GrandChildClaim1Edge"), u, "add_claimEdge"), new _Action.Action(new _ScoreTree.ScoreTree("topTestClaim", "testTopScore", u, "testScoreTree"), undefined, "add_scoreTree")],
      repository: repository
    });
    let results, expectations; // Check descendantCount

    results = [];
    expectations = [["topTestClaim.confidence", 0.3333333333333333], ["grandChild1.affects", "relevance"]];

    for (const expectation of expectations) {
      const source = expectation[0].split(".");
      const tempResult = await repository.getScoresBySourceId(source[0]);
      results.push([expectation[0], tempResult[0][source[1]]]);
    }

    expect(results).toMatchObject(expectations);
  });
  test('Descendant Count Tests', async () => {
    const repository = new _RepositoryLocalPure.RepositoryLocalPure();
    let result;
    await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _Claim.Claim("Top Claim", "topTestClaim"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Child Claim 1", "ChildClaim1"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Child Claim 2", "ChildClaim2"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Child Claim 3", "ChildClaim3"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Grandchild Claim 1", "grandChild1"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Grandchild Claim 2", "grandChild2"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Grandchild Claim 3", "grandChild3"), u, "add_claim"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim1", u, pro, "ChildClaim1Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim2", u, pro, "ChildClaim2Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim3", u, con, "ChildClaim3Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("ChildClaim1", "grandChild1", u, pro, "GrandChildClaim1Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("ChildClaim1", "grandChild2", u, pro, "GrandChildClaim2Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("ChildClaim1", "grandChild3", u, con, "GrandChildClaim3Edge"), u, "add_claimEdge"), new _Action.Action(new _ScoreTree.ScoreTree("topTestClaim", "testTopScore", u, "testScoreTree"), undefined, "add_scoreTree")],
      repository: repository
    });
    expect(repository.rsData.items["testScoreTree"].descendantCount).toEqual(6);
    let results, expectations;
    results = [];
    expectations = [["topTestClaim.descendantCount", 6], ["ChildClaim1.descendantCount", 3], ["ChildClaim2.descendantCount", 0]];

    for (const expectation of expectations) {
      const source = expectation[0].split(".");
      const tempResult = await repository.getScoresBySourceId(source[0]);
      results.push([expectation[0], tempResult[0][source[1]]]);
    }

    expect(results).toMatchObject(expectations);
  });
  test('Generation Count Tests', async () => {
    const repository = new _RepositoryLocalPure.RepositoryLocalPure();
    let result;
    await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _Claim.Claim("Top Claim", "topTestClaim"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Child Claim 1", "ChildClaim1"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Child Claim 2", "ChildClaim2"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Child Claim 3", "ChildClaim3"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Grandchild Claim 1", "grandChild1"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Grandchild Claim 2", "grandChild2"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Grandchild Claim 3", "grandChild3"), u, "add_claim"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim1", u, pro, "ChildClaim1Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim2", u, pro, "ChildClaim2Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim3", u, con, "ChildClaim3Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("ChildClaim1", "grandChild1", u, pro, "GrandChildClaim1Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("ChildClaim1", "grandChild2", u, pro, "GrandChildClaim2Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("ChildClaim1", "grandChild3", u, con, "GrandChildClaim3Edge"), u, "add_claimEdge"), new _Action.Action(new _ScoreTree.ScoreTree("topTestClaim", "testTopScore", u, "testScoreTree"), undefined, "add_scoreTree")],
      repository: repository
    });
    expect(repository.rsData.items["testScoreTree"].descendantCount).toEqual(6);
    let results, expectations;
    results = [];
    expectations = [["topTestClaim.generation", 0], ["ChildClaim1.generation", 1], ["ChildClaim2.generation", 1], ["grandChild1.generation", 2], ["grandChild2.generation", 2]];

    for (const expectation of expectations) {
      const source = expectation[0].split(".");
      const tempResult = await repository.getScoresBySourceId(source[0]);
      results.push([expectation[0], tempResult[0][source[1]]]);
    }

    expect(results).toMatchObject(expectations);
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy90ZXN0cy9jYWxjdWxhdGVTY29yZUFjdGlvbnNUZXN0cy50cyJdLCJuYW1lcyI6WyJjYWxjdWxhdGVTY29yZUFjdGlvblRlc3RzIiwidSIsInVuZGVmaW5lZCIsInBybyIsImNvbiIsInRlc3QiLCJyZXBvc2l0b3J5IiwiUmVwb3NpdG9yeUxvY2FsUHVyZSIsInJlc3VsdCIsImFjdGlvbnMiLCJBY3Rpb24iLCJDbGFpbSIsIlNjb3JlVHJlZSIsImNhbGN1bGF0b3IiLCJjYWxjdWxhdGVTY29yZSIsImV4cGVjdCIsInJzRGF0YSIsInNjb3JlSWRzQnlTb3VyY2VJZCIsImxlbmd0aCIsInRvRXF1YWwiLCJ0ZW1wIiwiQ2xhaW1FZGdlIiwiZ2V0U2NvcmUiLCJjb25maWRlbmNlIiwiZ2V0U2NvcmVzQnlTb3VyY2VJZCIsImNoYW5nZWRTY29yZXMiLCJpdGVtcyIsIkNoaWxkQ2xhaW0xU2NvcmVzSW5pdGlhbCIsImNoYW5nZWRTY29yZXMyIiwiQ2hpbGRDbGFpbTFTY29yZXMiLCJub3RpZnkiLCJyZXN1bHQyIiwicGFyZW50SWQiLCJ0b3BDbGFpbSIsIkNsYWltMV8wIiwiQ2xhaW0xXzEiLCJDbGFpbTJfMCIsIkNsYWltMl8xIiwiQ2xhaW0yXzIiLCJDbGFpbTNfMCIsIkNsYWltRWRnZTFfMCIsImlkIiwiQ2xhaW1FZGdlMV8xIiwiU2NvcmUiLCJyZXN1bHRzIiwiZXhwZWN0YXRpb25zIiwiZXhwZWN0YXRpb24iLCJzb3VyY2UiLCJzcGxpdCIsInRlbXBSZXN1bHQiLCJwdXNoIiwidG9NYXRjaE9iamVjdCIsImRlc2NlbmRhbnRDb3VudCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUVPLFNBQVNBLHlCQUFULEdBQXFDO0FBQzFDLFFBQU1DLENBQUMsR0FBR0MsU0FBVjtBQUFBLFFBQXFCQyxHQUFHLEdBQUcsSUFBM0I7QUFBQSxRQUFpQ0MsR0FBRyxHQUFHLEtB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QTFCO0FBQ0FILE1BQUFBLE9BQU8sQ0FBQ00sSUFBUixDQUFhLENBQ1hKLFdBQVcsQ0FBQyxDQUFELENBREEsRUFFVkcsVUFBVSxDQUFDLENBQUQsQ0FBWCxDQUFnQkYsTUFBTSxDQUFDLENBQUQsQ0FBdEIsQ0FGVyxDQUFiO0FBSUQ7O0FBQ0RoQyxJQUFBQSxNQUFNLENBQUM2QixPQUFELENBQU4sQ0FBZ0JPLGFBQWhCLENBQThCTixZQUE5QjtBQUNELEdBM0NHLENBQUo7QUE0Q0QiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZXBvc2l0b3J5TG9jYWxQdXJlIH0gZnJvbSBcIi4uL3JlcG9zaXRvcmllcy9SZXBvc2l0b3J5TG9jYWxQdXJlXCI7XHJcbmltcG9ydCB7IGNhbGN1bGF0ZVNjb3JlQWN0aW9ucyB9IGZyb20gXCIuLi9jYWxjdWxhdGVTY29yZUFjdGlvbnNcIjtcclxuaW1wb3J0IHsgY2FsY3VsYXRlU2NvcmUgfSBmcm9tIFwiLi4vY2FsY3VsYXRlU2NvcmVcIjtcclxuaW1wb3J0IHsgQ2xhaW0gfSBmcm9tIFwiLi4vZGF0YU1vZGVscy9DbGFpbVwiO1xyXG5pbXBvcnQgeyBBY3Rpb24gfSBmcm9tIFwiLi4vZGF0YU1vZGVscy9BY3Rpb25cIjtcclxuaW1wb3J0IHsgQ2xhaW1FZGdlIH0gZnJvbSBcIi4uL2RhdGFNb2RlbHMvQ2xhaW1FZGdlXCI7XHJcbmltcG9ydCB7IFNjb3JlIH0gZnJvbSBcIi4uL2RhdGFNb2RlbHMvU2NvcmVcIjtcclxuaW1wb3J0IHsgU2NvcmVUcmVlIH0gZnJvbSBcIi4uL2RhdGFNb2RlbHMvU2NvcmVUcmVlXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlU2NvcmVBY3Rpb25UZXN0cygpIHtcclxuICBjb25zdCB1ID0gdW5kZWZpbmVkLCBwcm8gPSB0cnVlLCBjb24gPSBmYWxzZVxyXG5cclxuICB0ZXN0KCdhZGQgYSBuZXcgc2NvcmV0cmVlJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgcmVwb3NpdG9yeSA9IG5ldyBSZXBvc2l0b3J5TG9jYWxQdXJlKCk7XHJcbiAgICAvLyBBZGQgYSBuZXcgY2xhaW0gYW5kIHNldCBpdCBhcyBhIHNjb3JlIHRyZWUgdG9wXHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjYWxjdWxhdGVTY29yZUFjdGlvbnMoe1xyXG4gICAgICBhY3Rpb25zOiBbXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW0oXCJcIiwgXCJ0b3BUZXN0Q2xhaW1cIiksIHVuZGVmaW5lZCwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgU2NvcmVUcmVlKFwidG9wVGVzdENsYWltXCIsIFwidGVzdFRvcFNjb3JlXCIsIHUsIFwidGVzdFNjb3JlVHJlZVwiKSwgdW5kZWZpbmVkLCBcImFkZF9zY29yZVRyZWVcIiksXHJcbiAgICAgIF0sXHJcbiAgICAgIHJlcG9zaXRvcnk6IHJlcG9zaXRvcnksXHJcbiAgICAgIGNhbGN1bGF0b3I6IGNhbGN1bGF0ZVNjb3JlXHJcbiAgICB9KVxyXG4gICAgdmFyIHRlc3QgPSBuZXcgQWN0aW9uKG5ldyBTY29yZVRyZWUoXCJ0b3BUZXN0Q2xhaW1cIiwgXCJ0ZXN0VG9wU2NvcmVcIiwgdSwgXCJ0ZXN0U2NvcmVUcmVlXCIpLCB1bmRlZmluZWQsIFwiYWRkX3Njb3JlVHJlZVwiKTtcclxuICAgIGV4cGVjdChyZXBvc2l0b3J5LnJzRGF0YS5zY29yZUlkc0J5U291cmNlSWRbXCJ0b3BUZXN0Q2xhaW1cIl0ubGVuZ3RoKS50b0VxdWFsKDEpXHJcbiAgfSk7XHJcblxyXG4gIHRlc3QoJ0FkZCBhIGNoaWxkIHRoYXQgZG9lcyBub3QgY2hhbmdlIHRoZSB0b3Agc2NvcmUnLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCByZXBvc2l0b3J5ID0gbmV3IFJlcG9zaXRvcnlMb2NhbFB1cmUoKTtcclxuICAgIGNvbnN0IHRlbXAgPSBhd2FpdCBjYWxjdWxhdGVTY29yZUFjdGlvbnMoe1xyXG4gICAgICBhY3Rpb25zOiBbXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW0oXCJcIiwgXCJ0b3BUZXN0Q2xhaW1cIiksIHVuZGVmaW5lZCwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW0oXCJcIiwgXCJDaGlsZENsYWltMVwiKSwgdW5kZWZpbmVkLCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBTY29yZVRyZWUoXCJ0b3BUZXN0Q2xhaW1cIiwgXCJ0ZXN0VG9wU2NvcmVcIiwgdSwgXCJ0ZXN0U2NvcmVUcmVlXCIpLCB1bmRlZmluZWQsIFwiYWRkX3Njb3JlVHJlZVwiKSxcclxuICAgICAgXSxcclxuICAgICAgcmVwb3NpdG9yeTogcmVwb3NpdG9yeVxyXG4gICAgfSlcclxuXHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjYWxjdWxhdGVTY29yZUFjdGlvbnMoe1xyXG4gICAgICBhY3Rpb25zOiBbXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW1FZGdlKFwidG9wVGVzdENsYWltXCIsIFwiQ2hpbGRDbGFpbTFcIiwgdSwgdSwgdSwgXCJQcmlvcml0eSBTZXRcIiksIHVuZGVmaW5lZCwgXCJhZGRfY2xhaW1FZGdlXCIpXHJcbiAgICAgIF0sXHJcbiAgICAgIHJlcG9zaXRvcnk6IHJlcG9zaXRvcnlcclxuICAgIH0pXHJcbiAgICBleHBlY3QoKGF3YWl0IHJlcG9zaXRvcnkuZ2V0U2NvcmUoXCJ0ZXN0VG9wU2NvcmVcIikpPy5jb25maWRlbmNlKS50b0VxdWFsKDEpO1xyXG4gIH0pO1xyXG5cclxuICB0ZXN0KCdDaGFuZ2luZyBhIGNoaWxkIHBybyB2YWx1ZSBzaG91bGQgY2hhbmdlIHRoZSB0b3Agc2NvcmUnLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCByZXBvc2l0b3J5ID0gbmV3IFJlcG9zaXRvcnlMb2NhbFB1cmUoKTtcclxuICAgIGNvbnN0IHRlbXAgPSBhd2FpdCBjYWxjdWxhdGVTY29yZUFjdGlvbnMoe1xyXG4gICAgICBhY3Rpb25zOiBbXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW0oXCJcIiwgXCJ0b3BUZXN0Q2xhaW1cIiksIHUsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IFNjb3JlVHJlZShcInRvcFRlc3RDbGFpbVwiLCBcInRlc3RUb3BTY29yZVwiLCB1LCBcInRlc3RTY29yZVRyZWVcIiksIHVuZGVmaW5lZCwgXCJhZGRfc2NvcmVUcmVlXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltKFwiXCIsIFwiQ2hpbGRDbGFpbTFcIiksIHUsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltRWRnZShcInRvcFRlc3RDbGFpbVwiLCBcIkNoaWxkQ2xhaW0xXCIsIHUsIHRydWUsIFwiQ2hpbGRDbGFpbTFFZGdlXCIpLCB1LCBcImFkZF9jbGFpbUVkZ2VcIilcclxuICAgICAgXSxcclxuICAgICAgcmVwb3NpdG9yeTogcmVwb3NpdG9yeVxyXG4gICAgfSlcclxuXHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjYWxjdWxhdGVTY29yZUFjdGlvbnMoe1xyXG4gICAgICBhY3Rpb25zOiBbXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW1FZGdlKFwidG9wVGVzdENsYWltXCIsIFwiQ2hpbGRDbGFpbTFcIiwgdSwgZmFsc2UsIFwiQ2hpbGRDbGFpbTFFZGdlXCIpLCB1LCBcIm1vZGlmeV9jbGFpbUVkZ2VcIilcclxuICAgICAgXSxcclxuICAgICAgcmVwb3NpdG9yeTogcmVwb3NpdG9yeVxyXG4gICAgfSlcclxuXHJcbiAgICBleHBlY3QoKGF3YWl0IHJlcG9zaXRvcnkuZ2V0U2NvcmVzQnlTb3VyY2VJZChcInRvcFRlc3RDbGFpbVwiKSlbMF0uY29uZmlkZW5jZSkudG9FcXVhbCgtMSk7XHJcbiAgfSk7XHJcblxyXG4gIHRlc3QoJ0FkZCBhIGNoaWxkIHRoYXQgcmV2ZXJzZXMgdGhlIHRvcCBzY29yZScsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHJlcG9zaXRvcnkgPSBuZXcgUmVwb3NpdG9yeUxvY2FsUHVyZSgpO1xyXG4gICAgY29uc3QgdGVtcCA9IGF3YWl0IGNhbGN1bGF0ZVNjb3JlQWN0aW9ucyh7XHJcbiAgICAgIGFjdGlvbnM6IFtcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbShcIlwiLCBcInRvcFRlc3RDbGFpbVwiKSwgdSwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgU2NvcmVUcmVlKFwidG9wVGVzdENsYWltXCIsIFwidGVzdFRvcFNjb3JlXCIsIHUsIFwidGVzdFNjb3JlVHJlZVwiKSwgdSwgXCJhZGRfc2NvcmVUcmVlXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltKFwiXCIsIFwiQ2hpbGRDbGFpbTFcIiksIHUsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICBdLFxyXG4gICAgICByZXBvc2l0b3J5OiByZXBvc2l0b3J5XHJcbiAgICB9KVxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2FsY3VsYXRlU2NvcmVBY3Rpb25zKHtcclxuICAgICAgYWN0aW9uczogW1xyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltRWRnZShcInRvcFRlc3RDbGFpbVwiLCBcIkNoaWxkQ2xhaW0xXCIsIHUsIGZhbHNlLCBcIkNoaWxkQ2xhaW0xRWRnZVwiKSwgdSwgXCJhZGRfY2xhaW1FZGdlXCIpXHJcbiAgICAgIF0sXHJcbiAgICAgIHJlcG9zaXRvcnk6IHJlcG9zaXRvcnksXHJcbiAgICAgIGNhbGN1bGF0b3I6IGNhbGN1bGF0ZVNjb3JlXHJcbiAgICB9KVxyXG5cclxuICAgIGV4cGVjdCgoYXdhaXQgcmVwb3NpdG9yeS5nZXRTY29yZXNCeVNvdXJjZUlkKFwidG9wVGVzdENsYWltXCIpKVswXS5jb25maWRlbmNlKS50b0VxdWFsKC0xKTtcclxuICB9KTtcclxuXHJcbiAgdGVzdCgnQWRkaW5nIGEgZ3JhbmRjaGlsZCBzY29yZSBSZXZlcnNlcyBTY29yZXMgMiBsZXZlbHMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCByZXBvc2l0b3J5ID0gbmV3IFJlcG9zaXRvcnlMb2NhbFB1cmUoKTtcclxuICAgIGNvbnN0IHRlbXAgPSBhd2FpdCBjYWxjdWxhdGVTY29yZUFjdGlvbnMoe1xyXG4gICAgICBhY3Rpb25zOiBbXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW0oXCJcIiwgXCJ0b3BUZXN0Q2xhaW1cIiksIHVuZGVmaW5lZCwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgU2NvcmVUcmVlKFwidG9wVGVzdENsYWltXCIsIFwidGVzdFRvcFNjb3JlXCIsIHUsIFwidGVzdFNjb3JlVHJlZVwiKSwgdW5kZWZpbmVkLCBcImFkZF9zY29yZVRyZWVcIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW0oXCJcIiwgXCJDaGlsZENsYWltMVwiKSwgdW5kZWZpbmVkLCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbShcIlwiLCBcIkNoaWxkQ2xhaW0yXCIpLCB1bmRlZmluZWQsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltRWRnZShcInRvcFRlc3RDbGFpbVwiLCBcIkNoaWxkQ2xhaW0xXCIsIHVuZGVmaW5lZCwgZmFsc2UsIFwiQ2hpbGRDbGFpbTFFZGdlXCIpLCB1bmRlZmluZWQsIFwiYWRkX2NsYWltRWRnZVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbUVkZ2UoXCJ0b3BUZXN0Q2xhaW1cIiwgXCJDaGlsZENsYWltMlwiLCB1bmRlZmluZWQsIHRydWUsIFwiQ2hpbGRDbGFpbTJFZGdlXCIpLCB1bmRlZmluZWQsIFwiYWRkX2NsYWltRWRnZVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbShcIlwiLCBcImdyYW5kQ2hpbGQxXCIpLCB1bmRlZmluZWQsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICBdLFxyXG4gICAgICByZXBvc2l0b3J5OiByZXBvc2l0b3J5XHJcbiAgICB9KVxyXG5cclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNhbGN1bGF0ZVNjb3JlQWN0aW9ucyh7XHJcbiAgICAgIGFjdGlvbnM6IFtcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbUVkZ2UoXCJDaGlsZENsYWltMVwiLCBcImdyYW5kQ2hpbGQxXCIsIHVuZGVmaW5lZCwgZmFsc2UsIFwiR3JhbmRDaGlsZENsYWltMUVkZ2VcIiksIHVuZGVmaW5lZCwgXCJhZGRfY2xhaW1FZGdlXCIpXHJcbiAgICAgIF0sXHJcbiAgICAgIHJlcG9zaXRvcnk6IHJlcG9zaXRvcnksXHJcbiAgICAgIGNhbGN1bGF0b3I6IGNhbGN1bGF0ZVNjb3JlXHJcbiAgICB9KVxyXG5cclxuICAgIGV4cGVjdCgoYXdhaXQgcmVwb3NpdG9yeS5nZXRTY29yZShcInRlc3RUb3BTY29yZVwiKSk/LmNvbmZpZGVuY2UpLnRvRXF1YWwoMSk7XHJcblxyXG4gIH0pO1xyXG5cclxuICB0ZXN0KCdDb21wbGV4IFRlc3QnLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCByZXBvc2l0b3J5ID0gbmV3IFJlcG9zaXRvcnlMb2NhbFB1cmUoKTtcclxuICAgIGNvbnN0IGNoYW5nZWRTY29yZXMgPSBhd2FpdCBjYWxjdWxhdGVTY29yZUFjdGlvbnMoe1xyXG4gICAgICBhY3Rpb25zOiBbXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW0oXCJUb3AgQ2xhaW1cIiwgXCJ0b3BUZXN0Q2xhaW1cIiksIHUsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltKFwiQ2hpbGQgQ2xhaW0gMVwiLCBcIkNoaWxkQ2xhaW0xXCIpLCB1LCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbShcIkNoaWxkIENsYWltIDJcIiwgXCJDaGlsZENsYWltMlwiKSwgdSwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW0oXCJHcmFuZGNoaWxkIENsYWltIDFcIiwgXCJncmFuZENoaWxkMVwiKSwgdSwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW1FZGdlKFwidG9wVGVzdENsYWltXCIsIFwiQ2hpbGRDbGFpbTFcIiwgdSwgZmFsc2UsIFwiQ2hpbGRDbGFpbTFFZGdlXCIpLCB1LCBcImFkZF9jbGFpbUVkZ2VcIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW1FZGdlKFwidG9wVGVzdENsYWltXCIsIFwiQ2hpbGRDbGFpbTJcIiwgdSwgdHJ1ZSwgXCJDaGlsZENsYWltMkVkZ2VcIiksIHUsIFwiYWRkX2NsYWltRWRnZVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbUVkZ2UoXCJDaGlsZENsYWltMVwiLCBcImdyYW5kQ2hpbGQxXCIsIHUsIGZhbHNlLCBcIkdyYW5kQ2hpbGRDbGFpbTFFZGdlXCIpLCB1LCBcImFkZF9jbGFpbUVkZ2VcIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgU2NvcmVUcmVlKFwidG9wVGVzdENsYWltXCIsIFwidGVzdFRvcFNjb3JlXCIsIHUsIFwidGVzdFNjb3JlVHJlZVwiKSwgdW5kZWZpbmVkLCBcImFkZF9zY29yZVRyZWVcIiksXHJcbiAgICAgIF0sXHJcbiAgICAgIHJlcG9zaXRvcnk6IHJlcG9zaXRvcnlcclxuICAgIH0pXHJcblxyXG4gICAgZXhwZWN0KChyZXBvc2l0b3J5LnJzRGF0YS5pdGVtc1tcInRlc3RUb3BTY29yZVwiXSBhcyBTY29yZSkuY29uZmlkZW5jZSkudG9FcXVhbCgxKTtcclxuICAgIGV4cGVjdChyZXBvc2l0b3J5LnJzRGF0YS5zY29yZUlkc0J5U291cmNlSWRbXCJ0b3BUZXN0Q2xhaW1cIl0ubGVuZ3RoKS50b0VxdWFsKDEpO1xyXG5cclxuICAgIC8vV2VpcmQgc2NvcmUgbm90IGNoYW5naW5nXHJcbiAgICBjb25zdCBDaGlsZENsYWltMVNjb3Jlc0luaXRpYWwgPSBhd2FpdCByZXBvc2l0b3J5LmdldFNjb3Jlc0J5U291cmNlSWQoXCJDaGlsZENsYWltMVwiKVxyXG4gICAgZXhwZWN0KENoaWxkQ2xhaW0xU2NvcmVzSW5pdGlhbFswXS5wcm8pLnRvRXF1YWwoZmFsc2UpO1xyXG5cclxuICAgIGNvbnN0IGNoYW5nZWRTY29yZXMyID0gYXdhaXQgY2FsY3VsYXRlU2NvcmVBY3Rpb25zKHtcclxuICAgICAgYWN0aW9uczogW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIFwibmV3RGF0YVwiOiB7XHJcbiAgICAgICAgICAgIFwiY29udGVudFwiOiBcIkNoaWxkIENsYWltIDFcIixcclxuICAgICAgICAgICAgXCJpZFwiOiBcIkNoaWxkQ2xhaW0xXCIsXHJcbiAgICAgICAgICAgIFwicmV2ZXJzaWJsZVwiOiBmYWxzZSxcclxuICAgICAgICAgICAgXCJ0eXBlXCI6IFwiY2xhaW1cIlxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIFwidHlwZVwiOiBcIm1vZGlmeV9jbGFpbVwiLFxyXG4gICAgICAgICAgXCJkYXRhSWRcIjogXCJDaGlsZENsYWltMVwiXHJcbiAgICAgICAgfSBhcyBBY3Rpb24sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgXCJuZXdEYXRhXCI6IHtcclxuICAgICAgICAgICAgXCJwYXJlbnRJZFwiOiBcInRvcFRlc3RDbGFpbVwiLFxyXG4gICAgICAgICAgICBcImNoaWxkSWRcIjogXCJDaGlsZENsYWltMVwiLFxyXG4gICAgICAgICAgICBcImFmZmVjdHNcIjogXCJjb25maWRlbmNlXCIsXHJcbiAgICAgICAgICAgIFwicHJvXCI6IHRydWUsXHJcbiAgICAgICAgICAgIFwiaWRcIjogXCJDaGlsZENsYWltMUVkZ2VcIixcclxuICAgICAgICAgICAgXCJwcmlvcml0eVwiOiBcIlwiLFxyXG4gICAgICAgICAgICBcInR5cGVcIjogXCJjbGFpbUVkZ2VcIlxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIFwidHlwZVwiOiBcIm1vZGlmeV9jbGFpbUVkZ2VcIixcclxuICAgICAgICAgIFwiZGF0YUlkXCI6IFwiQ2hpbGRDbGFpbTFFZGdlXCJcclxuICAgICAgICB9IGFzIEFjdGlvblxyXG4gICAgICBdLFxyXG4gICAgICByZXBvc2l0b3J5OiByZXBvc2l0b3J5XHJcbiAgICB9KVxyXG5cclxuICAgIGNvbnN0IENoaWxkQ2xhaW0xU2NvcmVzID0gYXdhaXQgcmVwb3NpdG9yeS5nZXRTY29yZXNCeVNvdXJjZUlkKFwiQ2hpbGRDbGFpbTFcIilcclxuICAgIGV4cGVjdChDaGlsZENsYWltMVNjb3Jlc1swXS5wcm8pLnRvRXF1YWwodHJ1ZSk7XHJcbiAgfSk7XHJcblxyXG4gIHRlc3QoJ1BhcnRpYWwgQ2xhaW0gRWRnZSBHcmFuZGNoaWxkIFVwZGF0ZScsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHJlcG9zaXRvcnkgPSBuZXcgUmVwb3NpdG9yeUxvY2FsUHVyZSgpO1xyXG4gICAgY29uc3QgY2hhbmdlZFNjb3JlcyA9IGF3YWl0IGNhbGN1bGF0ZVNjb3JlQWN0aW9ucyh7XHJcbiAgICAgIGFjdGlvbnM6IFtcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbShcIlRvcCBDbGFpbVwiLCBcInRvcFRlc3RDbGFpbVwiKSwgdSwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW0oXCJDaGlsZCBDbGFpbSAxXCIsIFwiQ2hpbGRDbGFpbTFcIiksIHUsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltKFwiQ2hpbGQgQ2xhaW0gMlwiLCBcIkNoaWxkQ2xhaW0yXCIpLCB1LCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbShcIkdyYW5kY2hpbGQgQ2xhaW0gMVwiLCBcImdyYW5kQ2hpbGQxXCIpLCB1LCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbUVkZ2UoXCJ0b3BUZXN0Q2xhaW1cIiwgXCJDaGlsZENsYWltMVwiLCB1LCBmYWxzZSwgXCJDaGlsZENsYWltMUVkZ2VcIiksIHUsIFwiYWRkX2NsYWltRWRnZVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbUVkZ2UoXCJ0b3BUZXN0Q2xhaW1cIiwgXCJDaGlsZENsYWltMlwiLCB1LCB0cnVlLCBcIkNoaWxkQ2xhaW0yRWRnZVwiKSwgdSwgXCJhZGRfY2xhaW1FZGdlXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltRWRnZShcIkNoaWxkQ2xhaW0xXCIsIFwiZ3JhbmRDaGlsZDFcIiwgdSwgZmFsc2UsIFwiR3JhbmRDaGlsZENsYWltMUVkZ2VcIiksIHUsIFwiYWRkX2NsYWltRWRnZVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBTY29yZVRyZWUoXCJ0b3BUZXN0Q2xhaW1cIiwgXCJ0ZXN0VG9wU2NvcmVcIiwgdSwgXCJ0ZXN0U2NvcmVUcmVlXCIpLCB1bmRlZmluZWQsIFwiYWRkX3Njb3JlVHJlZVwiKSxcclxuICAgICAgXSxcclxuICAgICAgcmVwb3NpdG9yeTogcmVwb3NpdG9yeVxyXG4gICAgfSlcclxuXHJcbiAgICAvL2F3YWl0IHJlcG9zaXRvcnkubm90aWZ5KGNoYW5nZWRTY29yZXMpO1xyXG4gICAgZXhwZWN0KChhd2FpdCByZXBvc2l0b3J5LmdldFNjb3JlKFwidGVzdFRvcFNjb3JlXCIpKT8uY29uZmlkZW5jZSkudG9FcXVhbCgxKTtcclxuICAgIGV4cGVjdChyZXBvc2l0b3J5LnJzRGF0YS5zY29yZUlkc0J5U291cmNlSWRbXCJ0b3BUZXN0Q2xhaW1cIl0ubGVuZ3RoKS50b0VxdWFsKDEpO1xyXG5cclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNhbGN1bGF0ZVNjb3JlQWN0aW9ucyh7XHJcbiAgICAgIGFjdGlvbnM6IFtcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbUVkZ2UoXCJ0b3BUZXN0Q2xhaW1cIiwgXCJDaGlsZENsYWltMlwiLCB1LCBmYWxzZSwgXCJDaGlsZENsYWltMkVkZ2VcIiksIHUsIFwibW9kaWZ5X2NsYWltRWRnZVwiKSxcclxuICAgICAgXSxcclxuICAgICAgcmVwb3NpdG9yeTogcmVwb3NpdG9yeVxyXG4gICAgfSlcclxuICAgIGF3YWl0IHJlcG9zaXRvcnkubm90aWZ5KHJlc3VsdCk7XHJcbiAgICBleHBlY3QoKGF3YWl0IHJlcG9zaXRvcnkuZ2V0U2NvcmUoXCJ0ZXN0VG9wU2NvcmVcIikpPy5jb25maWRlbmNlKS50b0VxdWFsKC0xKTtcclxuXHJcbiAgICBjb25zdCByZXN1bHQyID0gYXdhaXQgY2FsY3VsYXRlU2NvcmVBY3Rpb25zKHtcclxuICAgICAgYWN0aW9uczogW1xyXG4gICAgICAgIG5ldyBBY3Rpb24oeyBwcm86IHRydWUgfSwgdSwgXCJtb2RpZnlfY2xhaW1FZGdlXCIsIFwiQ2hpbGRDbGFpbTJFZGdlXCIpLFxyXG4gICAgICAgIC8vbmV3IEFjdGlvbihuZXcgQ2xhaW1FZGdlKFwidG9wVGVzdENsYWltXCIsIFwiQ2hpbGRDbGFpbTJcIiwgdSwgdHJ1ZSwgXCJDaGlsZENsYWltMkVkZ2VcIiksIHUsIFwibW9kaWZ5X2NsYWltRWRnZVwiKSxcclxuICAgICAgXSxcclxuICAgICAgcmVwb3NpdG9yeTogcmVwb3NpdG9yeVxyXG4gICAgfSlcclxuXHJcbiAgICBhd2FpdCByZXBvc2l0b3J5Lm5vdGlmeShyZXN1bHQyKTtcclxuICAgIGV4cGVjdCgoYXdhaXQgcmVwb3NpdG9yeS5nZXRTY29yZShcInRlc3RUb3BTY29yZVwiKSk/LmNvbmZpZGVuY2UpLnRvRXF1YWwoMSk7XHJcbiAgfSk7XHJcblxyXG4gIHRlc3QoJ1BhcnRpYWwgQ2xhaW0gRWRnZSBDaGlsZCBVcGRhdGUnLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCByZXBvc2l0b3J5ID0gbmV3IFJlcG9zaXRvcnlMb2NhbFB1cmUoKTtcclxuICAgIGNvbnN0IGNoYW5nZWRTY29yZXMgPSBhd2FpdCBjYWxjdWxhdGVTY29yZUFjdGlvbnMoe1xyXG4gICAgICBhY3Rpb25zOiBbXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW0oXCJUb3AgQ2xhaW1cIiwgXCJ0b3BUZXN0Q2xhaW1cIiksIHUsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltKFwiQ2hpbGQgQ2xhaW0gMVwiLCBcIkNoaWxkQ2xhaW0xXCIpLCB1LCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbShcIkNoaWxkIENsYWltIDJcIiwgXCJDaGlsZENsYWltMlwiKSwgdSwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW0oXCJHcmFuZGNoaWxkIENsYWltIDFcIiwgXCJncmFuZENoaWxkMVwiKSwgdSwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW1FZGdlKFwidG9wVGVzdENsYWltXCIsIFwiQ2hpbGRDbGFpbTFcIiwgdSwgZmFsc2UsIFwiQ2hpbGRDbGFpbTFFZGdlXCIpLCB1LCBcImFkZF9jbGFpbUVkZ2VcIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW1FZGdlKFwidG9wVGVzdENsYWltXCIsIFwiQ2hpbGRDbGFpbTJcIiwgdSwgdHJ1ZSwgXCJDaGlsZENsYWltMkVkZ2VcIiksIHUsIFwiYWRkX2NsYWltRWRnZVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbUVkZ2UoXCJDaGlsZENsYWltMVwiLCBcImdyYW5kQ2hpbGQxXCIsIHUsIGZhbHNlLCBcIkdyYW5kQ2hpbGRDbGFpbTFFZGdlXCIpLCB1LCBcImFkZF9jbGFpbUVkZ2VcIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgU2NvcmVUcmVlKFwidG9wVGVzdENsYWltXCIsIFwidGVzdFRvcFNjb3JlXCIsIHUsIFwidGVzdFNjb3JlVHJlZVwiKSwgdW5kZWZpbmVkLCBcImFkZF9zY29yZVRyZWVcIiksXHJcbiAgICAgIF0sXHJcbiAgICAgIHJlcG9zaXRvcnk6IHJlcG9zaXRvcnlcclxuICAgIH0pXHJcblxyXG4gICAgLy9hd2FpdCByZXBvc2l0b3J5Lm5vdGlmeShjaGFuZ2VkU2NvcmVzKTtcclxuICAgIGV4cGVjdCgoYXdhaXQgcmVwb3NpdG9yeS5nZXRTY29yZShcInRlc3RUb3BTY29yZVwiKSk/LmNvbmZpZGVuY2UpLnRvRXF1YWwoMSk7XHJcblxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2FsY3VsYXRlU2NvcmVBY3Rpb25zKHtcclxuICAgICAgYWN0aW9uczogW1xyXG4gICAgICAgIG5ldyBBY3Rpb24oeyBwcm86IGZhbHNlIH0sIHUsIFwibW9kaWZ5X2NsYWltRWRnZVwiLCBcIkNoaWxkQ2xhaW0yRWRnZVwiKSxcclxuICAgICAgICAvL25ldyBBY3Rpb24obmV3IENsYWltRWRnZShcInRvcFRlc3RDbGFpbVwiLCBcIkNoaWxkQ2xhaW0yXCIsIHUsIGZhbHNlLCBcIkNoaWxkQ2xhaW0yRWRnZVwiKSwgdSwgXCJtb2RpZnlfY2xhaW1FZGdlXCIpLFxyXG4gICAgICBdLFxyXG4gICAgICByZXBvc2l0b3J5OiByZXBvc2l0b3J5XHJcbiAgICB9KVxyXG4gICAgLy9hd2FpdCByZXBvc2l0b3J5Lm5vdGlmeShyZXN1bHQpO1xyXG4gICAgZXhwZWN0KChhd2FpdCByZXBvc2l0b3J5LmdldFNjb3JlKFwidGVzdFRvcFNjb3JlXCIpKT8uY29uZmlkZW5jZSkudG9FcXVhbCgtMSk7XHJcblxyXG4gICAgY29uc3QgcmVzdWx0MiA9IGF3YWl0IGNhbGN1bGF0ZVNjb3JlQWN0aW9ucyh7XHJcbiAgICAgIGFjdGlvbnM6IFtcclxuICAgICAgICBuZXcgQWN0aW9uKHsgcHJvOiB0cnVlIH0sIHUsIFwibW9kaWZ5X2NsYWltRWRnZVwiLCBcIkNoaWxkQ2xhaW0yRWRnZVwiKSxcclxuICAgICAgICAvL25ldyBBY3Rpb24obmV3IENsYWltRWRnZShcInRvcFRlc3RDbGFpbVwiLCBcIkNoaWxkQ2xhaW0yXCIsIHUsIHRydWUsIFwiQ2hpbGRDbGFpbTJFZGdlXCIpLCB1LCBcIm1vZGlmeV9jbGFpbUVkZ2VcIiksXHJcbiAgICAgIF0sXHJcbiAgICAgIHJlcG9zaXRvcnk6IHJlcG9zaXRvcnlcclxuICAgIH0pXHJcblxyXG4gICAgZXhwZWN0KChhd2FpdCByZXBvc2l0b3J5LmdldFNjb3JlKFwidGVzdFRvcFNjb3JlXCIpKT8uY29uZmlkZW5jZSkudG9FcXVhbCgxKTtcclxuICB9KTtcclxuXHJcbiAgdGVzdCgnRGVsZXRpbmcgYW4gZWRnZSBzaG91bGQgcmV2ZXJzZXMgdGhlIHRvcCBzY29yZScsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHJlcG9zaXRvcnkgPSBuZXcgUmVwb3NpdG9yeUxvY2FsUHVyZSgpO1xyXG4gICAgYXdhaXQgY2FsY3VsYXRlU2NvcmVBY3Rpb25zKHtcclxuICAgICAgYWN0aW9uczogW1xyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltKFwiXCIsIFwidG9wVGVzdENsYWltXCIpLCB1bmRlZmluZWQsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltKFwiXCIsIFwiQ2hpbGRDbGFpbTFcIiksIHVuZGVmaW5lZCwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW1FZGdlKFwidG9wVGVzdENsYWltXCIsIFwiQ2hpbGRDbGFpbTFcIiwgdW5kZWZpbmVkLCBmYWxzZSwgXCJDaGlsZENsYWltMUVkZ2VcIiksIHVuZGVmaW5lZCwgXCJhZGRfY2xhaW1FZGdlXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IFNjb3JlVHJlZShcInRvcFRlc3RDbGFpbVwiLCBcInRlc3RUb3BTY29yZVwiLCB1LCBcInRlc3RTY29yZVRyZWVcIiksIHVuZGVmaW5lZCwgXCJhZGRfc2NvcmVUcmVlXCIpLFxyXG4gICAgICBdLCByZXBvc2l0b3J5OiByZXBvc2l0b3J5XHJcbiAgICB9KVxyXG5cclxuICAgIGV4cGVjdCgoYXdhaXQgcmVwb3NpdG9yeS5nZXRTY29yZShcInRlc3RUb3BTY29yZVwiKSk/LmNvbmZpZGVuY2UpLnRvRXF1YWwoLTEpO1xyXG5cclxuICAgIGF3YWl0IGNhbGN1bGF0ZVNjb3JlQWN0aW9ucyh7XHJcbiAgICAgIGFjdGlvbnM6IFtcclxuICAgICAgICBuZXcgQWN0aW9uKHUsIHsgcGFyZW50SWQ6IFwidG9wVGVzdENsYWltXCIgfSwgXCJkZWxldGVfY2xhaW1FZGdlXCIsIFwiQ2hpbGRDbGFpbTFFZGdlXCIpXHJcbiAgICAgIF0sIHJlcG9zaXRvcnk6IHJlcG9zaXRvcnksXHJcbiAgICB9KVxyXG5cclxuICAgIGV4cGVjdCgoYXdhaXQgcmVwb3NpdG9yeS5nZXRTY29yZShcInRlc3RUb3BTY29yZVwiKSk/LmNvbmZpZGVuY2UpLnRvRXF1YWwoMSk7XHJcbiAgfSk7XHJcblxyXG4gIHRlc3QoJ011bHRpIGxldmVsIHJlbGV2YW5jZSBkZWxldGUgdGVzdCcsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHJlcG9zaXRvcnkgPSBuZXcgUmVwb3NpdG9yeUxvY2FsUHVyZSgpO1xyXG5cclxuICAgIGNvbnN0IHBybyA9IHRydWU7XHJcbiAgICBjb25zdCBjb24gPSBmYWxzZTtcclxuICAgIGNvbnN0IHRvcENsYWltID0gbmV3IENsYWltKFwiU2hvdWxkIEZpY3Rpb24gQ2l0eSBjb252ZXJ0IEVsbSBTdHJlZXQgdG8gb25seSBwZWRlc3RyaWFuIHRyYWZmaWM/XCIsIFwidG9wVGVzdENsYWltXCIpXHJcbiAgICBjb25zdCBDbGFpbTFfMCA9IG5ldyBDbGFpbShcIlRoZSBwbGFubmluZyBjb21taXNzaW9uIGVzdGltYXRlcyB0aGlzIHdpbGwgaW5jcmVhc2UgZm9vdCB0cmFmZmljIHRvIGxvY2FsIHNob3BzIGJ5IDEyJSBkdXJpbmcgcGVhayBob3Vycy5cIiwgXCJDbGFpbTFfMFwiKVxyXG4gICAgY29uc3QgQ2xhaW0xXzEgPSBuZXcgQ2xhaW0oXCJUaGUgaW5jcmVhc2UgaW4gcmV2ZW51ZSBpcyBleHBlY3RlZCB0byBwYXkgb2ZmIHRoZSBleHBlbnNlIGluIHVuZGVyIDIgeWVhcnMgbWVldGluZyB0aGUgY2l0aWVzIGludmVzdG1lbnQgcmVxdWlyZW1lbnRzLlwiLCBcIkNsYWltMV8xXCIpXHJcbiAgICBjb25zdCBDbGFpbTJfMCA9IG5ldyBDbGFpbShcIlRoaXMgd2lsbCByZXN1bHQgaW4gdHJhZmZpYyBiZWluZyBkaXZlcnRlZCBkb3duIHJlc2lkZW50aWFsIHN0cmVldHMuXCIpXHJcbiAgICBjb25zdCBDbGFpbTJfMSA9IG5ldyBDbGFpbShcIkNoaWxkcmVuIHNhZmV0eSBpcyBtb3JlIGltcG9ydGFudCB0aGFuIHByb2ZpdCBmb3IgbG9jYWwgc2hvcHMuXCIpXHJcbiAgICBjb25zdCBDbGFpbTJfMiA9IG5ldyBDbGFpbShcIkEgc2V0IG9mIHJhaWxyb2FkIHRyYWNrcyBhcmUgbm8gbG9uZ2VyIGluIHVzZSBhbmQgdGhlIENpdHkgY2FuIGNvbnZlcnQgdGhhdCB0byBhIG5ldyBzdHJlZXQuXCIpXHJcbiAgICBjb25zdCBDbGFpbTNfMCA9IG5ldyBDbGFpbShcIlRoZSBjb252ZXJzaW9uIHdpbGwgY29zdCAyIE1pbGxpb24gZG9sbGFycy5cIilcclxuICAgIGNvbnN0IENsYWltRWRnZTFfMCA9IG5ldyBDbGFpbUVkZ2UodG9wQ2xhaW0uaWQsIENsYWltMV8wLmlkLCB1LCBwcm8sIFwiQ2xhaW1FZGdlMV8wXCIpO1xyXG4gICAgY29uc3QgQ2xhaW1FZGdlMV8xID0gbmV3IENsYWltRWRnZShDbGFpbTFfMC5pZCwgQ2xhaW0xXzEuaWQsIFwicmVsZXZhbmNlXCIsIHBybywgXCJDbGFpbUVkZ2UxXzFcIilcclxuICAgIGNvbnN0IGFjdGlvbnMgPSBbXHJcbiAgICAgIG5ldyBBY3Rpb24odG9wQ2xhaW0sIHUsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICBuZXcgQWN0aW9uKENsYWltMV8wLCB1LCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgbmV3IEFjdGlvbihDbGFpbTFfMSwgdSwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgIG5ldyBBY3Rpb24oQ2xhaW0yXzAsIHUsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICBuZXcgQWN0aW9uKENsYWltMl8xLCB1LCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgbmV3IEFjdGlvbihDbGFpbTJfMiwgdSwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgIG5ldyBBY3Rpb24oQ2xhaW0zXzAsIHUsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICBuZXcgQWN0aW9uKENsYWltRWRnZTFfMCwgdSwgXCJhZGRfY2xhaW1FZGdlXCIpLFxyXG4gICAgICBuZXcgQWN0aW9uKENsYWltRWRnZTFfMSwgdSwgXCJhZGRfY2xhaW1FZGdlXCIpLFxyXG4gICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbUVkZ2UodG9wQ2xhaW0uaWQsIENsYWltMl8wLmlkLCB1LCBjb24pLCB1LCBcImFkZF9jbGFpbUVkZ2VcIiksXHJcbiAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltRWRnZShDbGFpbTJfMC5pZCwgQ2xhaW0yXzEuaWQsIFwicmVsZXZhbmNlXCIsIGNvbiksIHUsIFwiYWRkX2NsYWltRWRnZVwiKSxcclxuICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW1FZGdlKENsYWltMl8wLmlkLCBDbGFpbTJfMi5pZCwgdSwgY29uKSwgdSwgXCJhZGRfY2xhaW1FZGdlXCIpLFxyXG4gICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbUVkZ2UodG9wQ2xhaW0uaWQsIENsYWltM18wLmlkLCB1LCBjb24pLCB1LCBcImFkZF9jbGFpbUVkZ2VcIiksXHJcbiAgICAgIG5ldyBBY3Rpb24obmV3IFNjb3JlKHRvcENsYWltLmlkLCB0b3BDbGFpbS5pZCwgdSwgdSwgdSwgdSwgdSwgMCwgdSwgXCJ0ZXN0VG9wU2NvcmVcIiksIHUsIFwiYWRkX3Njb3JlXCIpLFxyXG4gICAgICBuZXcgQWN0aW9uKG5ldyBTY29yZVRyZWUoXCJ0b3BUZXN0Q2xhaW1cIiwgXCJ0ZXN0VG9wU2NvcmVcIiwgdSwgXCJ0ZXN0U2NvcmVUcmVlXCIpLCB1bmRlZmluZWQsIFwiYWRkX3Njb3JlVHJlZVwiKSxcclxuXHJcblxyXG4gICAgXVxyXG4gICAgYXdhaXQgY2FsY3VsYXRlU2NvcmVBY3Rpb25zKHsgYWN0aW9uczogYWN0aW9ucywgcmVwb3NpdG9yeTogcmVwb3NpdG9yeSB9KVxyXG5cclxuICAgIGV4cGVjdCgoYXdhaXQgcmVwb3NpdG9yeS5nZXRTY29yZShcInRlc3RUb3BTY29yZVwiKSk/LmNvbmZpZGVuY2UpLnRvRXF1YWwoMC4zMzMzMzMzMzMzMzMzMzMzKTtcclxuXHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjYWxjdWxhdGVTY29yZUFjdGlvbnMoe1xyXG4gICAgICBhY3Rpb25zOiBbXHJcbiAgICAgICAgbmV3IEFjdGlvbih1bmRlZmluZWQsIENsYWltRWRnZTFfMSwgXCJkZWxldGVfY2xhaW1FZGdlXCIsIENsYWltRWRnZTFfMS5pZClcclxuICAgICAgXSwgcmVwb3NpdG9yeTogcmVwb3NpdG9yeVxyXG4gICAgfSlcclxuXHJcbiAgICBleHBlY3QoKGF3YWl0IHJlcG9zaXRvcnkuZ2V0U2NvcmUoXCJ0ZXN0VG9wU2NvcmVcIikpPy5jb25maWRlbmNlKS50b0VxdWFsKDApO1xyXG5cclxuXHJcbiAgfSk7XHJcblxyXG4gIHRlc3QoJ1JlbGV2YW5jZSB0ZXN0JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgcmVwb3NpdG9yeSA9IG5ldyBSZXBvc2l0b3J5TG9jYWxQdXJlKCk7XHJcbiAgICBsZXQgcmVzdWx0O1xyXG4gICAgYXdhaXQgY2FsY3VsYXRlU2NvcmVBY3Rpb25zKHtcclxuICAgICAgYWN0aW9uczogW1xyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltKFwiVG9wIENsYWltXCIsIFwidG9wVGVzdENsYWltXCIpLCB1LCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbShcIkNoaWxkIENsYWltIDFcIiwgXCJDaGlsZENsYWltMVwiKSwgdSwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW0oXCJDaGlsZCBDbGFpbSAyXCIsIFwiQ2hpbGRDbGFpbTJcIiksIHUsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltKFwiR3JhbmRjaGlsZCBDbGFpbSAxXCIsIFwiZ3JhbmRDaGlsZDFcIiksIHUsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltRWRnZShcInRvcFRlc3RDbGFpbVwiLCBcIkNoaWxkQ2xhaW0xXCIsIHUsIHBybywgXCJDaGlsZENsYWltMUVkZ2VcIiksIHUsIFwiYWRkX2NsYWltRWRnZVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbUVkZ2UoXCJ0b3BUZXN0Q2xhaW1cIiwgXCJDaGlsZENsYWltMlwiLCB1LCBjb24sIFwiQ2hpbGRDbGFpbTJFZGdlXCIpLCB1LCBcImFkZF9jbGFpbUVkZ2VcIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW1FZGdlKFwiQ2hpbGRDbGFpbTFcIiwgXCJncmFuZENoaWxkMVwiLCBcInJlbGV2YW5jZVwiLCBwcm8sIFwiR3JhbmRDaGlsZENsYWltMUVkZ2VcIiksIHUsIFwiYWRkX2NsYWltRWRnZVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBTY29yZVRyZWUoXCJ0b3BUZXN0Q2xhaW1cIiwgXCJ0ZXN0VG9wU2NvcmVcIiwgdSwgXCJ0ZXN0U2NvcmVUcmVlXCIpLCB1bmRlZmluZWQsIFwiYWRkX3Njb3JlVHJlZVwiKSxcclxuICAgICAgXSxcclxuICAgICAgcmVwb3NpdG9yeTogcmVwb3NpdG9yeVxyXG4gICAgfSlcclxuXHJcbiAgICBsZXQgcmVzdWx0czogW3N0cmluZywgYW55XVtdLCBleHBlY3RhdGlvbnM6IFtzdHJpbmcsIGFueV1bXVxyXG5cclxuICAgIC8vIENoZWNrIGRlc2NlbmRhbnRDb3VudFxyXG4gICAgcmVzdWx0cyA9IFtdXHJcbiAgICBleHBlY3RhdGlvbnMgPSBbXHJcbiAgICAgIFtcInRvcFRlc3RDbGFpbS5jb25maWRlbmNlXCIsIDAuMzMzMzMzMzMzMzMzMzMzM10sXHJcbiAgICAgIFtcImdyYW5kQ2hpbGQxLmFmZmVjdHNcIiwgXCJyZWxldmFuY2VcIl0sXHJcbiAgICBdXHJcbiAgICBmb3IgKGNvbnN0IGV4cGVjdGF0aW9uIG9mIGV4cGVjdGF0aW9ucykge1xyXG4gICAgICBjb25zdCBzb3VyY2UgPSBleHBlY3RhdGlvblswXS5zcGxpdChcIi5cIik7XHJcbiAgICAgIGNvbnN0IHRlbXBSZXN1bHQgPSAoYXdhaXQgcmVwb3NpdG9yeS5nZXRTY29yZXNCeVNvdXJjZUlkKHNvdXJjZVswXSkpIGFzIGFueTtcclxuICAgICAgcmVzdWx0cy5wdXNoKFtcclxuICAgICAgICBleHBlY3RhdGlvblswXSxcclxuICAgICAgICAodGVtcFJlc3VsdFswXSlbc291cmNlWzFdXVxyXG4gICAgICBdKVxyXG4gICAgfVxyXG4gICAgZXhwZWN0KHJlc3VsdHMpLnRvTWF0Y2hPYmplY3QoZXhwZWN0YXRpb25zKTtcclxuICB9KTtcclxuXHJcbiAgdGVzdCgnRGVzY2VuZGFudCBDb3VudCBUZXN0cycsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHJlcG9zaXRvcnkgPSBuZXcgUmVwb3NpdG9yeUxvY2FsUHVyZSgpO1xyXG4gICAgbGV0IHJlc3VsdDtcclxuICAgIGF3YWl0IGNhbGN1bGF0ZVNjb3JlQWN0aW9ucyh7XHJcbiAgICAgIGFjdGlvbnM6IFtcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbShcIlRvcCBDbGFpbVwiLCBcInRvcFRlc3RDbGFpbVwiKSwgdSwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW0oXCJDaGlsZCBDbGFpbSAxXCIsIFwiQ2hpbGRDbGFpbTFcIiksIHUsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltKFwiQ2hpbGQgQ2xhaW0gMlwiLCBcIkNoaWxkQ2xhaW0yXCIpLCB1LCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbShcIkNoaWxkIENsYWltIDNcIiwgXCJDaGlsZENsYWltM1wiKSwgdSwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW0oXCJHcmFuZGNoaWxkIENsYWltIDFcIiwgXCJncmFuZENoaWxkMVwiKSwgdSwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW0oXCJHcmFuZGNoaWxkIENsYWltIDJcIiwgXCJncmFuZENoaWxkMlwiKSwgdSwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW0oXCJHcmFuZGNoaWxkIENsYWltIDNcIiwgXCJncmFuZENoaWxkM1wiKSwgdSwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW1FZGdlKFwidG9wVGVzdENsYWltXCIsIFwiQ2hpbGRDbGFpbTFcIiwgdSwgcHJvLCBcIkNoaWxkQ2xhaW0xRWRnZVwiKSwgdSwgXCJhZGRfY2xhaW1FZGdlXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltRWRnZShcInRvcFRlc3RDbGFpbVwiLCBcIkNoaWxkQ2xhaW0yXCIsIHUsIHBybywgXCJDaGlsZENsYWltMkVkZ2VcIiksIHUsIFwiYWRkX2NsYWltRWRnZVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbUVkZ2UoXCJ0b3BUZXN0Q2xhaW1cIiwgXCJDaGlsZENsYWltM1wiLCB1LCBjb24sIFwiQ2hpbGRDbGFpbTNFZGdlXCIpLCB1LCBcImFkZF9jbGFpbUVkZ2VcIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW1FZGdlKFwiQ2hpbGRDbGFpbTFcIiwgXCJncmFuZENoaWxkMVwiLCB1LCBwcm8sIFwiR3JhbmRDaGlsZENsYWltMUVkZ2VcIiksIHUsIFwiYWRkX2NsYWltRWRnZVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbUVkZ2UoXCJDaGlsZENsYWltMVwiLCBcImdyYW5kQ2hpbGQyXCIsIHUsIHBybywgXCJHcmFuZENoaWxkQ2xhaW0yRWRnZVwiKSwgdSwgXCJhZGRfY2xhaW1FZGdlXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltRWRnZShcIkNoaWxkQ2xhaW0xXCIsIFwiZ3JhbmRDaGlsZDNcIiwgdSwgY29uLCBcIkdyYW5kQ2hpbGRDbGFpbTNFZGdlXCIpLCB1LCBcImFkZF9jbGFpbUVkZ2VcIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgU2NvcmVUcmVlKFwidG9wVGVzdENsYWltXCIsIFwidGVzdFRvcFNjb3JlXCIsIHUsIFwidGVzdFNjb3JlVHJlZVwiKSwgdW5kZWZpbmVkLCBcImFkZF9zY29yZVRyZWVcIiksXHJcbiAgICAgIF0sXHJcbiAgICAgIHJlcG9zaXRvcnk6IHJlcG9zaXRvcnlcclxuICAgIH0pXHJcblxyXG4gICAgZXhwZWN0KChyZXBvc2l0b3J5LnJzRGF0YS5pdGVtc1tcInRlc3RTY29yZVRyZWVcIl0gYXMgU2NvcmVUcmVlKS5kZXNjZW5kYW50Q291bnQpLnRvRXF1YWwoNik7XHJcblxyXG4gICAgbGV0IHJlc3VsdHM6IFtzdHJpbmcsIGFueV1bXSwgZXhwZWN0YXRpb25zOiBbc3RyaW5nLCBhbnldW11cclxuICAgIHJlc3VsdHMgPSBbXVxyXG4gICAgZXhwZWN0YXRpb25zID0gW1xyXG4gICAgICBbXCJ0b3BUZXN0Q2xhaW0uZGVzY2VuZGFudENvdW50XCIsIDZdLFxyXG4gICAgICBbXCJDaGlsZENsYWltMS5kZXNjZW5kYW50Q291bnRcIiwgM10sXHJcbiAgICAgIFtcIkNoaWxkQ2xhaW0yLmRlc2NlbmRhbnRDb3VudFwiLCAwXSxcclxuICAgIF1cclxuICAgIGZvciAoY29uc3QgZXhwZWN0YXRpb24gb2YgZXhwZWN0YXRpb25zKSB7XHJcbiAgICAgIGNvbnN0IHNvdXJjZSA9IGV4cGVjdGF0aW9uWzBdLnNwbGl0KFwiLlwiKTtcclxuICAgICAgY29uc3QgdGVtcFJlc3VsdCA9IChhd2FpdCByZXBvc2l0b3J5LmdldFNjb3Jlc0J5U291cmNlSWQoc291cmNlWzBdKSkgYXMgYW55O1xyXG4gICAgICByZXN1bHRzLnB1c2goW1xyXG4gICAgICAgIGV4cGVjdGF0aW9uWzBdLFxyXG4gICAgICAgICh0ZW1wUmVzdWx0WzBdKVtzb3VyY2VbMV1dXHJcbiAgICAgIF0pXHJcbiAgICB9XHJcbiAgICBleHBlY3QocmVzdWx0cykudG9NYXRjaE9iamVjdChleHBlY3RhdGlvbnMpO1xyXG4gIH0pO1xyXG5cclxuICB0ZXN0KCdHZW5lcmF0aW9uIENvdW50IFRlc3RzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgcmVwb3NpdG9yeSA9IG5ldyBSZXBvc2l0b3J5TG9jYWxQdXJlKCk7XHJcbiAgICBsZXQgcmVzdWx0O1xyXG4gICAgYXdhaXQgY2FsY3VsYXRlU2NvcmVBY3Rpb25zKHtcclxuICAgICAgYWN0aW9uczogW1xyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltKFwiVG9wIENsYWltXCIsIFwidG9wVGVzdENsYWltXCIpLCB1LCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbShcIkNoaWxkIENsYWltIDFcIiwgXCJDaGlsZENsYWltMVwiKSwgdSwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW0oXCJDaGlsZCBDbGFpbSAyXCIsIFwiQ2hpbGRDbGFpbTJcIiksIHUsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltKFwiQ2hpbGQgQ2xhaW0gM1wiLCBcIkNoaWxkQ2xhaW0zXCIpLCB1LCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbShcIkdyYW5kY2hpbGQgQ2xhaW0gMVwiLCBcImdyYW5kQ2hpbGQxXCIpLCB1LCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbShcIkdyYW5kY2hpbGQgQ2xhaW0gMlwiLCBcImdyYW5kQ2hpbGQyXCIpLCB1LCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbShcIkdyYW5kY2hpbGQgQ2xhaW0gM1wiLCBcImdyYW5kQ2hpbGQzXCIpLCB1LCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbUVkZ2UoXCJ0b3BUZXN0Q2xhaW1cIiwgXCJDaGlsZENsYWltMVwiLCB1LCBwcm8sIFwiQ2hpbGRDbGFpbTFFZGdlXCIpLCB1LCBcImFkZF9jbGFpbUVkZ2VcIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW1FZGdlKFwidG9wVGVzdENsYWltXCIsIFwiQ2hpbGRDbGFpbTJcIiwgdSwgcHJvLCBcIkNoaWxkQ2xhaW0yRWRnZVwiKSwgdSwgXCJhZGRfY2xhaW1FZGdlXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltRWRnZShcInRvcFRlc3RDbGFpbVwiLCBcIkNoaWxkQ2xhaW0zXCIsIHUsIGNvbiwgXCJDaGlsZENsYWltM0VkZ2VcIiksIHUsIFwiYWRkX2NsYWltRWRnZVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbUVkZ2UoXCJDaGlsZENsYWltMVwiLCBcImdyYW5kQ2hpbGQxXCIsIHUsIHBybywgXCJHcmFuZENoaWxkQ2xhaW0xRWRnZVwiKSwgdSwgXCJhZGRfY2xhaW1FZGdlXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltRWRnZShcIkNoaWxkQ2xhaW0xXCIsIFwiZ3JhbmRDaGlsZDJcIiwgdSwgcHJvLCBcIkdyYW5kQ2hpbGRDbGFpbTJFZGdlXCIpLCB1LCBcImFkZF9jbGFpbUVkZ2VcIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW1FZGdlKFwiQ2hpbGRDbGFpbTFcIiwgXCJncmFuZENoaWxkM1wiLCB1LCBjb24sIFwiR3JhbmRDaGlsZENsYWltM0VkZ2VcIiksIHUsIFwiYWRkX2NsYWltRWRnZVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBTY29yZVRyZWUoXCJ0b3BUZXN0Q2xhaW1cIiwgXCJ0ZXN0VG9wU2NvcmVcIiwgdSwgXCJ0ZXN0U2NvcmVUcmVlXCIpLCB1bmRlZmluZWQsIFwiYWRkX3Njb3JlVHJlZVwiKSxcclxuICAgICAgXSxcclxuICAgICAgcmVwb3NpdG9yeTogcmVwb3NpdG9yeVxyXG4gICAgfSlcclxuXHJcbiAgICBleHBlY3QoKHJlcG9zaXRvcnkucnNEYXRhLml0ZW1zW1widGVzdFNjb3JlVHJlZVwiXSBhcyBTY29yZVRyZWUpLmRlc2NlbmRhbnRDb3VudCkudG9FcXVhbCg2KTtcclxuXHJcbiAgICBsZXQgcmVzdWx0czogW3N0cmluZywgYW55XVtdLCBleHBlY3RhdGlvbnM6IFtzdHJpbmcsIGFueV1bXVxyXG4gICAgcmVzdWx0cyA9IFtdXHJcbiAgICBleHBlY3RhdGlvbnMgPSBbXHJcbiAgICAgIFtcInRvcFRlc3RDbGFpbS5nZW5lcmF0aW9uXCIsIDBdLFxyXG4gICAgICBbXCJDaGlsZENsYWltMS5nZW5lcmF0aW9uXCIsIDFdLFxyXG4gICAgICBbXCJDaGlsZENsYWltMi5nZW5lcmF0aW9uXCIsIDFdLFxyXG4gICAgICBbXCJncmFuZENoaWxkMS5nZW5lcmF0aW9uXCIsIDJdLFxyXG4gICAgICBbXCJncmFuZENoaWxkMi5nZW5lcmF0aW9uXCIsIDJdLFxyXG4gICAgXVxyXG4gICAgZm9yIChjb25zdCBleHBlY3RhdGlvbiBvZiBleHBlY3RhdGlvbnMpIHtcclxuICAgICAgY29uc3Qgc291cmNlID0gZXhwZWN0YXRpb25bMF0uc3BsaXQoXCIuXCIpO1xyXG4gICAgICBjb25zdCB0ZW1wUmVzdWx0ID0gKGF3YWl0IHJlcG9zaXRvcnkuZ2V0U2NvcmVzQnlTb3VyY2VJZChzb3VyY2VbMF0pKSBhcyBhbnk7XHJcbiAgICAgIHJlc3VsdHMucHVzaChbXHJcbiAgICAgICAgZXhwZWN0YXRpb25bMF0sXHJcbiAgICAgICAgKHRlbXBSZXN1bHRbMF0pW3NvdXJjZVsxXV1cclxuICAgICAgXSlcclxuICAgIH1cclxuICAgIGV4cGVjdChyZXN1bHRzKS50b01hdGNoT2JqZWN0KGV4cGVjdGF0aW9ucyk7XHJcbiAgfSk7XHJcbn0iXX0=