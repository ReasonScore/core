"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.calculateScoreActionTests = calculateScoreActionTests;

var _RepositoryLocalPure = require("../repositories/RepositoryLocalPure");

var _calculateScoreActions = require("../calculateScoreActions");

var _calculateScore = require("../calculateScore");

var _Claim = require("../dataModels/Claim");

var _Action = require("../dataModels/Action");

var _ClaimEdge = require("../dataModels/ClaimEdge");

var _Score = require("../dataModels/Score");

var _ScoreTree = require("../dataModels/ScoreTree");

function calculateScoreActionTests() {
  const u = undefined,
        pro = true,
        con = false;
  test('add a new scoretree', async () => {
    const repository = new _RepositoryLocalPure.RepositoryLocalPure(); // Add a new claim and set it as a score tree top

    const result = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _Claim.Claim("", "topTestClaim"), undefined, "add_claim"), new _Action.Action(new _ScoreTree.ScoreTree("topTestClaim", "testTopScore", u, "testScoreTree"), undefined, "add_scoreTree")],
      repository: repository,
      calculator: _calculateScore.calculateScore
    });
    var test = new _Action.Action(new _ScoreTree.ScoreTree("topTestClaim", "testTopScore", u, "testScoreTree"), undefined, "add_scoreTree");
    expect(repository.rsData.scoreIdsBySourceId["topTestClaim"].length).toEqual(1);
  });
  test('Add a child that does not change the top score', async () => {
    var _await$repository$get;

    const repository = new _RepositoryLocalPure.RepositoryLocalPure();
    const temp = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _Claim.Claim("", "topTestClaim"), undefined, "add_claim"), new _Action.Action(new _Claim.Claim("", "ChildClaim1"), undefined, "add_claim"), new _Action.Action(new _ScoreTree.ScoreTree("topTestClaim", "testTopScore", u, "testScoreTree"), undefined, "add_scoreTree")],
      repository: repository
    });
    const result = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim1", u, u, u, "Priority Set"), undefined, "add_claimEdge")],
      repository: repository
    });
    expect((_await$repository$get = await repository.getScore("testTopScore")) === null || _await$repository$get === void 0 ? void 0 : _await$repository$get.confidence).toEqual(1);
  });
  test('Prioity on Add', async () => {
    var _await$repository$get2;

    const repository = new _RepositoryLocalPure.RepositoryLocalPure();
    const temp = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _Claim.Claim("", "topTestClaim"), undefined, "add_claim"), new _Action.Action(new _Claim.Claim("", "ChildClaim1"), undefined, "add_claim"), new _Action.Action(new _ScoreTree.ScoreTree("topTestClaim", "testTopScore", u, "testScoreTree"), undefined, "add_scoreTree")],
      repository: repository
    });
    const actions = [new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim1", u, u, u, "Priority Set"), undefined, "add_claimEdge")];
    const result = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: actions,
      repository: repository
    });
    expect((_await$repository$get2 = (await repository.getScoresBySourceId("ChildClaim1"))[0]) === null || _await$repository$get2 === void 0 ? void 0 : _await$repository$get2.priority).toEqual("Priority Set");
  });
  test('Prioity on Modify claimEdge', async () => {
    var _await$repository$get3;

    const repository = new _RepositoryLocalPure.RepositoryLocalPure();
    const temp = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _Claim.Claim("", "topTestClaim"), undefined, "add_claim"), new _Action.Action(new _Claim.Claim("", "ChildClaim1"), undefined, "add_claim"), new _Action.Action(new _ScoreTree.ScoreTree("topTestClaim", "testTopScore", u, "testScoreTree"), undefined, "add_scoreTree"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim1", u, u, u), undefined, "add_claimEdge")],
      repository: repository
    });
    const edge = (await repository.getClaimEdgesByChildId("ChildClaim1"))[0];
    const result = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim1", u, u, edge.id, 'Priority Modified'), undefined, "modify_claimEdge")],
      repository: repository
    });
    expect((_await$repository$get3 = (await repository.getScoresBySourceId("ChildClaim1"))[0]) === null || _await$repository$get3 === void 0 ? void 0 : _await$repository$get3.priority).toEqual("Priority Modified");
  });
  test('Changing a child pro value should change the top score', async () => {
    const repository = new _RepositoryLocalPure.RepositoryLocalPure();
    const temp = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _Claim.Claim("", "topTestClaim"), u, "add_claim"), new _Action.Action(new _ScoreTree.ScoreTree("topTestClaim", "testTopScore", u, "testScoreTree"), undefined, "add_scoreTree"), new _Action.Action(new _Claim.Claim("", "ChildClaim1"), u, "add_claim"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim1", u, true, "ChildClaim1Edge"), u, "add_claimEdge")],
      repository: repository
    });
    const result = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim1", u, false, "ChildClaim1Edge"), u, "modify_claimEdge")],
      repository: repository
    });
    expect((await repository.getScoresBySourceId("topTestClaim"))[0].confidence).toEqual(-1);
  });
  test('Add a child that reverses the top score', async () => {
    const repository = new _RepositoryLocalPure.RepositoryLocalPure();
    const temp = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _Claim.Claim("", "topTestClaim"), u, "add_claim"), new _Action.Action(new _ScoreTree.ScoreTree("topTestClaim", "testTopScore", u, "testScoreTree"), u, "add_scoreTree"), new _Action.Action(new _Claim.Claim("", "ChildClaim1"), u, "add_claim")],
      repository: repository
    });
    const result = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim1", u, false, "ChildClaim1Edge"), u, "add_claimEdge")],
      repository: repository,
      calculator: _calculateScore.calculateScore
    });
    expect((await repository.getScoresBySourceId("topTestClaim"))[0].confidence).toEqual(-1);
  });
  test('Adding a grandchild score Reverses Scores 2 levels', async () => {
    var _await$repository$get4;

    const repository = new _RepositoryLocalPure.RepositoryLocalPure();
    const temp = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _Claim.Claim("", "topTestClaim"), undefined, "add_claim"), new _Action.Action(new _ScoreTree.ScoreTree("topTestClaim", "testTopScore", u, "testScoreTree"), undefined, "add_scoreTree"), new _Action.Action(new _Claim.Claim("", "ChildClaim1"), undefined, "add_claim"), new _Action.Action(new _Claim.Claim("", "ChildClaim2"), undefined, "add_claim"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim1", undefined, false, "ChildClaim1Edge"), undefined, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim2", undefined, true, "ChildClaim2Edge"), undefined, "add_claimEdge"), new _Action.Action(new _Claim.Claim("", "grandChild1"), undefined, "add_claim")],
      repository: repository
    });
    const result = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _ClaimEdge.ClaimEdge("ChildClaim1", "grandChild1", undefined, false, "GrandChildClaim1Edge"), undefined, "add_claimEdge")],
      repository: repository,
      calculator: _calculateScore.calculateScore
    });
    expect((_await$repository$get4 = await repository.getScore("testTopScore")) === null || _await$repository$get4 === void 0 ? void 0 : _await$repository$get4.confidence).toEqual(1);
  });
  test('Complex Test', async () => {
    const repository = new _RepositoryLocalPure.RepositoryLocalPure();
    const changedScores = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _Claim.Claim("Top Claim", "topTestClaim"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Child Claim 1", "ChildClaim1"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Child Claim 2", "ChildClaim2"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Grandchild Claim 1", "grandChild1"), u, "add_claim"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim1", u, false, "ChildClaim1Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim2", u, true, "ChildClaim2Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("ChildClaim1", "grandChild1", u, false, "GrandChildClaim1Edge"), u, "add_claimEdge"), new _Action.Action(new _ScoreTree.ScoreTree("topTestClaim", "testTopScore", u, "testScoreTree"), undefined, "add_scoreTree")],
      repository: repository
    });
    expect(repository.rsData.items["testTopScore"].confidence).toEqual(1);
    expect(repository.rsData.scoreIdsBySourceId["topTestClaim"].length).toEqual(1); //Weird score not changing

    const ChildClaim1ScoresInitial = await repository.getScoresBySourceId("ChildClaim1");
    expect(ChildClaim1ScoresInitial[0].pro).toEqual(false);
    const changedScores2 = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [{
        "newData": {
          "content": "Child Claim 1",
          "id": "ChildClaim1",
          "reversible": false,
          "type": "claim"
        },
        "type": "modify_claim",
        "dataId": "ChildClaim1"
      }, {
        "newData": {
          "parentId": "topTestClaim",
          "childId": "ChildClaim1",
          "affects": "confidence",
          "pro": true,
          "id": "ChildClaim1Edge",
          "priority": "",
          "type": "claimEdge"
        },
        "type": "modify_claimEdge",
        "dataId": "ChildClaim1Edge"
      }],
      repository: repository
    });
    const ChildClaim1Scores = await repository.getScoresBySourceId("ChildClaim1");
    expect(ChildClaim1Scores[0].pro).toEqual(true);
  });
  test('Partial Claim Edge Grandchild Update', async () => {
    var _await$repository$get5, _await$repository$get6, _await$repository$get7;

    const repository = new _RepositoryLocalPure.RepositoryLocalPure();
    const changedScores = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _Claim.Claim("Top Claim", "topTestClaim"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Child Claim 1", "ChildClaim1"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Child Claim 2", "ChildClaim2"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Grandchild Claim 1", "grandChild1"), u, "add_claim"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim1", u, false, "ChildClaim1Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim2", u, true, "ChildClaim2Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("ChildClaim1", "grandChild1", u, false, "GrandChildClaim1Edge"), u, "add_claimEdge"), new _Action.Action(new _ScoreTree.ScoreTree("topTestClaim", "testTopScore", u, "testScoreTree"), undefined, "add_scoreTree")],
      repository: repository
    }); //await repository.notify(changedScores);

    expect((_await$repository$get5 = await repository.getScore("testTopScore")) === null || _await$repository$get5 === void 0 ? void 0 : _await$repository$get5.confidence).toEqual(1);
    expect(repository.rsData.scoreIdsBySourceId["topTestClaim"].length).toEqual(1);
    const result = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim2", u, false, "ChildClaim2Edge"), u, "modify_claimEdge")],
      repository: repository
    });
    await repository.notify(result);
    expect((_await$repository$get6 = await repository.getScore("testTopScore")) === null || _await$repository$get6 === void 0 ? void 0 : _await$repository$get6.confidence).toEqual(-1);
    const result2 = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action({
        pro: true
      }, u, "modify_claimEdge", "ChildClaim2Edge") //new Action(new ClaimEdge("topTestClaim", "ChildClaim2", u, true, "ChildClaim2Edge"), u, "modify_claimEdge"),
      ],
      repository: repository
    });
    await repository.notify(result2);
    expect((_await$repository$get7 = await repository.getScore("testTopScore")) === null || _await$repository$get7 === void 0 ? void 0 : _await$repository$get7.confidence).toEqual(1);
  });
  test('Partial Claim Edge Child Update', async () => {
    var _await$repository$get8, _await$repository$get9, _await$repository$get10;

    const repository = new _RepositoryLocalPure.RepositoryLocalPure();
    const changedScores = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _Claim.Claim("Top Claim", "topTestClaim"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Child Claim 1", "ChildClaim1"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Child Claim 2", "ChildClaim2"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Grandchild Claim 1", "grandChild1"), u, "add_claim"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim1", u, false, "ChildClaim1Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim2", u, true, "ChildClaim2Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("ChildClaim1", "grandChild1", u, false, "GrandChildClaim1Edge"), u, "add_claimEdge"), new _Action.Action(new _ScoreTree.ScoreTree("topTestClaim", "testTopScore", u, "testScoreTree"), undefined, "add_scoreTree")],
      repository: repository
    }); //await repository.notify(changedScores);

    expect((_await$repository$get8 = await repository.getScore("testTopScore")) === null || _await$repository$get8 === void 0 ? void 0 : _await$repository$get8.confidence).toEqual(1);
    const result = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action({
        pro: false
      }, u, "modify_claimEdge", "ChildClaim2Edge") //new Action(new ClaimEdge("topTestClaim", "ChildClaim2", u, false, "ChildClaim2Edge"), u, "modify_claimEdge"),
      ],
      repository: repository
    }); //await repository.notify(result);

    expect((_await$repository$get9 = await repository.getScore("testTopScore")) === null || _await$repository$get9 === void 0 ? void 0 : _await$repository$get9.confidence).toEqual(-1);
    const result2 = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action({
        pro: true
      }, u, "modify_claimEdge", "ChildClaim2Edge") //new Action(new ClaimEdge("topTestClaim", "ChildClaim2", u, true, "ChildClaim2Edge"), u, "modify_claimEdge"),
      ],
      repository: repository
    });
    expect((_await$repository$get10 = await repository.getScore("testTopScore")) === null || _await$repository$get10 === void 0 ? void 0 : _await$repository$get10.confidence).toEqual(1);
  });
  test('Deleting an edge should reverses the top score', async () => {
    var _await$repository$get11, _await$repository$get12;

    const repository = new _RepositoryLocalPure.RepositoryLocalPure();
    await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _Claim.Claim("", "topTestClaim"), undefined, "add_claim"), new _Action.Action(new _Claim.Claim("", "ChildClaim1"), undefined, "add_claim"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim1", undefined, false, "ChildClaim1Edge"), undefined, "add_claimEdge"), new _Action.Action(new _ScoreTree.ScoreTree("topTestClaim", "testTopScore", u, "testScoreTree"), undefined, "add_scoreTree")],
      repository: repository
    });
    expect((_await$repository$get11 = await repository.getScore("testTopScore")) === null || _await$repository$get11 === void 0 ? void 0 : _await$repository$get11.confidence).toEqual(-1);
    await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(u, {
        parentId: "topTestClaim"
      }, "delete_claimEdge", "ChildClaim1Edge")],
      repository: repository
    });
    expect((_await$repository$get12 = await repository.getScore("testTopScore")) === null || _await$repository$get12 === void 0 ? void 0 : _await$repository$get12.confidence).toEqual(1);
  });
  test('Multi level relevance delete test', async () => {
    var _await$repository$get13, _await$repository$get14;

    const repository = new _RepositoryLocalPure.RepositoryLocalPure();
    const pro = true;
    const con = false;
    const topClaim = new _Claim.Claim("Should Fiction City convert Elm Street to only pedestrian traffic?", "topTestClaim");
    const Claim1_0 = new _Claim.Claim("The planning commission estimates this will increase foot traffic to local shops by 12% during peak hours.", "Claim1_0");
    const Claim1_1 = new _Claim.Claim("The increase in revenue is expected to pay off the expense in under 2 years meeting the cities investment requirements.", "Claim1_1");
    const Claim2_0 = new _Claim.Claim("This will result in traffic being diverted down residential streets.");
    const Claim2_1 = new _Claim.Claim("Children safety is more important than profit for local shops.");
    const Claim2_2 = new _Claim.Claim("A set of railroad tracks are no longer in use and the City can convert that to a new street.");
    const Claim3_0 = new _Claim.Claim("The conversion will cost 2 Million dollars.");
    const ClaimEdge1_0 = new _ClaimEdge.ClaimEdge(topClaim.id, Claim1_0.id, u, pro, "ClaimEdge1_0");
    const ClaimEdge1_1 = new _ClaimEdge.ClaimEdge(Claim1_0.id, Claim1_1.id, "relevance", pro, "ClaimEdge1_1");
    const actions = [new _Action.Action(topClaim, u, "add_claim"), new _Action.Action(Claim1_0, u, "add_claim"), new _Action.Action(Claim1_1, u, "add_claim"), new _Action.Action(Claim2_0, u, "add_claim"), new _Action.Action(Claim2_1, u, "add_claim"), new _Action.Action(Claim2_2, u, "add_claim"), new _Action.Action(Claim3_0, u, "add_claim"), new _Action.Action(ClaimEdge1_0, u, "add_claimEdge"), new _Action.Action(ClaimEdge1_1, u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge(topClaim.id, Claim2_0.id, u, con), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge(Claim2_0.id, Claim2_1.id, "relevance", con), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge(Claim2_0.id, Claim2_2.id, u, con), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge(topClaim.id, Claim3_0.id, u, con), u, "add_claimEdge"), new _Action.Action(new _Score.Score(topClaim.id, topClaim.id, u, u, u, u, u, 0, u, "testTopScore"), u, "add_score"), new _Action.Action(new _ScoreTree.ScoreTree("topTestClaim", "testTopScore", u, "testScoreTree"), undefined, "add_scoreTree")];
    await (0, _calculateScoreActions.calculateScoreActions)({
      actions: actions,
      repository: repository
    });
    expect((_await$repository$get13 = await repository.getScore("testTopScore")) === null || _await$repository$get13 === void 0 ? void 0 : _await$repository$get13.confidence).toEqual(0.3333333333333333);
    const result = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(undefined, ClaimEdge1_1, "delete_claimEdge", ClaimEdge1_1.id)],
      repository: repository
    });
    expect((_await$repository$get14 = await repository.getScore("testTopScore")) === null || _await$repository$get14 === void 0 ? void 0 : _await$repository$get14.confidence).toEqual(0);
  });
  test('Relevance test', async () => {
    const repository = new _RepositoryLocalPure.RepositoryLocalPure();
    let result;
    await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _Claim.Claim("Top Claim", "topTestClaim"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Child Claim 1", "ChildClaim1"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Child Claim 2", "ChildClaim2"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Grandchild Claim 1", "grandChild1"), u, "add_claim"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim1", u, pro, "ChildClaim1Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim2", u, con, "ChildClaim2Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("ChildClaim1", "grandChild1", "relevance", pro, "GrandChildClaim1Edge"), u, "add_claimEdge"), new _Action.Action(new _ScoreTree.ScoreTree("topTestClaim", "testTopScore", u, "testScoreTree"), undefined, "add_scoreTree")],
      repository: repository
    });
    let results, expectations; // Check descendantCount

    results = [];
    expectations = [["topTestClaim.confidence", 0.3333333333333333], ["grandChild1.affects", "relevance"]];

    for (const expectation of expectations) {
      const source = expectation[0].split(".");
      const tempResult = await repository.getScoresBySourceId(source[0]);
      results.push([expectation[0], tempResult[0][source[1]]]);
    }

    expect(results).toMatchObject(expectations);
  });
  test('Descendant Count Tests', async () => {
    const repository = new _RepositoryLocalPure.RepositoryLocalPure();
    let result;
    await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _Claim.Claim("Top Claim", "topTestClaim"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Child Claim 1", "ChildClaim1"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Child Claim 2", "ChildClaim2"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Child Claim 3", "ChildClaim3"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Grandchild Claim 1", "grandChild1"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Grandchild Claim 2", "grandChild2"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Grandchild Claim 3", "grandChild3"), u, "add_claim"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim1", u, pro, "ChildClaim1Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim2", u, pro, "ChildClaim2Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim3", u, con, "ChildClaim3Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("ChildClaim1", "grandChild1", u, pro, "GrandChildClaim1Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("ChildClaim1", "grandChild2", u, pro, "GrandChildClaim2Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("ChildClaim1", "grandChild3", u, con, "GrandChildClaim3Edge"), u, "add_claimEdge"), new _Action.Action(new _ScoreTree.ScoreTree("topTestClaim", "testTopScore", u, "testScoreTree"), undefined, "add_scoreTree")],
      repository: repository
    });
    expect(repository.rsData.items["testScoreTree"].descendantCount).toEqual(6);
    let results, expectations;
    results = [];
    expectations = [["topTestClaim.descendantCount", 6], ["ChildClaim1.descendantCount", 3], ["ChildClaim2.descendantCount", 0]];

    for (const expectation of expectations) {
      const source = expectation[0].split(".");
      const tempResult = await repository.getScoresBySourceId(source[0]);
      results.push([expectation[0], tempResult[0][source[1]]]);
    }

    expect(results).toMatchObject(expectations);
  });
  test('Generation Count Tests', async () => {
    const repository = new _RepositoryLocalPure.RepositoryLocalPure();
    let result;
    await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _Claim.Claim("Top Claim", "topTestClaim"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Child Claim 1", "ChildClaim1"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Child Claim 2", "ChildClaim2"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Child Claim 3", "ChildClaim3"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Grandchild Claim 1", "grandChild1"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Grandchild Claim 2", "grandChild2"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Grandchild Claim 3", "grandChild3"), u, "add_claim"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim1", u, pro, "ChildClaim1Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim2", u, pro, "ChildClaim2Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim3", u, con, "ChildClaim3Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("ChildClaim1", "grandChild1", u, pro, "GrandChildClaim1Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("ChildClaim1", "grandChild2", u, pro, "GrandChildClaim2Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("ChildClaim1", "grandChild3", u, con, "GrandChildClaim3Edge"), u, "add_claimEdge"), new _Action.Action(new _ScoreTree.ScoreTree("topTestClaim", "testTopScore", u, "testScoreTree"), undefined, "add_scoreTree")],
      repository: repository
    });
    expect(repository.rsData.items["testScoreTree"].descendantCount).toEqual(6);
    let results, expectations;
    results = [];
    expectations = [["topTestClaim.generation", 0], ["ChildClaim1.generation", 1], ["ChildClaim2.generation", 1], ["grandChild1.generation", 2], ["grandChild2.generation", 2]];

    for (const expectation of expectations) {
      const source = expectation[0].split(".");
      const tempResult = await repository.getScoresBySourceId(source[0]);
      results.push([expectation[0], tempResult[0][source[1]]]);
    }

    expect(results).toMatchObject(expectations);
  });
  test('Pro Main Tests', async () => {
    const repository = new _RepositoryLocalPure.RepositoryLocalPure();
    let result;
    await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _Claim.Claim("Top Claim", "topTestClaim"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Child Claim 1", "ChildClaim1"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Child Claim 2", "ChildClaim2"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Child Claim 3", "ChildClaim3"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Grandchild Claim 1", "grandChild1"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Grandchild Claim 2", "grandChild2"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Grandchild Claim 3", "grandChild3"), u, "add_claim"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim1", u, con, "ChildClaim1Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("ChildClaim1", "grandChild1", u, pro, "GrandChildClaim1Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("ChildClaim1", "grandChild2", u, con, "GrandChildClaim2Edge"), u, "add_claimEdge"), new _Action.Action(new _ScoreTree.ScoreTree("topTestClaim", "testTopScore", u, "testScoreTree"), undefined, "add_scoreTree")],
      repository: repository
    });
    let results, expectations;
    results = [];
    expectations = [["ChildClaim1.proMain", false], ["grandChild1.proMain", false], ["grandChild2.proMain", true]];

    for (const expectation of expectations) {
      const source = expectation[0].split(".");
      const tempResult = await repository.getScoresBySourceId(source[0]);
      results.push([expectation[0], tempResult[0][source[1]]]);
    }

    expect(results).toMatchObject(expectations);
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy90ZXN0cy9jYWxjdWxhdGVTY29yZUFjdGlvbnNUZXN0cy50cyJdLCJuYW1lcyI6WyJjYWxjdWxhdGVTY29yZUFjdGlvblRlc3RzIiwidSIsInVuZGVmaW5lZCIsInBybyIsImNvbiIsInRlc3QiLCJyZXBvc2l0b3J5IiwiUmVwb3NpdG9yeUxvY2FsUHVyZSIsInJlc3VsdCIsImFjdGlvbnMiLCJBY3Rpb24iLCJDbGFpbSIsIlNjb3JlVHJlZSIsImNhbGN1bGF0b3IiLCJjYWxjdWxhdGVTY29yZSIsImV4cGVjdCIsInJzRGF0YSIsInNjb3JlSWRzQnlTb3VyY2VJZCIsImxlbmd0aCIsInRvRXF1YWwiLCJ0ZW1wIiwiQ2xhaW1FZGdlIiwiZ2V0U2NvcmUiLCJjb25maWRlbmNlIiwiZ2V0U2NvcmVzQnlTb3VyY2VJZCIsInByaW9yaXR5IiwiZWRnZSIsImdldENsYWltRWRnZXNCeUNoaWxkSWQiLCJpZCIsImNoYW5nZWRTY29yZXMiLCJpdGVtcyIsIkNoaWxkQ2xhaW0xU2NvcmVzSW5pdGlhbCIsImNoYW5nZWRTY29yZXMyIiwiQ2hpbGRDbGFpbTFTY29yZXMiLCJub3RpZnkiLCJyZXN1bHQyIiwicGFyZW50SWQiLCJ0b3BDbGFpbSIsIkNsYWltMV8wIiwiQ2xhaW0xXzEiLCJDbGFpbTJfMCIsIkNsYWltMl8xIiwiQ2xhaW0yXzIiLCJDbGFpbTNfMCIsIkNsYWltRWRnZTFfMCIsIkNsYWltRWRnZTFfMSIsIlNjb3JlIiwicmVzdWx0cyIsImV4cGVjdGF0aW9ucyIsImV4cGVjdGF0aW9uIiwic291cmNlIiwic3BsaXQiLCJ0ZW1wUmVzdWx0IiwicHVzaCIsInRvTWF0Y2hPYmplY3QiLCJkZXNjZW5kYW50Q291bnQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFTyxTQUFTQSx5QkFBVCxHQUFxQztBQUMxQyxRQUFNQyxDQUFDLEdBQUdDLFNBQVY7QUFBQSxRQUFx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QUFJeUMsT0FBSixFQUE4QkMsWUFBOUI7QUFDQUQsSUFBQUEsT0FBTyxHQUFHLEVBQVY7QUFDQUMsSUFBQUEsWUFBWSxHQUFHLENBQ2IsQ0FBQyxxQkFBRCxFQUF3QixLQUF4QixDQURhLEVBRWIsQ0FBQyxxQkFBRCxFQUF3QixLQUF4QixDQUZhLEVBR2IsQ0FBQyxxQkFBRCxFQUF3QixJQUF4QixDQUhhLENBQWY7O0FBS0EsU0FBSyxNQUFNQyxXQUFYLElBQTBCRCxZQUExQixFQUF3QztBQUN0QyxZQUFNRSxNQUFNLEdBQUdELFdBQVcsQ0FBQyxDQUFELENBQVgsQ0FBZUUsS0FBZixDQUFxQixHQUFyQixDQUFmO0FBQ0EsWUFBTUMsVUFBVSxHQUFJLE1BQU05QyxVQUFVLENBQUNrQixtQkFBWCxDQUErQjBCLE1BQU0sQ0FBQyxDQUFELENBQXJDLENBQTFCO0FBQ0FILE1BQUFBLE9BQU8sQ0FBQ00sSUFBUixDQUFhLENBQ1hKLFdBQVcsQ0FBQyxDQUFELENBREEsRUFFVkcsVUFBVSxDQUFDLENBQUQsQ0FBWCxDQUFnQkYsTUFBTSxDQUFDLENBQUQsQ0FBdEIsQ0FGVyxDQUFiO0FBSUQ7O0FBQ0RuQyxJQUFBQSxNQUFNLENBQUNnQyxPQUFELENBQU4sQ0FBZ0JPLGFBQWhCLENBQThCTixZQUE5QjtBQUNELEdBcENHLENBQUo7QUFxQ0QiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZXBvc2l0b3J5TG9jYWxQdXJlIH0gZnJvbSBcIi4uL3JlcG9zaXRvcmllcy9SZXBvc2l0b3J5TG9jYWxQdXJlXCI7XHJcbmltcG9ydCB7IGNhbGN1bGF0ZVNjb3JlQWN0aW9ucyB9IGZyb20gXCIuLi9jYWxjdWxhdGVTY29yZUFjdGlvbnNcIjtcclxuaW1wb3J0IHsgY2FsY3VsYXRlU2NvcmUgfSBmcm9tIFwiLi4vY2FsY3VsYXRlU2NvcmVcIjtcclxuaW1wb3J0IHsgQ2xhaW0gfSBmcm9tIFwiLi4vZGF0YU1vZGVscy9DbGFpbVwiO1xyXG5pbXBvcnQgeyBBY3Rpb24gfSBmcm9tIFwiLi4vZGF0YU1vZGVscy9BY3Rpb25cIjtcclxuaW1wb3J0IHsgQ2xhaW1FZGdlIH0gZnJvbSBcIi4uL2RhdGFNb2RlbHMvQ2xhaW1FZGdlXCI7XHJcbmltcG9ydCB7IFNjb3JlIH0gZnJvbSBcIi4uL2RhdGFNb2RlbHMvU2NvcmVcIjtcclxuaW1wb3J0IHsgU2NvcmVUcmVlIH0gZnJvbSBcIi4uL2RhdGFNb2RlbHMvU2NvcmVUcmVlXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlU2NvcmVBY3Rpb25UZXN0cygpIHtcclxuICBjb25zdCB1ID0gdW5kZWZpbmVkLCBwcm8gPSB0cnVlLCBjb24gPSBmYWxzZVxyXG5cclxuICB0ZXN0KCdhZGQgYSBuZXcgc2NvcmV0cmVlJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgcmVwb3NpdG9yeSA9IG5ldyBSZXBvc2l0b3J5TG9jYWxQdXJlKCk7XHJcbiAgICAvLyBBZGQgYSBuZXcgY2xhaW0gYW5kIHNldCBpdCBhcyBhIHNjb3JlIHRyZWUgdG9wXHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjYWxjdWxhdGVTY29yZUFjdGlvbnMoe1xyXG4gICAgICBhY3Rpb25zOiBbXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW0oXCJcIiwgXCJ0b3BUZXN0Q2xhaW1cIiksIHVuZGVmaW5lZCwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgU2NvcmVUcmVlKFwidG9wVGVzdENsYWltXCIsIFwidGVzdFRvcFNjb3JlXCIsIHUsIFwidGVzdFNjb3JlVHJlZVwiKSwgdW5kZWZpbmVkLCBcImFkZF9zY29yZVRyZWVcIiksXHJcbiAgICAgIF0sXHJcbiAgICAgIHJlcG9zaXRvcnk6IHJlcG9zaXRvcnksXHJcbiAgICAgIGNhbGN1bGF0b3I6IGNhbGN1bGF0ZVNjb3JlXHJcbiAgICB9KVxyXG4gICAgdmFyIHRlc3QgPSBuZXcgQWN0aW9uKG5ldyBTY29yZVRyZWUoXCJ0b3BUZXN0Q2xhaW1cIiwgXCJ0ZXN0VG9wU2NvcmVcIiwgdSwgXCJ0ZXN0U2NvcmVUcmVlXCIpLCB1bmRlZmluZWQsIFwiYWRkX3Njb3JlVHJlZVwiKTtcclxuICAgIGV4cGVjdChyZXBvc2l0b3J5LnJzRGF0YS5zY29yZUlkc0J5U291cmNlSWRbXCJ0b3BUZXN0Q2xhaW1cIl0ubGVuZ3RoKS50b0VxdWFsKDEpXHJcbiAgfSk7XHJcblxyXG4gIHRlc3QoJ0FkZCBhIGNoaWxkIHRoYXQgZG9lcyBub3QgY2hhbmdlIHRoZSB0b3Agc2NvcmUnLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCByZXBvc2l0b3J5ID0gbmV3IFJlcG9zaXRvcnlMb2NhbFB1cmUoKTtcclxuICAgIGNvbnN0IHRlbXAgPSBhd2FpdCBjYWxjdWxhdGVTY29yZUFjdGlvbnMoe1xyXG4gICAgICBhY3Rpb25zOiBbXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW0oXCJcIiwgXCJ0b3BUZXN0Q2xhaW1cIiksIHVuZGVmaW5lZCwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW0oXCJcIiwgXCJDaGlsZENsYWltMVwiKSwgdW5kZWZpbmVkLCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBTY29yZVRyZWUoXCJ0b3BUZXN0Q2xhaW1cIiwgXCJ0ZXN0VG9wU2NvcmVcIiwgdSwgXCJ0ZXN0U2NvcmVUcmVlXCIpLCB1bmRlZmluZWQsIFwiYWRkX3Njb3JlVHJlZVwiKSxcclxuICAgICAgXSxcclxuICAgICAgcmVwb3NpdG9yeTogcmVwb3NpdG9yeVxyXG4gICAgfSlcclxuXHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjYWxjdWxhdGVTY29yZUFjdGlvbnMoe1xyXG4gICAgICBhY3Rpb25zOiBbXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW1FZGdlKFwidG9wVGVzdENsYWltXCIsIFwiQ2hpbGRDbGFpbTFcIiwgdSwgdSwgdSwgXCJQcmlvcml0eSBTZXRcIiksIHVuZGVmaW5lZCwgXCJhZGRfY2xhaW1FZGdlXCIpXHJcbiAgICAgIF0sXHJcbiAgICAgIHJlcG9zaXRvcnk6IHJlcG9zaXRvcnlcclxuICAgIH0pXHJcbiAgICBleHBlY3QoKGF3YWl0IHJlcG9zaXRvcnkuZ2V0U2NvcmUoXCJ0ZXN0VG9wU2NvcmVcIikpPy5jb25maWRlbmNlKS50b0VxdWFsKDEpO1xyXG4gIH0pO1xyXG5cclxuICB0ZXN0KCdQcmlvaXR5IG9uIEFkZCcsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHJlcG9zaXRvcnkgPSBuZXcgUmVwb3NpdG9yeUxvY2FsUHVyZSgpO1xyXG4gICAgY29uc3QgdGVtcCA9IGF3YWl0IGNhbGN1bGF0ZVNjb3JlQWN0aW9ucyh7XHJcbiAgICAgIGFjdGlvbnM6IFtcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbShcIlwiLCBcInRvcFRlc3RDbGFpbVwiKSwgdW5kZWZpbmVkLCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbShcIlwiLCBcIkNoaWxkQ2xhaW0xXCIpLCB1bmRlZmluZWQsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IFNjb3JlVHJlZShcInRvcFRlc3RDbGFpbVwiLCBcInRlc3RUb3BTY29yZVwiLCB1LCBcInRlc3RTY29yZVRyZWVcIiksIHVuZGVmaW5lZCwgXCJhZGRfc2NvcmVUcmVlXCIpLFxyXG4gICAgICBdLFxyXG4gICAgICByZXBvc2l0b3J5OiByZXBvc2l0b3J5XHJcbiAgICB9KVxyXG5cclxuICAgIGNvbnN0IGFjdGlvbnMgPSBbXHJcbiAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltRWRnZShcInRvcFRlc3RDbGFpbVwiLCBcIkNoaWxkQ2xhaW0xXCIsIHUsIHUsIHUsIFwiUHJpb3JpdHkgU2V0XCIpLCB1bmRlZmluZWQsIFwiYWRkX2NsYWltRWRnZVwiKVxyXG4gICAgXTtcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNhbGN1bGF0ZVNjb3JlQWN0aW9ucyh7XHJcbiAgICAgIGFjdGlvbnM6IGFjdGlvbnMsXHJcbiAgICAgIHJlcG9zaXRvcnk6IHJlcG9zaXRvcnlcclxuICAgIH0pXHJcbiAgICBleHBlY3QoKGF3YWl0IHJlcG9zaXRvcnkuZ2V0U2NvcmVzQnlTb3VyY2VJZChcIkNoaWxkQ2xhaW0xXCIpKVswXT8ucHJpb3JpdHkpLnRvRXF1YWwoXCJQcmlvcml0eSBTZXRcIik7XHJcbiAgfSk7XHJcblxyXG4gIHRlc3QoJ1ByaW9pdHkgb24gTW9kaWZ5IGNsYWltRWRnZScsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHJlcG9zaXRvcnkgPSBuZXcgUmVwb3NpdG9yeUxvY2FsUHVyZSgpO1xyXG4gICAgY29uc3QgdGVtcCA9IGF3YWl0IGNhbGN1bGF0ZVNjb3JlQWN0aW9ucyh7XHJcbiAgICAgIGFjdGlvbnM6IFtcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbShcIlwiLCBcInRvcFRlc3RDbGFpbVwiKSwgdW5kZWZpbmVkLCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbShcIlwiLCBcIkNoaWxkQ2xhaW0xXCIpLCB1bmRlZmluZWQsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IFNjb3JlVHJlZShcInRvcFRlc3RDbGFpbVwiLCBcInRlc3RUb3BTY29yZVwiLCB1LCBcInRlc3RTY29yZVRyZWVcIiksIHVuZGVmaW5lZCwgXCJhZGRfc2NvcmVUcmVlXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltRWRnZShcInRvcFRlc3RDbGFpbVwiLCBcIkNoaWxkQ2xhaW0xXCIsIHUsIHUsIHUpLCB1bmRlZmluZWQsIFwiYWRkX2NsYWltRWRnZVwiKVxyXG4gICAgICBdLFxyXG4gICAgICByZXBvc2l0b3J5OiByZXBvc2l0b3J5XHJcbiAgICB9KVxyXG5cclxuICAgIGNvbnN0IGVkZ2UgPSAoYXdhaXQgcmVwb3NpdG9yeS5nZXRDbGFpbUVkZ2VzQnlDaGlsZElkKFwiQ2hpbGRDbGFpbTFcIikpWzBdO1xyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2FsY3VsYXRlU2NvcmVBY3Rpb25zKHtcclxuICAgICAgYWN0aW9uczogW25ldyBBY3Rpb24obmV3IENsYWltRWRnZShcInRvcFRlc3RDbGFpbVwiLCBcIkNoaWxkQ2xhaW0xXCIsIHUsIHUsIGVkZ2UuaWQsICdQcmlvcml0eSBNb2RpZmllZCcpLCB1bmRlZmluZWQsIFwibW9kaWZ5X2NsYWltRWRnZVwiKV0sXHJcbiAgICAgIHJlcG9zaXRvcnk6IHJlcG9zaXRvcnlcclxuICAgIH0pXHJcbiAgICBleHBlY3QoKGF3YWl0IHJlcG9zaXRvcnkuZ2V0U2NvcmVzQnlTb3VyY2VJZChcIkNoaWxkQ2xhaW0xXCIpKVswXT8ucHJpb3JpdHkpLnRvRXF1YWwoXCJQcmlvcml0eSBNb2RpZmllZFwiKTtcclxuICB9KTtcclxuXHJcbiAgdGVzdCgnQ2hhbmdpbmcgYSBjaGlsZCBwcm8gdmFsdWUgc2hvdWxkIGNoYW5nZSB0aGUgdG9wIHNjb3JlJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgcmVwb3NpdG9yeSA9IG5ldyBSZXBvc2l0b3J5TG9jYWxQdXJlKCk7XHJcbiAgICBjb25zdCB0ZW1wID0gYXdhaXQgY2FsY3VsYXRlU2NvcmVBY3Rpb25zKHtcclxuICAgICAgYWN0aW9uczogW1xyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltKFwiXCIsIFwidG9wVGVzdENsYWltXCIpLCB1LCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBTY29yZVRyZWUoXCJ0b3BUZXN0Q2xhaW1cIiwgXCJ0ZXN0VG9wU2NvcmVcIiwgdSwgXCJ0ZXN0U2NvcmVUcmVlXCIpLCB1bmRlZmluZWQsIFwiYWRkX3Njb3JlVHJlZVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbShcIlwiLCBcIkNoaWxkQ2xhaW0xXCIpLCB1LCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbUVkZ2UoXCJ0b3BUZXN0Q2xhaW1cIiwgXCJDaGlsZENsYWltMVwiLCB1LCB0cnVlLCBcIkNoaWxkQ2xhaW0xRWRnZVwiKSwgdSwgXCJhZGRfY2xhaW1FZGdlXCIpXHJcbiAgICAgIF0sXHJcbiAgICAgIHJlcG9zaXRvcnk6IHJlcG9zaXRvcnlcclxuICAgIH0pXHJcblxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2FsY3VsYXRlU2NvcmVBY3Rpb25zKHtcclxuICAgICAgYWN0aW9uczogW1xyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltRWRnZShcInRvcFRlc3RDbGFpbVwiLCBcIkNoaWxkQ2xhaW0xXCIsIHUsIGZhbHNlLCBcIkNoaWxkQ2xhaW0xRWRnZVwiKSwgdSwgXCJtb2RpZnlfY2xhaW1FZGdlXCIpXHJcbiAgICAgIF0sXHJcbiAgICAgIHJlcG9zaXRvcnk6IHJlcG9zaXRvcnlcclxuICAgIH0pXHJcblxyXG4gICAgZXhwZWN0KChhd2FpdCByZXBvc2l0b3J5LmdldFNjb3Jlc0J5U291cmNlSWQoXCJ0b3BUZXN0Q2xhaW1cIikpWzBdLmNvbmZpZGVuY2UpLnRvRXF1YWwoLTEpO1xyXG4gIH0pO1xyXG5cclxuICB0ZXN0KCdBZGQgYSBjaGlsZCB0aGF0IHJldmVyc2VzIHRoZSB0b3Agc2NvcmUnLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCByZXBvc2l0b3J5ID0gbmV3IFJlcG9zaXRvcnlMb2NhbFB1cmUoKTtcclxuICAgIGNvbnN0IHRlbXAgPSBhd2FpdCBjYWxjdWxhdGVTY29yZUFjdGlvbnMoe1xyXG4gICAgICBhY3Rpb25zOiBbXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW0oXCJcIiwgXCJ0b3BUZXN0Q2xhaW1cIiksIHUsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IFNjb3JlVHJlZShcInRvcFRlc3RDbGFpbVwiLCBcInRlc3RUb3BTY29yZVwiLCB1LCBcInRlc3RTY29yZVRyZWVcIiksIHUsIFwiYWRkX3Njb3JlVHJlZVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbShcIlwiLCBcIkNoaWxkQ2xhaW0xXCIpLCB1LCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgXSxcclxuICAgICAgcmVwb3NpdG9yeTogcmVwb3NpdG9yeVxyXG4gICAgfSlcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNhbGN1bGF0ZVNjb3JlQWN0aW9ucyh7XHJcbiAgICAgIGFjdGlvbnM6IFtcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbUVkZ2UoXCJ0b3BUZXN0Q2xhaW1cIiwgXCJDaGlsZENsYWltMVwiLCB1LCBmYWxzZSwgXCJDaGlsZENsYWltMUVkZ2VcIiksIHUsIFwiYWRkX2NsYWltRWRnZVwiKVxyXG4gICAgICBdLFxyXG4gICAgICByZXBvc2l0b3J5OiByZXBvc2l0b3J5LFxyXG4gICAgICBjYWxjdWxhdG9yOiBjYWxjdWxhdGVTY29yZVxyXG4gICAgfSlcclxuXHJcbiAgICBleHBlY3QoKGF3YWl0IHJlcG9zaXRvcnkuZ2V0U2NvcmVzQnlTb3VyY2VJZChcInRvcFRlc3RDbGFpbVwiKSlbMF0uY29uZmlkZW5jZSkudG9FcXVhbCgtMSk7XHJcbiAgfSk7XHJcblxyXG4gIHRlc3QoJ0FkZGluZyBhIGdyYW5kY2hpbGQgc2NvcmUgUmV2ZXJzZXMgU2NvcmVzIDIgbGV2ZWxzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgcmVwb3NpdG9yeSA9IG5ldyBSZXBvc2l0b3J5TG9jYWxQdXJlKCk7XHJcbiAgICBjb25zdCB0ZW1wID0gYXdhaXQgY2FsY3VsYXRlU2NvcmVBY3Rpb25zKHtcclxuICAgICAgYWN0aW9uczogW1xyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltKFwiXCIsIFwidG9wVGVzdENsYWltXCIpLCB1bmRlZmluZWQsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IFNjb3JlVHJlZShcInRvcFRlc3RDbGFpbVwiLCBcInRlc3RUb3BTY29yZVwiLCB1LCBcInRlc3RTY29yZVRyZWVcIiksIHVuZGVmaW5lZCwgXCJhZGRfc2NvcmVUcmVlXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltKFwiXCIsIFwiQ2hpbGRDbGFpbTFcIiksIHVuZGVmaW5lZCwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW0oXCJcIiwgXCJDaGlsZENsYWltMlwiKSwgdW5kZWZpbmVkLCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbUVkZ2UoXCJ0b3BUZXN0Q2xhaW1cIiwgXCJDaGlsZENsYWltMVwiLCB1bmRlZmluZWQsIGZhbHNlLCBcIkNoaWxkQ2xhaW0xRWRnZVwiKSwgdW5kZWZpbmVkLCBcImFkZF9jbGFpbUVkZ2VcIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW1FZGdlKFwidG9wVGVzdENsYWltXCIsIFwiQ2hpbGRDbGFpbTJcIiwgdW5kZWZpbmVkLCB0cnVlLCBcIkNoaWxkQ2xhaW0yRWRnZVwiKSwgdW5kZWZpbmVkLCBcImFkZF9jbGFpbUVkZ2VcIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW0oXCJcIiwgXCJncmFuZENoaWxkMVwiKSwgdW5kZWZpbmVkLCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgXSxcclxuICAgICAgcmVwb3NpdG9yeTogcmVwb3NpdG9yeVxyXG4gICAgfSlcclxuXHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjYWxjdWxhdGVTY29yZUFjdGlvbnMoe1xyXG4gICAgICBhY3Rpb25zOiBbXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW1FZGdlKFwiQ2hpbGRDbGFpbTFcIiwgXCJncmFuZENoaWxkMVwiLCB1bmRlZmluZWQsIGZhbHNlLCBcIkdyYW5kQ2hpbGRDbGFpbTFFZGdlXCIpLCB1bmRlZmluZWQsIFwiYWRkX2NsYWltRWRnZVwiKVxyXG4gICAgICBdLFxyXG4gICAgICByZXBvc2l0b3J5OiByZXBvc2l0b3J5LFxyXG4gICAgICBjYWxjdWxhdG9yOiBjYWxjdWxhdGVTY29yZVxyXG4gICAgfSlcclxuXHJcbiAgICBleHBlY3QoKGF3YWl0IHJlcG9zaXRvcnkuZ2V0U2NvcmUoXCJ0ZXN0VG9wU2NvcmVcIikpPy5jb25maWRlbmNlKS50b0VxdWFsKDEpO1xyXG5cclxuICB9KTtcclxuXHJcbiAgdGVzdCgnQ29tcGxleCBUZXN0JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgcmVwb3NpdG9yeSA9IG5ldyBSZXBvc2l0b3J5TG9jYWxQdXJlKCk7XHJcbiAgICBjb25zdCBjaGFuZ2VkU2NvcmVzID0gYXdhaXQgY2FsY3VsYXRlU2NvcmVBY3Rpb25zKHtcclxuICAgICAgYWN0aW9uczogW1xyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltKFwiVG9wIENsYWltXCIsIFwidG9wVGVzdENsYWltXCIpLCB1LCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbShcIkNoaWxkIENsYWltIDFcIiwgXCJDaGlsZENsYWltMVwiKSwgdSwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW0oXCJDaGlsZCBDbGFpbSAyXCIsIFwiQ2hpbGRDbGFpbTJcIiksIHUsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltKFwiR3JhbmRjaGlsZCBDbGFpbSAxXCIsIFwiZ3JhbmRDaGlsZDFcIiksIHUsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltRWRnZShcInRvcFRlc3RDbGFpbVwiLCBcIkNoaWxkQ2xhaW0xXCIsIHUsIGZhbHNlLCBcIkNoaWxkQ2xhaW0xRWRnZVwiKSwgdSwgXCJhZGRfY2xhaW1FZGdlXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltRWRnZShcInRvcFRlc3RDbGFpbVwiLCBcIkNoaWxkQ2xhaW0yXCIsIHUsIHRydWUsIFwiQ2hpbGRDbGFpbTJFZGdlXCIpLCB1LCBcImFkZF9jbGFpbUVkZ2VcIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW1FZGdlKFwiQ2hpbGRDbGFpbTFcIiwgXCJncmFuZENoaWxkMVwiLCB1LCBmYWxzZSwgXCJHcmFuZENoaWxkQ2xhaW0xRWRnZVwiKSwgdSwgXCJhZGRfY2xhaW1FZGdlXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IFNjb3JlVHJlZShcInRvcFRlc3RDbGFpbVwiLCBcInRlc3RUb3BTY29yZVwiLCB1LCBcInRlc3RTY29yZVRyZWVcIiksIHVuZGVmaW5lZCwgXCJhZGRfc2NvcmVUcmVlXCIpLFxyXG4gICAgICBdLFxyXG4gICAgICByZXBvc2l0b3J5OiByZXBvc2l0b3J5XHJcbiAgICB9KVxyXG5cclxuICAgIGV4cGVjdCgocmVwb3NpdG9yeS5yc0RhdGEuaXRlbXNbXCJ0ZXN0VG9wU2NvcmVcIl0gYXMgU2NvcmUpLmNvbmZpZGVuY2UpLnRvRXF1YWwoMSk7XHJcbiAgICBleHBlY3QocmVwb3NpdG9yeS5yc0RhdGEuc2NvcmVJZHNCeVNvdXJjZUlkW1widG9wVGVzdENsYWltXCJdLmxlbmd0aCkudG9FcXVhbCgxKTtcclxuXHJcbiAgICAvL1dlaXJkIHNjb3JlIG5vdCBjaGFuZ2luZ1xyXG4gICAgY29uc3QgQ2hpbGRDbGFpbTFTY29yZXNJbml0aWFsID0gYXdhaXQgcmVwb3NpdG9yeS5nZXRTY29yZXNCeVNvdXJjZUlkKFwiQ2hpbGRDbGFpbTFcIilcclxuICAgIGV4cGVjdChDaGlsZENsYWltMVNjb3Jlc0luaXRpYWxbMF0ucHJvKS50b0VxdWFsKGZhbHNlKTtcclxuXHJcbiAgICBjb25zdCBjaGFuZ2VkU2NvcmVzMiA9IGF3YWl0IGNhbGN1bGF0ZVNjb3JlQWN0aW9ucyh7XHJcbiAgICAgIGFjdGlvbnM6IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICBcIm5ld0RhdGFcIjoge1xyXG4gICAgICAgICAgICBcImNvbnRlbnRcIjogXCJDaGlsZCBDbGFpbSAxXCIsXHJcbiAgICAgICAgICAgIFwiaWRcIjogXCJDaGlsZENsYWltMVwiLFxyXG4gICAgICAgICAgICBcInJldmVyc2libGVcIjogZmFsc2UsXHJcbiAgICAgICAgICAgIFwidHlwZVwiOiBcImNsYWltXCJcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBcInR5cGVcIjogXCJtb2RpZnlfY2xhaW1cIixcclxuICAgICAgICAgIFwiZGF0YUlkXCI6IFwiQ2hpbGRDbGFpbTFcIlxyXG4gICAgICAgIH0gYXMgQWN0aW9uLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIFwibmV3RGF0YVwiOiB7XHJcbiAgICAgICAgICAgIFwicGFyZW50SWRcIjogXCJ0b3BUZXN0Q2xhaW1cIixcclxuICAgICAgICAgICAgXCJjaGlsZElkXCI6IFwiQ2hpbGRDbGFpbTFcIixcclxuICAgICAgICAgICAgXCJhZmZlY3RzXCI6IFwiY29uZmlkZW5jZVwiLFxyXG4gICAgICAgICAgICBcInByb1wiOiB0cnVlLFxyXG4gICAgICAgICAgICBcImlkXCI6IFwiQ2hpbGRDbGFpbTFFZGdlXCIsXHJcbiAgICAgICAgICAgIFwicHJpb3JpdHlcIjogXCJcIixcclxuICAgICAgICAgICAgXCJ0eXBlXCI6IFwiY2xhaW1FZGdlXCJcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBcInR5cGVcIjogXCJtb2RpZnlfY2xhaW1FZGdlXCIsXHJcbiAgICAgICAgICBcImRhdGFJZFwiOiBcIkNoaWxkQ2xhaW0xRWRnZVwiXHJcbiAgICAgICAgfSBhcyBBY3Rpb25cclxuICAgICAgXSxcclxuICAgICAgcmVwb3NpdG9yeTogcmVwb3NpdG9yeVxyXG4gICAgfSlcclxuXHJcbiAgICBjb25zdCBDaGlsZENsYWltMVNjb3JlcyA9IGF3YWl0IHJlcG9zaXRvcnkuZ2V0U2NvcmVzQnlTb3VyY2VJZChcIkNoaWxkQ2xhaW0xXCIpXHJcbiAgICBleHBlY3QoQ2hpbGRDbGFpbTFTY29yZXNbMF0ucHJvKS50b0VxdWFsKHRydWUpO1xyXG4gIH0pO1xyXG5cclxuICB0ZXN0KCdQYXJ0aWFsIENsYWltIEVkZ2UgR3JhbmRjaGlsZCBVcGRhdGUnLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCByZXBvc2l0b3J5ID0gbmV3IFJlcG9zaXRvcnlMb2NhbFB1cmUoKTtcclxuICAgIGNvbnN0IGNoYW5nZWRTY29yZXMgPSBhd2FpdCBjYWxjdWxhdGVTY29yZUFjdGlvbnMoe1xyXG4gICAgICBhY3Rpb25zOiBbXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW0oXCJUb3AgQ2xhaW1cIiwgXCJ0b3BUZXN0Q2xhaW1cIiksIHUsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltKFwiQ2hpbGQgQ2xhaW0gMVwiLCBcIkNoaWxkQ2xhaW0xXCIpLCB1LCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbShcIkNoaWxkIENsYWltIDJcIiwgXCJDaGlsZENsYWltMlwiKSwgdSwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW0oXCJHcmFuZGNoaWxkIENsYWltIDFcIiwgXCJncmFuZENoaWxkMVwiKSwgdSwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW1FZGdlKFwidG9wVGVzdENsYWltXCIsIFwiQ2hpbGRDbGFpbTFcIiwgdSwgZmFsc2UsIFwiQ2hpbGRDbGFpbTFFZGdlXCIpLCB1LCBcImFkZF9jbGFpbUVkZ2VcIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW1FZGdlKFwidG9wVGVzdENsYWltXCIsIFwiQ2hpbGRDbGFpbTJcIiwgdSwgdHJ1ZSwgXCJDaGlsZENsYWltMkVkZ2VcIiksIHUsIFwiYWRkX2NsYWltRWRnZVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbUVkZ2UoXCJDaGlsZENsYWltMVwiLCBcImdyYW5kQ2hpbGQxXCIsIHUsIGZhbHNlLCBcIkdyYW5kQ2hpbGRDbGFpbTFFZGdlXCIpLCB1LCBcImFkZF9jbGFpbUVkZ2VcIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgU2NvcmVUcmVlKFwidG9wVGVzdENsYWltXCIsIFwidGVzdFRvcFNjb3JlXCIsIHUsIFwidGVzdFNjb3JlVHJlZVwiKSwgdW5kZWZpbmVkLCBcImFkZF9zY29yZVRyZWVcIiksXHJcbiAgICAgIF0sXHJcbiAgICAgIHJlcG9zaXRvcnk6IHJlcG9zaXRvcnlcclxuICAgIH0pXHJcblxyXG4gICAgLy9hd2FpdCByZXBvc2l0b3J5Lm5vdGlmeShjaGFuZ2VkU2NvcmVzKTtcclxuICAgIGV4cGVjdCgoYXdhaXQgcmVwb3NpdG9yeS5nZXRTY29yZShcInRlc3RUb3BTY29yZVwiKSk/LmNvbmZpZGVuY2UpLnRvRXF1YWwoMSk7XHJcbiAgICBleHBlY3QocmVwb3NpdG9yeS5yc0RhdGEuc2NvcmVJZHNCeVNvdXJjZUlkW1widG9wVGVzdENsYWltXCJdLmxlbmd0aCkudG9FcXVhbCgxKTtcclxuXHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjYWxjdWxhdGVTY29yZUFjdGlvbnMoe1xyXG4gICAgICBhY3Rpb25zOiBbXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW1FZGdlKFwidG9wVGVzdENsYWltXCIsIFwiQ2hpbGRDbGFpbTJcIiwgdSwgZmFsc2UsIFwiQ2hpbGRDbGFpbTJFZGdlXCIpLCB1LCBcIm1vZGlmeV9jbGFpbUVkZ2VcIiksXHJcbiAgICAgIF0sXHJcbiAgICAgIHJlcG9zaXRvcnk6IHJlcG9zaXRvcnlcclxuICAgIH0pXHJcbiAgICBhd2FpdCByZXBvc2l0b3J5Lm5vdGlmeShyZXN1bHQpO1xyXG4gICAgZXhwZWN0KChhd2FpdCByZXBvc2l0b3J5LmdldFNjb3JlKFwidGVzdFRvcFNjb3JlXCIpKT8uY29uZmlkZW5jZSkudG9FcXVhbCgtMSk7XHJcblxyXG4gICAgY29uc3QgcmVzdWx0MiA9IGF3YWl0IGNhbGN1bGF0ZVNjb3JlQWN0aW9ucyh7XHJcbiAgICAgIGFjdGlvbnM6IFtcclxuICAgICAgICBuZXcgQWN0aW9uKHsgcHJvOiB0cnVlIH0sIHUsIFwibW9kaWZ5X2NsYWltRWRnZVwiLCBcIkNoaWxkQ2xhaW0yRWRnZVwiKSxcclxuICAgICAgICAvL25ldyBBY3Rpb24obmV3IENsYWltRWRnZShcInRvcFRlc3RDbGFpbVwiLCBcIkNoaWxkQ2xhaW0yXCIsIHUsIHRydWUsIFwiQ2hpbGRDbGFpbTJFZGdlXCIpLCB1LCBcIm1vZGlmeV9jbGFpbUVkZ2VcIiksXHJcbiAgICAgIF0sXHJcbiAgICAgIHJlcG9zaXRvcnk6IHJlcG9zaXRvcnlcclxuICAgIH0pXHJcblxyXG4gICAgYXdhaXQgcmVwb3NpdG9yeS5ub3RpZnkocmVzdWx0Mik7XHJcbiAgICBleHBlY3QoKGF3YWl0IHJlcG9zaXRvcnkuZ2V0U2NvcmUoXCJ0ZXN0VG9wU2NvcmVcIikpPy5jb25maWRlbmNlKS50b0VxdWFsKDEpO1xyXG4gIH0pO1xyXG5cclxuICB0ZXN0KCdQYXJ0aWFsIENsYWltIEVkZ2UgQ2hpbGQgVXBkYXRlJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgcmVwb3NpdG9yeSA9IG5ldyBSZXBvc2l0b3J5TG9jYWxQdXJlKCk7XHJcbiAgICBjb25zdCBjaGFuZ2VkU2NvcmVzID0gYXdhaXQgY2FsY3VsYXRlU2NvcmVBY3Rpb25zKHtcclxuICAgICAgYWN0aW9uczogW1xyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltKFwiVG9wIENsYWltXCIsIFwidG9wVGVzdENsYWltXCIpLCB1LCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbShcIkNoaWxkIENsYWltIDFcIiwgXCJDaGlsZENsYWltMVwiKSwgdSwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW0oXCJDaGlsZCBDbGFpbSAyXCIsIFwiQ2hpbGRDbGFpbTJcIiksIHUsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltKFwiR3JhbmRjaGlsZCBDbGFpbSAxXCIsIFwiZ3JhbmRDaGlsZDFcIiksIHUsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltRWRnZShcInRvcFRlc3RDbGFpbVwiLCBcIkNoaWxkQ2xhaW0xXCIsIHUsIGZhbHNlLCBcIkNoaWxkQ2xhaW0xRWRnZVwiKSwgdSwgXCJhZGRfY2xhaW1FZGdlXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltRWRnZShcInRvcFRlc3RDbGFpbVwiLCBcIkNoaWxkQ2xhaW0yXCIsIHUsIHRydWUsIFwiQ2hpbGRDbGFpbTJFZGdlXCIpLCB1LCBcImFkZF9jbGFpbUVkZ2VcIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW1FZGdlKFwiQ2hpbGRDbGFpbTFcIiwgXCJncmFuZENoaWxkMVwiLCB1LCBmYWxzZSwgXCJHcmFuZENoaWxkQ2xhaW0xRWRnZVwiKSwgdSwgXCJhZGRfY2xhaW1FZGdlXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IFNjb3JlVHJlZShcInRvcFRlc3RDbGFpbVwiLCBcInRlc3RUb3BTY29yZVwiLCB1LCBcInRlc3RTY29yZVRyZWVcIiksIHVuZGVmaW5lZCwgXCJhZGRfc2NvcmVUcmVlXCIpLFxyXG4gICAgICBdLFxyXG4gICAgICByZXBvc2l0b3J5OiByZXBvc2l0b3J5XHJcbiAgICB9KVxyXG5cclxuICAgIC8vYXdhaXQgcmVwb3NpdG9yeS5ub3RpZnkoY2hhbmdlZFNjb3Jlcyk7XHJcbiAgICBleHBlY3QoKGF3YWl0IHJlcG9zaXRvcnkuZ2V0U2NvcmUoXCJ0ZXN0VG9wU2NvcmVcIikpPy5jb25maWRlbmNlKS50b0VxdWFsKDEpO1xyXG5cclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNhbGN1bGF0ZVNjb3JlQWN0aW9ucyh7XHJcbiAgICAgIGFjdGlvbnM6IFtcclxuICAgICAgICBuZXcgQWN0aW9uKHsgcHJvOiBmYWxzZSB9LCB1LCBcIm1vZGlmeV9jbGFpbUVkZ2VcIiwgXCJDaGlsZENsYWltMkVkZ2VcIiksXHJcbiAgICAgICAgLy9uZXcgQWN0aW9uKG5ldyBDbGFpbUVkZ2UoXCJ0b3BUZXN0Q2xhaW1cIiwgXCJDaGlsZENsYWltMlwiLCB1LCBmYWxzZSwgXCJDaGlsZENsYWltMkVkZ2VcIiksIHUsIFwibW9kaWZ5X2NsYWltRWRnZVwiKSxcclxuICAgICAgXSxcclxuICAgICAgcmVwb3NpdG9yeTogcmVwb3NpdG9yeVxyXG4gICAgfSlcclxuICAgIC8vYXdhaXQgcmVwb3NpdG9yeS5ub3RpZnkocmVzdWx0KTtcclxuICAgIGV4cGVjdCgoYXdhaXQgcmVwb3NpdG9yeS5nZXRTY29yZShcInRlc3RUb3BTY29yZVwiKSk/LmNvbmZpZGVuY2UpLnRvRXF1YWwoLTEpO1xyXG5cclxuICAgIGNvbnN0IHJlc3VsdDIgPSBhd2FpdCBjYWxjdWxhdGVTY29yZUFjdGlvbnMoe1xyXG4gICAgICBhY3Rpb25zOiBbXHJcbiAgICAgICAgbmV3IEFjdGlvbih7IHBybzogdHJ1ZSB9LCB1LCBcIm1vZGlmeV9jbGFpbUVkZ2VcIiwgXCJDaGlsZENsYWltMkVkZ2VcIiksXHJcbiAgICAgICAgLy9uZXcgQWN0aW9uKG5ldyBDbGFpbUVkZ2UoXCJ0b3BUZXN0Q2xhaW1cIiwgXCJDaGlsZENsYWltMlwiLCB1LCB0cnVlLCBcIkNoaWxkQ2xhaW0yRWRnZVwiKSwgdSwgXCJtb2RpZnlfY2xhaW1FZGdlXCIpLFxyXG4gICAgICBdLFxyXG4gICAgICByZXBvc2l0b3J5OiByZXBvc2l0b3J5XHJcbiAgICB9KVxyXG5cclxuICAgIGV4cGVjdCgoYXdhaXQgcmVwb3NpdG9yeS5nZXRTY29yZShcInRlc3RUb3BTY29yZVwiKSk/LmNvbmZpZGVuY2UpLnRvRXF1YWwoMSk7XHJcbiAgfSk7XHJcblxyXG4gIHRlc3QoJ0RlbGV0aW5nIGFuIGVkZ2Ugc2hvdWxkIHJldmVyc2VzIHRoZSB0b3Agc2NvcmUnLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCByZXBvc2l0b3J5ID0gbmV3IFJlcG9zaXRvcnlMb2NhbFB1cmUoKTtcclxuICAgIGF3YWl0IGNhbGN1bGF0ZVNjb3JlQWN0aW9ucyh7XHJcbiAgICAgIGFjdGlvbnM6IFtcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbShcIlwiLCBcInRvcFRlc3RDbGFpbVwiKSwgdW5kZWZpbmVkLCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbShcIlwiLCBcIkNoaWxkQ2xhaW0xXCIpLCB1bmRlZmluZWQsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltRWRnZShcInRvcFRlc3RDbGFpbVwiLCBcIkNoaWxkQ2xhaW0xXCIsIHVuZGVmaW5lZCwgZmFsc2UsIFwiQ2hpbGRDbGFpbTFFZGdlXCIpLCB1bmRlZmluZWQsIFwiYWRkX2NsYWltRWRnZVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBTY29yZVRyZWUoXCJ0b3BUZXN0Q2xhaW1cIiwgXCJ0ZXN0VG9wU2NvcmVcIiwgdSwgXCJ0ZXN0U2NvcmVUcmVlXCIpLCB1bmRlZmluZWQsIFwiYWRkX3Njb3JlVHJlZVwiKSxcclxuICAgICAgXSwgcmVwb3NpdG9yeTogcmVwb3NpdG9yeVxyXG4gICAgfSlcclxuXHJcbiAgICBleHBlY3QoKGF3YWl0IHJlcG9zaXRvcnkuZ2V0U2NvcmUoXCJ0ZXN0VG9wU2NvcmVcIikpPy5jb25maWRlbmNlKS50b0VxdWFsKC0xKTtcclxuXHJcbiAgICBhd2FpdCBjYWxjdWxhdGVTY29yZUFjdGlvbnMoe1xyXG4gICAgICBhY3Rpb25zOiBbXHJcbiAgICAgICAgbmV3IEFjdGlvbih1LCB7IHBhcmVudElkOiBcInRvcFRlc3RDbGFpbVwiIH0sIFwiZGVsZXRlX2NsYWltRWRnZVwiLCBcIkNoaWxkQ2xhaW0xRWRnZVwiKVxyXG4gICAgICBdLCByZXBvc2l0b3J5OiByZXBvc2l0b3J5LFxyXG4gICAgfSlcclxuXHJcbiAgICBleHBlY3QoKGF3YWl0IHJlcG9zaXRvcnkuZ2V0U2NvcmUoXCJ0ZXN0VG9wU2NvcmVcIikpPy5jb25maWRlbmNlKS50b0VxdWFsKDEpO1xyXG4gIH0pO1xyXG5cclxuICB0ZXN0KCdNdWx0aSBsZXZlbCByZWxldmFuY2UgZGVsZXRlIHRlc3QnLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCByZXBvc2l0b3J5ID0gbmV3IFJlcG9zaXRvcnlMb2NhbFB1cmUoKTtcclxuXHJcbiAgICBjb25zdCBwcm8gPSB0cnVlO1xyXG4gICAgY29uc3QgY29uID0gZmFsc2U7XHJcbiAgICBjb25zdCB0b3BDbGFpbSA9IG5ldyBDbGFpbShcIlNob3VsZCBGaWN0aW9uIENpdHkgY29udmVydCBFbG0gU3RyZWV0IHRvIG9ubHkgcGVkZXN0cmlhbiB0cmFmZmljP1wiLCBcInRvcFRlc3RDbGFpbVwiKVxyXG4gICAgY29uc3QgQ2xhaW0xXzAgPSBuZXcgQ2xhaW0oXCJUaGUgcGxhbm5pbmcgY29tbWlzc2lvbiBlc3RpbWF0ZXMgdGhpcyB3aWxsIGluY3JlYXNlIGZvb3QgdHJhZmZpYyB0byBsb2NhbCBzaG9wcyBieSAxMiUgZHVyaW5nIHBlYWsgaG91cnMuXCIsIFwiQ2xhaW0xXzBcIilcclxuICAgIGNvbnN0IENsYWltMV8xID0gbmV3IENsYWltKFwiVGhlIGluY3JlYXNlIGluIHJldmVudWUgaXMgZXhwZWN0ZWQgdG8gcGF5IG9mZiB0aGUgZXhwZW5zZSBpbiB1bmRlciAyIHllYXJzIG1lZXRpbmcgdGhlIGNpdGllcyBpbnZlc3RtZW50IHJlcXVpcmVtZW50cy5cIiwgXCJDbGFpbTFfMVwiKVxyXG4gICAgY29uc3QgQ2xhaW0yXzAgPSBuZXcgQ2xhaW0oXCJUaGlzIHdpbGwgcmVzdWx0IGluIHRyYWZmaWMgYmVpbmcgZGl2ZXJ0ZWQgZG93biByZXNpZGVudGlhbCBzdHJlZXRzLlwiKVxyXG4gICAgY29uc3QgQ2xhaW0yXzEgPSBuZXcgQ2xhaW0oXCJDaGlsZHJlbiBzYWZldHkgaXMgbW9yZSBpbXBvcnRhbnQgdGhhbiBwcm9maXQgZm9yIGxvY2FsIHNob3BzLlwiKVxyXG4gICAgY29uc3QgQ2xhaW0yXzIgPSBuZXcgQ2xhaW0oXCJBIHNldCBvZiByYWlscm9hZCB0cmFja3MgYXJlIG5vIGxvbmdlciBpbiB1c2UgYW5kIHRoZSBDaXR5IGNhbiBjb252ZXJ0IHRoYXQgdG8gYSBuZXcgc3RyZWV0LlwiKVxyXG4gICAgY29uc3QgQ2xhaW0zXzAgPSBuZXcgQ2xhaW0oXCJUaGUgY29udmVyc2lvbiB3aWxsIGNvc3QgMiBNaWxsaW9uIGRvbGxhcnMuXCIpXHJcbiAgICBjb25zdCBDbGFpbUVkZ2UxXzAgPSBuZXcgQ2xhaW1FZGdlKHRvcENsYWltLmlkLCBDbGFpbTFfMC5pZCwgdSwgcHJvLCBcIkNsYWltRWRnZTFfMFwiKTtcclxuICAgIGNvbnN0IENsYWltRWRnZTFfMSA9IG5ldyBDbGFpbUVkZ2UoQ2xhaW0xXzAuaWQsIENsYWltMV8xLmlkLCBcInJlbGV2YW5jZVwiLCBwcm8sIFwiQ2xhaW1FZGdlMV8xXCIpXHJcbiAgICBjb25zdCBhY3Rpb25zID0gW1xyXG4gICAgICBuZXcgQWN0aW9uKHRvcENsYWltLCB1LCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgbmV3IEFjdGlvbihDbGFpbTFfMCwgdSwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgIG5ldyBBY3Rpb24oQ2xhaW0xXzEsIHUsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICBuZXcgQWN0aW9uKENsYWltMl8wLCB1LCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgbmV3IEFjdGlvbihDbGFpbTJfMSwgdSwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgIG5ldyBBY3Rpb24oQ2xhaW0yXzIsIHUsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICBuZXcgQWN0aW9uKENsYWltM18wLCB1LCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgbmV3IEFjdGlvbihDbGFpbUVkZ2UxXzAsIHUsIFwiYWRkX2NsYWltRWRnZVwiKSxcclxuICAgICAgbmV3IEFjdGlvbihDbGFpbUVkZ2UxXzEsIHUsIFwiYWRkX2NsYWltRWRnZVwiKSxcclxuICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW1FZGdlKHRvcENsYWltLmlkLCBDbGFpbTJfMC5pZCwgdSwgY29uKSwgdSwgXCJhZGRfY2xhaW1FZGdlXCIpLFxyXG4gICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbUVkZ2UoQ2xhaW0yXzAuaWQsIENsYWltMl8xLmlkLCBcInJlbGV2YW5jZVwiLCBjb24pLCB1LCBcImFkZF9jbGFpbUVkZ2VcIiksXHJcbiAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltRWRnZShDbGFpbTJfMC5pZCwgQ2xhaW0yXzIuaWQsIHUsIGNvbiksIHUsIFwiYWRkX2NsYWltRWRnZVwiKSxcclxuICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW1FZGdlKHRvcENsYWltLmlkLCBDbGFpbTNfMC5pZCwgdSwgY29uKSwgdSwgXCJhZGRfY2xhaW1FZGdlXCIpLFxyXG4gICAgICBuZXcgQWN0aW9uKG5ldyBTY29yZSh0b3BDbGFpbS5pZCwgdG9wQ2xhaW0uaWQsIHUsIHUsIHUsIHUsIHUsIDAsIHUsIFwidGVzdFRvcFNjb3JlXCIpLCB1LCBcImFkZF9zY29yZVwiKSxcclxuICAgICAgbmV3IEFjdGlvbihuZXcgU2NvcmVUcmVlKFwidG9wVGVzdENsYWltXCIsIFwidGVzdFRvcFNjb3JlXCIsIHUsIFwidGVzdFNjb3JlVHJlZVwiKSwgdW5kZWZpbmVkLCBcImFkZF9zY29yZVRyZWVcIiksXHJcblxyXG5cclxuICAgIF1cclxuICAgIGF3YWl0IGNhbGN1bGF0ZVNjb3JlQWN0aW9ucyh7IGFjdGlvbnM6IGFjdGlvbnMsIHJlcG9zaXRvcnk6IHJlcG9zaXRvcnkgfSlcclxuXHJcbiAgICBleHBlY3QoKGF3YWl0IHJlcG9zaXRvcnkuZ2V0U2NvcmUoXCJ0ZXN0VG9wU2NvcmVcIikpPy5jb25maWRlbmNlKS50b0VxdWFsKDAuMzMzMzMzMzMzMzMzMzMzMyk7XHJcblxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2FsY3VsYXRlU2NvcmVBY3Rpb25zKHtcclxuICAgICAgYWN0aW9uczogW1xyXG4gICAgICAgIG5ldyBBY3Rpb24odW5kZWZpbmVkLCBDbGFpbUVkZ2UxXzEsIFwiZGVsZXRlX2NsYWltRWRnZVwiLCBDbGFpbUVkZ2UxXzEuaWQpXHJcbiAgICAgIF0sIHJlcG9zaXRvcnk6IHJlcG9zaXRvcnlcclxuICAgIH0pXHJcblxyXG4gICAgZXhwZWN0KChhd2FpdCByZXBvc2l0b3J5LmdldFNjb3JlKFwidGVzdFRvcFNjb3JlXCIpKT8uY29uZmlkZW5jZSkudG9FcXVhbCgwKTtcclxuXHJcblxyXG4gIH0pO1xyXG5cclxuICB0ZXN0KCdSZWxldmFuY2UgdGVzdCcsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHJlcG9zaXRvcnkgPSBuZXcgUmVwb3NpdG9yeUxvY2FsUHVyZSgpO1xyXG4gICAgbGV0IHJlc3VsdDtcclxuICAgIGF3YWl0IGNhbGN1bGF0ZVNjb3JlQWN0aW9ucyh7XHJcbiAgICAgIGFjdGlvbnM6IFtcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbShcIlRvcCBDbGFpbVwiLCBcInRvcFRlc3RDbGFpbVwiKSwgdSwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW0oXCJDaGlsZCBDbGFpbSAxXCIsIFwiQ2hpbGRDbGFpbTFcIiksIHUsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltKFwiQ2hpbGQgQ2xhaW0gMlwiLCBcIkNoaWxkQ2xhaW0yXCIpLCB1LCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbShcIkdyYW5kY2hpbGQgQ2xhaW0gMVwiLCBcImdyYW5kQ2hpbGQxXCIpLCB1LCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbUVkZ2UoXCJ0b3BUZXN0Q2xhaW1cIiwgXCJDaGlsZENsYWltMVwiLCB1LCBwcm8sIFwiQ2hpbGRDbGFpbTFFZGdlXCIpLCB1LCBcImFkZF9jbGFpbUVkZ2VcIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW1FZGdlKFwidG9wVGVzdENsYWltXCIsIFwiQ2hpbGRDbGFpbTJcIiwgdSwgY29uLCBcIkNoaWxkQ2xhaW0yRWRnZVwiKSwgdSwgXCJhZGRfY2xhaW1FZGdlXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltRWRnZShcIkNoaWxkQ2xhaW0xXCIsIFwiZ3JhbmRDaGlsZDFcIiwgXCJyZWxldmFuY2VcIiwgcHJvLCBcIkdyYW5kQ2hpbGRDbGFpbTFFZGdlXCIpLCB1LCBcImFkZF9jbGFpbUVkZ2VcIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgU2NvcmVUcmVlKFwidG9wVGVzdENsYWltXCIsIFwidGVzdFRvcFNjb3JlXCIsIHUsIFwidGVzdFNjb3JlVHJlZVwiKSwgdW5kZWZpbmVkLCBcImFkZF9zY29yZVRyZWVcIiksXHJcbiAgICAgIF0sXHJcbiAgICAgIHJlcG9zaXRvcnk6IHJlcG9zaXRvcnlcclxuICAgIH0pXHJcblxyXG4gICAgbGV0IHJlc3VsdHM6IFtzdHJpbmcsIGFueV1bXSwgZXhwZWN0YXRpb25zOiBbc3RyaW5nLCBhbnldW11cclxuXHJcbiAgICAvLyBDaGVjayBkZXNjZW5kYW50Q291bnRcclxuICAgIHJlc3VsdHMgPSBbXVxyXG4gICAgZXhwZWN0YXRpb25zID0gW1xyXG4gICAgICBbXCJ0b3BUZXN0Q2xhaW0uY29uZmlkZW5jZVwiLCAwLjMzMzMzMzMzMzMzMzMzMzNdLFxyXG4gICAgICBbXCJncmFuZENoaWxkMS5hZmZlY3RzXCIsIFwicmVsZXZhbmNlXCJdLFxyXG4gICAgXVxyXG4gICAgZm9yIChjb25zdCBleHBlY3RhdGlvbiBvZiBleHBlY3RhdGlvbnMpIHtcclxuICAgICAgY29uc3Qgc291cmNlID0gZXhwZWN0YXRpb25bMF0uc3BsaXQoXCIuXCIpO1xyXG4gICAgICBjb25zdCB0ZW1wUmVzdWx0ID0gKGF3YWl0IHJlcG9zaXRvcnkuZ2V0U2NvcmVzQnlTb3VyY2VJZChzb3VyY2VbMF0pKSBhcyBhbnk7XHJcbiAgICAgIHJlc3VsdHMucHVzaChbXHJcbiAgICAgICAgZXhwZWN0YXRpb25bMF0sXHJcbiAgICAgICAgKHRlbXBSZXN1bHRbMF0pW3NvdXJjZVsxXV1cclxuICAgICAgXSlcclxuICAgIH1cclxuICAgIGV4cGVjdChyZXN1bHRzKS50b01hdGNoT2JqZWN0KGV4cGVjdGF0aW9ucyk7XHJcbiAgfSk7XHJcblxyXG4gIHRlc3QoJ0Rlc2NlbmRhbnQgQ291bnQgVGVzdHMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCByZXBvc2l0b3J5ID0gbmV3IFJlcG9zaXRvcnlMb2NhbFB1cmUoKTtcclxuICAgIGxldCByZXN1bHQ7XHJcbiAgICBhd2FpdCBjYWxjdWxhdGVTY29yZUFjdGlvbnMoe1xyXG4gICAgICBhY3Rpb25zOiBbXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW0oXCJUb3AgQ2xhaW1cIiwgXCJ0b3BUZXN0Q2xhaW1cIiksIHUsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltKFwiQ2hpbGQgQ2xhaW0gMVwiLCBcIkNoaWxkQ2xhaW0xXCIpLCB1LCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbShcIkNoaWxkIENsYWltIDJcIiwgXCJDaGlsZENsYWltMlwiKSwgdSwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW0oXCJDaGlsZCBDbGFpbSAzXCIsIFwiQ2hpbGRDbGFpbTNcIiksIHUsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltKFwiR3JhbmRjaGlsZCBDbGFpbSAxXCIsIFwiZ3JhbmRDaGlsZDFcIiksIHUsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltKFwiR3JhbmRjaGlsZCBDbGFpbSAyXCIsIFwiZ3JhbmRDaGlsZDJcIiksIHUsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltKFwiR3JhbmRjaGlsZCBDbGFpbSAzXCIsIFwiZ3JhbmRDaGlsZDNcIiksIHUsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltRWRnZShcInRvcFRlc3RDbGFpbVwiLCBcIkNoaWxkQ2xhaW0xXCIsIHUsIHBybywgXCJDaGlsZENsYWltMUVkZ2VcIiksIHUsIFwiYWRkX2NsYWltRWRnZVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbUVkZ2UoXCJ0b3BUZXN0Q2xhaW1cIiwgXCJDaGlsZENsYWltMlwiLCB1LCBwcm8sIFwiQ2hpbGRDbGFpbTJFZGdlXCIpLCB1LCBcImFkZF9jbGFpbUVkZ2VcIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW1FZGdlKFwidG9wVGVzdENsYWltXCIsIFwiQ2hpbGRDbGFpbTNcIiwgdSwgY29uLCBcIkNoaWxkQ2xhaW0zRWRnZVwiKSwgdSwgXCJhZGRfY2xhaW1FZGdlXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltRWRnZShcIkNoaWxkQ2xhaW0xXCIsIFwiZ3JhbmRDaGlsZDFcIiwgdSwgcHJvLCBcIkdyYW5kQ2hpbGRDbGFpbTFFZGdlXCIpLCB1LCBcImFkZF9jbGFpbUVkZ2VcIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW1FZGdlKFwiQ2hpbGRDbGFpbTFcIiwgXCJncmFuZENoaWxkMlwiLCB1LCBwcm8sIFwiR3JhbmRDaGlsZENsYWltMkVkZ2VcIiksIHUsIFwiYWRkX2NsYWltRWRnZVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbUVkZ2UoXCJDaGlsZENsYWltMVwiLCBcImdyYW5kQ2hpbGQzXCIsIHUsIGNvbiwgXCJHcmFuZENoaWxkQ2xhaW0zRWRnZVwiKSwgdSwgXCJhZGRfY2xhaW1FZGdlXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IFNjb3JlVHJlZShcInRvcFRlc3RDbGFpbVwiLCBcInRlc3RUb3BTY29yZVwiLCB1LCBcInRlc3RTY29yZVRyZWVcIiksIHVuZGVmaW5lZCwgXCJhZGRfc2NvcmVUcmVlXCIpLFxyXG4gICAgICBdLFxyXG4gICAgICByZXBvc2l0b3J5OiByZXBvc2l0b3J5XHJcbiAgICB9KVxyXG5cclxuICAgIGV4cGVjdCgocmVwb3NpdG9yeS5yc0RhdGEuaXRlbXNbXCJ0ZXN0U2NvcmVUcmVlXCJdIGFzIFNjb3JlVHJlZSkuZGVzY2VuZGFudENvdW50KS50b0VxdWFsKDYpO1xyXG5cclxuICAgIGxldCByZXN1bHRzOiBbc3RyaW5nLCBhbnldW10sIGV4cGVjdGF0aW9uczogW3N0cmluZywgYW55XVtdXHJcbiAgICByZXN1bHRzID0gW11cclxuICAgIGV4cGVjdGF0aW9ucyA9IFtcclxuICAgICAgW1widG9wVGVzdENsYWltLmRlc2NlbmRhbnRDb3VudFwiLCA2XSxcclxuICAgICAgW1wiQ2hpbGRDbGFpbTEuZGVzY2VuZGFudENvdW50XCIsIDNdLFxyXG4gICAgICBbXCJDaGlsZENsYWltMi5kZXNjZW5kYW50Q291bnRcIiwgMF0sXHJcbiAgICBdXHJcbiAgICBmb3IgKGNvbnN0IGV4cGVjdGF0aW9uIG9mIGV4cGVjdGF0aW9ucykge1xyXG4gICAgICBjb25zdCBzb3VyY2UgPSBleHBlY3RhdGlvblswXS5zcGxpdChcIi5cIik7XHJcbiAgICAgIGNvbnN0IHRlbXBSZXN1bHQgPSAoYXdhaXQgcmVwb3NpdG9yeS5nZXRTY29yZXNCeVNvdXJjZUlkKHNvdXJjZVswXSkpIGFzIGFueTtcclxuICAgICAgcmVzdWx0cy5wdXNoKFtcclxuICAgICAgICBleHBlY3RhdGlvblswXSxcclxuICAgICAgICAodGVtcFJlc3VsdFswXSlbc291cmNlWzFdXVxyXG4gICAgICBdKVxyXG4gICAgfVxyXG4gICAgZXhwZWN0KHJlc3VsdHMpLnRvTWF0Y2hPYmplY3QoZXhwZWN0YXRpb25zKTtcclxuICB9KTtcclxuXHJcbiAgdGVzdCgnR2VuZXJhdGlvbiBDb3VudCBUZXN0cycsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHJlcG9zaXRvcnkgPSBuZXcgUmVwb3NpdG9yeUxvY2FsUHVyZSgpO1xyXG4gICAgbGV0IHJlc3VsdDtcclxuICAgIGF3YWl0IGNhbGN1bGF0ZVNjb3JlQWN0aW9ucyh7XHJcbiAgICAgIGFjdGlvbnM6IFtcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbShcIlRvcCBDbGFpbVwiLCBcInRvcFRlc3RDbGFpbVwiKSwgdSwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW0oXCJDaGlsZCBDbGFpbSAxXCIsIFwiQ2hpbGRDbGFpbTFcIiksIHUsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltKFwiQ2hpbGQgQ2xhaW0gMlwiLCBcIkNoaWxkQ2xhaW0yXCIpLCB1LCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbShcIkNoaWxkIENsYWltIDNcIiwgXCJDaGlsZENsYWltM1wiKSwgdSwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW0oXCJHcmFuZGNoaWxkIENsYWltIDFcIiwgXCJncmFuZENoaWxkMVwiKSwgdSwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW0oXCJHcmFuZGNoaWxkIENsYWltIDJcIiwgXCJncmFuZENoaWxkMlwiKSwgdSwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW0oXCJHcmFuZGNoaWxkIENsYWltIDNcIiwgXCJncmFuZENoaWxkM1wiKSwgdSwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW1FZGdlKFwidG9wVGVzdENsYWltXCIsIFwiQ2hpbGRDbGFpbTFcIiwgdSwgcHJvLCBcIkNoaWxkQ2xhaW0xRWRnZVwiKSwgdSwgXCJhZGRfY2xhaW1FZGdlXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltRWRnZShcInRvcFRlc3RDbGFpbVwiLCBcIkNoaWxkQ2xhaW0yXCIsIHUsIHBybywgXCJDaGlsZENsYWltMkVkZ2VcIiksIHUsIFwiYWRkX2NsYWltRWRnZVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbUVkZ2UoXCJ0b3BUZXN0Q2xhaW1cIiwgXCJDaGlsZENsYWltM1wiLCB1LCBjb24sIFwiQ2hpbGRDbGFpbTNFZGdlXCIpLCB1LCBcImFkZF9jbGFpbUVkZ2VcIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW1FZGdlKFwiQ2hpbGRDbGFpbTFcIiwgXCJncmFuZENoaWxkMVwiLCB1LCBwcm8sIFwiR3JhbmRDaGlsZENsYWltMUVkZ2VcIiksIHUsIFwiYWRkX2NsYWltRWRnZVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbUVkZ2UoXCJDaGlsZENsYWltMVwiLCBcImdyYW5kQ2hpbGQyXCIsIHUsIHBybywgXCJHcmFuZENoaWxkQ2xhaW0yRWRnZVwiKSwgdSwgXCJhZGRfY2xhaW1FZGdlXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltRWRnZShcIkNoaWxkQ2xhaW0xXCIsIFwiZ3JhbmRDaGlsZDNcIiwgdSwgY29uLCBcIkdyYW5kQ2hpbGRDbGFpbTNFZGdlXCIpLCB1LCBcImFkZF9jbGFpbUVkZ2VcIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgU2NvcmVUcmVlKFwidG9wVGVzdENsYWltXCIsIFwidGVzdFRvcFNjb3JlXCIsIHUsIFwidGVzdFNjb3JlVHJlZVwiKSwgdW5kZWZpbmVkLCBcImFkZF9zY29yZVRyZWVcIiksXHJcbiAgICAgIF0sXHJcbiAgICAgIHJlcG9zaXRvcnk6IHJlcG9zaXRvcnlcclxuICAgIH0pXHJcblxyXG4gICAgZXhwZWN0KChyZXBvc2l0b3J5LnJzRGF0YS5pdGVtc1tcInRlc3RTY29yZVRyZWVcIl0gYXMgU2NvcmVUcmVlKS5kZXNjZW5kYW50Q291bnQpLnRvRXF1YWwoNik7XHJcblxyXG4gICAgbGV0IHJlc3VsdHM6IFtzdHJpbmcsIGFueV1bXSwgZXhwZWN0YXRpb25zOiBbc3RyaW5nLCBhbnldW11cclxuICAgIHJlc3VsdHMgPSBbXVxyXG4gICAgZXhwZWN0YXRpb25zID0gW1xyXG4gICAgICBbXCJ0b3BUZXN0Q2xhaW0uZ2VuZXJhdGlvblwiLCAwXSxcclxuICAgICAgW1wiQ2hpbGRDbGFpbTEuZ2VuZXJhdGlvblwiLCAxXSxcclxuICAgICAgW1wiQ2hpbGRDbGFpbTIuZ2VuZXJhdGlvblwiLCAxXSxcclxuICAgICAgW1wiZ3JhbmRDaGlsZDEuZ2VuZXJhdGlvblwiLCAyXSxcclxuICAgICAgW1wiZ3JhbmRDaGlsZDIuZ2VuZXJhdGlvblwiLCAyXSxcclxuICAgIF1cclxuICAgIGZvciAoY29uc3QgZXhwZWN0YXRpb24gb2YgZXhwZWN0YXRpb25zKSB7XHJcbiAgICAgIGNvbnN0IHNvdXJjZSA9IGV4cGVjdGF0aW9uWzBdLnNwbGl0KFwiLlwiKTtcclxuICAgICAgY29uc3QgdGVtcFJlc3VsdCA9IChhd2FpdCByZXBvc2l0b3J5LmdldFNjb3Jlc0J5U291cmNlSWQoc291cmNlWzBdKSkgYXMgYW55O1xyXG4gICAgICByZXN1bHRzLnB1c2goW1xyXG4gICAgICAgIGV4cGVjdGF0aW9uWzBdLFxyXG4gICAgICAgICh0ZW1wUmVzdWx0WzBdKVtzb3VyY2VbMV1dXHJcbiAgICAgIF0pXHJcbiAgICB9XHJcbiAgICBleHBlY3QocmVzdWx0cykudG9NYXRjaE9iamVjdChleHBlY3RhdGlvbnMpO1xyXG4gIH0pO1xyXG5cclxuICB0ZXN0KCdQcm8gTWFpbiBUZXN0cycsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHJlcG9zaXRvcnkgPSBuZXcgUmVwb3NpdG9yeUxvY2FsUHVyZSgpO1xyXG4gICAgbGV0IHJlc3VsdDtcclxuICAgIGF3YWl0IGNhbGN1bGF0ZVNjb3JlQWN0aW9ucyh7XHJcbiAgICAgIGFjdGlvbnM6IFtcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbShcIlRvcCBDbGFpbVwiLCBcInRvcFRlc3RDbGFpbVwiKSwgdSwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW0oXCJDaGlsZCBDbGFpbSAxXCIsIFwiQ2hpbGRDbGFpbTFcIiksIHUsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltKFwiQ2hpbGQgQ2xhaW0gMlwiLCBcIkNoaWxkQ2xhaW0yXCIpLCB1LCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbShcIkNoaWxkIENsYWltIDNcIiwgXCJDaGlsZENsYWltM1wiKSwgdSwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW0oXCJHcmFuZGNoaWxkIENsYWltIDFcIiwgXCJncmFuZENoaWxkMVwiKSwgdSwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW0oXCJHcmFuZGNoaWxkIENsYWltIDJcIiwgXCJncmFuZENoaWxkMlwiKSwgdSwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW0oXCJHcmFuZGNoaWxkIENsYWltIDNcIiwgXCJncmFuZENoaWxkM1wiKSwgdSwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW1FZGdlKFwidG9wVGVzdENsYWltXCIsIFwiQ2hpbGRDbGFpbTFcIiwgdSwgY29uLCBcIkNoaWxkQ2xhaW0xRWRnZVwiKSwgdSwgXCJhZGRfY2xhaW1FZGdlXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltRWRnZShcIkNoaWxkQ2xhaW0xXCIsIFwiZ3JhbmRDaGlsZDFcIiwgdSwgcHJvLCBcIkdyYW5kQ2hpbGRDbGFpbTFFZGdlXCIpLCB1LCBcImFkZF9jbGFpbUVkZ2VcIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW1FZGdlKFwiQ2hpbGRDbGFpbTFcIiwgXCJncmFuZENoaWxkMlwiLCB1LCBjb24sIFwiR3JhbmRDaGlsZENsYWltMkVkZ2VcIiksIHUsIFwiYWRkX2NsYWltRWRnZVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBTY29yZVRyZWUoXCJ0b3BUZXN0Q2xhaW1cIiwgXCJ0ZXN0VG9wU2NvcmVcIiwgdSwgXCJ0ZXN0U2NvcmVUcmVlXCIpLCB1bmRlZmluZWQsIFwiYWRkX3Njb3JlVHJlZVwiKSxcclxuICAgICAgXSxcclxuICAgICAgcmVwb3NpdG9yeTogcmVwb3NpdG9yeVxyXG4gICAgfSlcclxuXHJcbiAgICBsZXQgcmVzdWx0czogW3N0cmluZywgYW55XVtdLCBleHBlY3RhdGlvbnM6IFtzdHJpbmcsIGFueV1bXVxyXG4gICAgcmVzdWx0cyA9IFtdXHJcbiAgICBleHBlY3RhdGlvbnMgPSBbXHJcbiAgICAgIFtcIkNoaWxkQ2xhaW0xLnByb01haW5cIiwgZmFsc2VdLFxyXG4gICAgICBbXCJncmFuZENoaWxkMS5wcm9NYWluXCIsIGZhbHNlXSxcclxuICAgICAgW1wiZ3JhbmRDaGlsZDIucHJvTWFpblwiLCB0cnVlXSxcclxuICAgIF1cclxuICAgIGZvciAoY29uc3QgZXhwZWN0YXRpb24gb2YgZXhwZWN0YXRpb25zKSB7XHJcbiAgICAgIGNvbnN0IHNvdXJjZSA9IGV4cGVjdGF0aW9uWzBdLnNwbGl0KFwiLlwiKTtcclxuICAgICAgY29uc3QgdGVtcFJlc3VsdCA9IChhd2FpdCByZXBvc2l0b3J5LmdldFNjb3Jlc0J5U291cmNlSWQoc291cmNlWzBdKSkgYXMgYW55O1xyXG4gICAgICByZXN1bHRzLnB1c2goW1xyXG4gICAgICAgIGV4cGVjdGF0aW9uWzBdLFxyXG4gICAgICAgICh0ZW1wUmVzdWx0WzBdKVtzb3VyY2VbMV1dXHJcbiAgICAgIF0pXHJcbiAgICB9XHJcbiAgICBleHBlY3QocmVzdWx0cykudG9NYXRjaE9iamVjdChleHBlY3RhdGlvbnMpO1xyXG4gIH0pO1xyXG59Il19