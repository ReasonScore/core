"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.calculateScoreActionTests = calculateScoreActionTests;

var _RepositoryLocalPure = require("../repositories/RepositoryLocalPure");

var _calculateScoreActions = require("../calculateScoreActions");

var _calculateScore = require("../calculateScore");

var _Claim = require("../dataModels/Claim");

var _Action = require("../dataModels/Action");

var _ClaimEdge = require("../dataModels/ClaimEdge");

var _Score = require("../dataModels/Score");

var _ScoreTree = require("../dataModels/ScoreTree");

function calculateScoreActionTests() {
  const u = undefined,
        pro = true,
        con = false;
  test('add a new scoretree', async () => {
    const repository = new _RepositoryLocalPure.RepositoryLocalPure(); // Add a new claim and set it as a score tree top

    const result = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _Claim.Claim("", "topTestClaim"), undefined, "add_claim"), new _Action.Action(new _ScoreTree.ScoreTree("topTestClaim", "testTopScore", u, "testScoreTree"), undefined, "add_scoreTree")],
      repository: repository,
      calculator: _calculateScore.calculateScore
    });
    var test = new _Action.Action(new _ScoreTree.ScoreTree("topTestClaim", "testTopScore", u, "testScoreTree"), undefined, "add_scoreTree");
    expect(repository.rsData.scoreIdsBySourceId["topTestClaim"].length).toEqual(1);
  });
  test('Add a child that does not change the top score', async () => {
    var _await$repository$get;

    const repository = new _RepositoryLocalPure.RepositoryLocalPure();
    const temp = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _Claim.Claim("", "topTestClaim"), undefined, "add_claim"), new _Action.Action(new _Claim.Claim("", "ChildClaim1"), undefined, "add_claim"), new _Action.Action(new _ScoreTree.ScoreTree("topTestClaim", "testTopScore", u, "testScoreTree"), undefined, "add_scoreTree")],
      repository: repository
    });
    const result = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim1", u, u, u, "Priority Set"), undefined, "add_claimEdge")],
      repository: repository
    });
    expect((_await$repository$get = await repository.getScore("testTopScore")) === null || _await$repository$get === void 0 ? void 0 : _await$repository$get.confidence).toEqual(1);
  });
  test('Prioity on Add', async () => {
    var _await$repository$get2;

    const repository = new _RepositoryLocalPure.RepositoryLocalPure();
    const temp = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _Claim.Claim("", "topTestClaim"), undefined, "add_claim"), new _Action.Action(new _Claim.Claim("", "ChildClaim1"), undefined, "add_claim"), new _Action.Action(new _ScoreTree.ScoreTree("topTestClaim", "testTopScore", u, "testScoreTree"), undefined, "add_scoreTree")],
      repository: repository
    });
    const actions = [new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim1", u, u, u, "Priority Set"), undefined, "add_claimEdge")];
    const result = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: actions,
      repository: repository
    });
    expect((_await$repository$get2 = (await repository.getScoresBySourceId("ChildClaim1"))[0]) === null || _await$repository$get2 === void 0 ? void 0 : _await$repository$get2.priority).toEqual("Priority Set");
  });
  test('Prioity on Modify claimEdge', async () => {
    var _await$repository$get3;

    const repository = new _RepositoryLocalPure.RepositoryLocalPure();
    const temp = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _Claim.Claim("", "topTestClaim"), undefined, "add_claim"), new _Action.Action(new _Claim.Claim("", "ChildClaim1"), undefined, "add_claim"), new _Action.Action(new _ScoreTree.ScoreTree("topTestClaim", "testTopScore", u, "testScoreTree"), undefined, "add_scoreTree"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim1", u, u, u), undefined, "add_claimEdge")],
      repository: repository
    });
    const edge = (await repository.getClaimEdgesByChildId("ChildClaim1"))[0];
    const result = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim1", u, u, edge.id, 'Priority Modified'), undefined, "modify_claimEdge")],
      repository: repository
    });
    expect((_await$repository$get3 = (await repository.getScoresBySourceId("ChildClaim1"))[0]) === null || _await$repository$get3 === void 0 ? void 0 : _await$repository$get3.priority).toEqual("Priority Modified");
  });
  test('Changing a child pro value should change the top score', async () => {
    const repository = new _RepositoryLocalPure.RepositoryLocalPure();
    const temp = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _Claim.Claim("", "topTestClaim"), u, "add_claim"), new _Action.Action(new _ScoreTree.ScoreTree("topTestClaim", "testTopScore", u, "testScoreTree"), undefined, "add_scoreTree"), new _Action.Action(new _Claim.Claim("", "ChildClaim1"), u, "add_claim"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim1", u, true, "ChildClaim1Edge"), u, "add_claimEdge")],
      repository: repository
    });
    const result = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim1", u, false, "ChildClaim1Edge"), u, "modify_claimEdge")],
      repository: repository
    });
    expect((await repository.getScoresBySourceId("topTestClaim"))[0].confidence).toEqual(-1);
  });
  test('Add a child that reverses the top score', async () => {
    const repository = new _RepositoryLocalPure.RepositoryLocalPure();
    const temp = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _Claim.Claim("", "topTestClaim"), u, "add_claim"), new _Action.Action(new _ScoreTree.ScoreTree("topTestClaim", "testTopScore", u, "testScoreTree"), u, "add_scoreTree"), new _Action.Action(new _Claim.Claim("", "ChildClaim1"), u, "add_claim")],
      repository: repository
    });
    const result = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim1", u, false, "ChildClaim1Edge"), u, "add_claimEdge")],
      repository: repository,
      calculator: _calculateScore.calculateScore
    });
    expect((await repository.getScoresBySourceId("topTestClaim"))[0].confidence).toEqual(-1);
  });
  test('Adding a grandchild score Reverses Scores 2 levels', async () => {
    var _await$repository$get4;

    const repository = new _RepositoryLocalPure.RepositoryLocalPure();
    const temp = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _Claim.Claim("", "topTestClaim"), undefined, "add_claim"), new _Action.Action(new _ScoreTree.ScoreTree("topTestClaim", "testTopScore", u, "testScoreTree"), undefined, "add_scoreTree"), new _Action.Action(new _Claim.Claim("", "ChildClaim1"), undefined, "add_claim"), new _Action.Action(new _Claim.Claim("", "ChildClaim2"), undefined, "add_claim"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim1", undefined, false, "ChildClaim1Edge"), undefined, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim2", undefined, true, "ChildClaim2Edge"), undefined, "add_claimEdge"), new _Action.Action(new _Claim.Claim("", "grandChild1"), undefined, "add_claim")],
      repository: repository
    });
    const result = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _ClaimEdge.ClaimEdge("ChildClaim1", "grandChild1", undefined, false, "GrandChildClaim1Edge"), undefined, "add_claimEdge")],
      repository: repository,
      calculator: _calculateScore.calculateScore
    });
    expect((_await$repository$get4 = await repository.getScore("testTopScore")) === null || _await$repository$get4 === void 0 ? void 0 : _await$repository$get4.confidence).toEqual(1);
  });
  test('Complex Test', async () => {
    const repository = new _RepositoryLocalPure.RepositoryLocalPure();
    const changedScores = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _Claim.Claim("Top Claim", "topTestClaim"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Child Claim 1", "ChildClaim1"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Child Claim 2", "ChildClaim2"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Grandchild Claim 1", "grandChild1"), u, "add_claim"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim1", u, false, "ChildClaim1Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim2", u, true, "ChildClaim2Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("ChildClaim1", "grandChild1", u, false, "GrandChildClaim1Edge"), u, "add_claimEdge"), new _Action.Action(new _ScoreTree.ScoreTree("topTestClaim", "testTopScore", u, "testScoreTree"), undefined, "add_scoreTree")],
      repository: repository
    });
    expect(repository.rsData.items["testTopScore"].confidence).toEqual(1);
    expect(repository.rsData.scoreIdsBySourceId["topTestClaim"].length).toEqual(1); //Weird score not changing

    const ChildClaim1ScoresInitial = await repository.getScoresBySourceId("ChildClaim1");
    expect(ChildClaim1ScoresInitial[0].pro).toEqual(false);
    const changedScores2 = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [{
        "newData": {
          "content": "Child Claim 1",
          "id": "ChildClaim1",
          "reversible": false,
          "type": "claim"
        },
        "type": "modify_claim",
        "dataId": "ChildClaim1"
      }, {
        "newData": {
          "parentId": "topTestClaim",
          "childId": "ChildClaim1",
          "affects": "confidence",
          "pro": true,
          "id": "ChildClaim1Edge",
          "priority": "",
          "type": "claimEdge"
        },
        "type": "modify_claimEdge",
        "dataId": "ChildClaim1Edge"
      }],
      repository: repository
    });
    const ChildClaim1Scores = await repository.getScoresBySourceId("ChildClaim1");
    expect(ChildClaim1Scores[0].pro).toEqual(true);
  });
  test('Partial Claim Edge Grandchild Update', async () => {
    var _await$repository$get5, _await$repository$get6, _await$repository$get7;

    const repository = new _RepositoryLocalPure.RepositoryLocalPure();
    const changedScores = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _Claim.Claim("Top Claim", "topTestClaim"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Child Claim 1", "ChildClaim1"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Child Claim 2", "ChildClaim2"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Grandchild Claim 1", "grandChild1"), u, "add_claim"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim1", u, false, "ChildClaim1Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim2", u, true, "ChildClaim2Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("ChildClaim1", "grandChild1", u, false, "GrandChildClaim1Edge"), u, "add_claimEdge"), new _Action.Action(new _ScoreTree.ScoreTree("topTestClaim", "testTopScore", u, "testScoreTree"), undefined, "add_scoreTree")],
      repository: repository
    }); //await repository.notify(changedScores);

    expect((_await$repository$get5 = await repository.getScore("testTopScore")) === null || _await$repository$get5 === void 0 ? void 0 : _await$repository$get5.confidence).toEqual(1);
    expect(repository.rsData.scoreIdsBySourceId["topTestClaim"].length).toEqual(1);
    const result = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim2", u, false, "ChildClaim2Edge"), u, "modify_claimEdge")],
      repository: repository
    });
    await repository.notify(result);
    expect((_await$repository$get6 = await repository.getScore("testTopScore")) === null || _await$repository$get6 === void 0 ? void 0 : _await$repository$get6.confidence).toEqual(-1);
    const result2 = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action({
        pro: true
      }, u, "modify_claimEdge", "ChildClaim2Edge") //new Action(new ClaimEdge("topTestClaim", "ChildClaim2", u, true, "ChildClaim2Edge"), u, "modify_claimEdge"),
      ],
      repository: repository
    });
    await repository.notify(result2);
    expect((_await$repository$get7 = await repository.getScore("testTopScore")) === null || _await$repository$get7 === void 0 ? void 0 : _await$repository$get7.confidence).toEqual(1);
  });
  test('Partial Claim Edge Child Update', async () => {
    var _await$repository$get8, _await$repository$get9, _await$repository$get10;

    const repository = new _RepositoryLocalPure.RepositoryLocalPure();
    const changedScores = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _Claim.Claim("Top Claim", "topTestClaim"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Child Claim 1", "ChildClaim1"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Child Claim 2", "ChildClaim2"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Grandchild Claim 1", "grandChild1"), u, "add_claim"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim1", u, false, "ChildClaim1Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim2", u, true, "ChildClaim2Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("ChildClaim1", "grandChild1", u, false, "GrandChildClaim1Edge"), u, "add_claimEdge"), new _Action.Action(new _ScoreTree.ScoreTree("topTestClaim", "testTopScore", u, "testScoreTree"), undefined, "add_scoreTree")],
      repository: repository
    }); //await repository.notify(changedScores);

    expect((_await$repository$get8 = await repository.getScore("testTopScore")) === null || _await$repository$get8 === void 0 ? void 0 : _await$repository$get8.confidence).toEqual(1);
    const result = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action({
        pro: false
      }, u, "modify_claimEdge", "ChildClaim2Edge") //new Action(new ClaimEdge("topTestClaim", "ChildClaim2", u, false, "ChildClaim2Edge"), u, "modify_claimEdge"),
      ],
      repository: repository
    }); //await repository.notify(result);

    expect((_await$repository$get9 = await repository.getScore("testTopScore")) === null || _await$repository$get9 === void 0 ? void 0 : _await$repository$get9.confidence).toEqual(-1);
    const result2 = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action({
        pro: true
      }, u, "modify_claimEdge", "ChildClaim2Edge") //new Action(new ClaimEdge("topTestClaim", "ChildClaim2", u, true, "ChildClaim2Edge"), u, "modify_claimEdge"),
      ],
      repository: repository
    });
    expect((_await$repository$get10 = await repository.getScore("testTopScore")) === null || _await$repository$get10 === void 0 ? void 0 : _await$repository$get10.confidence).toEqual(1);
  });
  test('Deleting an edge should reverses the top score', async () => {
    var _await$repository$get11, _await$repository$get12;

    const repository = new _RepositoryLocalPure.RepositoryLocalPure();
    await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _Claim.Claim("", "topTestClaim"), undefined, "add_claim"), new _Action.Action(new _Claim.Claim("", "ChildClaim1"), undefined, "add_claim"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim1", undefined, false, "ChildClaim1Edge"), undefined, "add_claimEdge"), new _Action.Action(new _ScoreTree.ScoreTree("topTestClaim", "testTopScore", u, "testScoreTree"), undefined, "add_scoreTree")],
      repository: repository
    });
    expect((_await$repository$get11 = await repository.getScore("testTopScore")) === null || _await$repository$get11 === void 0 ? void 0 : _await$repository$get11.confidence).toEqual(-1);
    await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(u, {
        parentId: "topTestClaim"
      }, "delete_claimEdge", "ChildClaim1Edge")],
      repository: repository
    });
    expect((_await$repository$get12 = await repository.getScore("testTopScore")) === null || _await$repository$get12 === void 0 ? void 0 : _await$repository$get12.confidence).toEqual(1);
  });
  test('Multi level relevance delete test', async () => {
    var _await$repository$get13, _await$repository$get14;

    const repository = new _RepositoryLocalPure.RepositoryLocalPure();
    const pro = true;
    const con = false;
    const topClaim = new _Claim.Claim("Should Fiction City convert Elm Street to only pedestrian traffic?", "topTestClaim");
    const Claim1_0 = new _Claim.Claim("The planning commission estimates this will increase foot traffic to local shops by 12% during peak hours.", "Claim1_0");
    const Claim1_1 = new _Claim.Claim("The increase in revenue is expected to pay off the expense in under 2 years meeting the cities investment requirements.", "Claim1_1");
    const Claim2_0 = new _Claim.Claim("This will result in traffic being diverted down residential streets.");
    const Claim2_1 = new _Claim.Claim("Children safety is more important than profit for local shops.");
    const Claim2_2 = new _Claim.Claim("A set of railroad tracks are no longer in use and the City can convert that to a new street.");
    const Claim3_0 = new _Claim.Claim("The conversion will cost 2 Million dollars.");
    const ClaimEdge1_0 = new _ClaimEdge.ClaimEdge(topClaim.id, Claim1_0.id, u, pro, "ClaimEdge1_0");
    const ClaimEdge1_1 = new _ClaimEdge.ClaimEdge(Claim1_0.id, Claim1_1.id, "relevance", pro, "ClaimEdge1_1");
    const actions = [new _Action.Action(topClaim, u, "add_claim"), new _Action.Action(Claim1_0, u, "add_claim"), new _Action.Action(Claim1_1, u, "add_claim"), new _Action.Action(Claim2_0, u, "add_claim"), new _Action.Action(Claim2_1, u, "add_claim"), new _Action.Action(Claim2_2, u, "add_claim"), new _Action.Action(Claim3_0, u, "add_claim"), new _Action.Action(ClaimEdge1_0, u, "add_claimEdge"), new _Action.Action(ClaimEdge1_1, u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge(topClaim.id, Claim2_0.id, u, con), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge(Claim2_0.id, Claim2_1.id, "relevance", con), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge(Claim2_0.id, Claim2_2.id, u, con), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge(topClaim.id, Claim3_0.id, u, con), u, "add_claimEdge"), new _Action.Action(new _Score.Score(topClaim.id, topClaim.id, u, u, u, u, u, 0, u, "testTopScore"), u, "add_score"), new _Action.Action(new _ScoreTree.ScoreTree("topTestClaim", "testTopScore", u, "testScoreTree"), undefined, "add_scoreTree")];
    await (0, _calculateScoreActions.calculateScoreActions)({
      actions: actions,
      repository: repository
    });
    expect((_await$repository$get13 = await repository.getScore("testTopScore")) === null || _await$repository$get13 === void 0 ? void 0 : _await$repository$get13.confidence).toEqual(0.3333333333333333);
    const result = await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(undefined, ClaimEdge1_1, "delete_claimEdge", ClaimEdge1_1.id)],
      repository: repository
    });
    expect((_await$repository$get14 = await repository.getScore("testTopScore")) === null || _await$repository$get14 === void 0 ? void 0 : _await$repository$get14.confidence).toEqual(0);
  });
  test('Relevance test', async () => {
    const repository = new _RepositoryLocalPure.RepositoryLocalPure();
    let result;
    await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _Claim.Claim("Top Claim", "topTestClaim"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Child Claim 1", "ChildClaim1"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Child Claim 2", "ChildClaim2"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Grandchild Claim 1", "grandChild1"), u, "add_claim"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim1", u, pro, "ChildClaim1Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim2", u, con, "ChildClaim2Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("ChildClaim1", "grandChild1", "relevance", pro, "GrandChildClaim1Edge"), u, "add_claimEdge"), new _Action.Action(new _ScoreTree.ScoreTree("topTestClaim", "testTopScore", u, "testScoreTree"), undefined, "add_scoreTree")],
      repository: repository
    });
    let results, expectations; // Check descendantCount

    results = [];
    expectations = [["topTestClaim.confidence", 0.3333333333333333], ["grandChild1.affects", "relevance"]];

    for (const expectation of expectations) {
      const source = expectation[0].split(".");
      const tempResult = await repository.getScoresBySourceId(source[0]);
      results.push([expectation[0], tempResult[0][source[1]]]);
    }

    expect(results).toMatchObject(expectations);
  });
  test('Descendant Count Tests', async () => {
    const repository = new _RepositoryLocalPure.RepositoryLocalPure();
    let result;
    await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _Claim.Claim("Top Claim", "topTestClaim"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Child Claim 1", "ChildClaim1"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Child Claim 2", "ChildClaim2"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Child Claim 3", "ChildClaim3"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Grandchild Claim 1", "grandChild1"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Grandchild Claim 2", "grandChild2"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Grandchild Claim 3", "grandChild3"), u, "add_claim"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim1", u, pro, "ChildClaim1Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim2", u, pro, "ChildClaim2Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim3", u, con, "ChildClaim3Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("ChildClaim1", "grandChild1", u, pro, "GrandChildClaim1Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("ChildClaim1", "grandChild2", u, pro, "GrandChildClaim2Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("ChildClaim1", "grandChild3", u, con, "GrandChildClaim3Edge"), u, "add_claimEdge"), new _Action.Action(new _ScoreTree.ScoreTree("topTestClaim", "testTopScore", u, "testScoreTree"), undefined, "add_scoreTree")],
      repository: repository
    });
    expect(repository.rsData.items["testScoreTree"].descendantCount).toEqual(6);
    let results, expectations;
    results = [];
    expectations = [["topTestClaim.descendantCount", 6], ["ChildClaim1.descendantCount", 3], ["ChildClaim2.descendantCount", 0]];

    for (const expectation of expectations) {
      const source = expectation[0].split(".");
      const tempResult = await repository.getScoresBySourceId(source[0]);
      results.push([expectation[0], tempResult[0][source[1]]]);
    }

    expect(results).toMatchObject(expectations);
  });
  test('Generation Count Tests', async () => {
    const repository = new _RepositoryLocalPure.RepositoryLocalPure();
    let result;
    await (0, _calculateScoreActions.calculateScoreActions)({
      actions: [new _Action.Action(new _Claim.Claim("Top Claim", "topTestClaim"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Child Claim 1", "ChildClaim1"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Child Claim 2", "ChildClaim2"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Child Claim 3", "ChildClaim3"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Grandchild Claim 1", "grandChild1"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Grandchild Claim 2", "grandChild2"), u, "add_claim"), new _Action.Action(new _Claim.Claim("Grandchild Claim 3", "grandChild3"), u, "add_claim"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim1", u, pro, "ChildClaim1Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim2", u, pro, "ChildClaim2Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("topTestClaim", "ChildClaim3", u, con, "ChildClaim3Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("ChildClaim1", "grandChild1", u, pro, "GrandChildClaim1Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("ChildClaim1", "grandChild2", u, pro, "GrandChildClaim2Edge"), u, "add_claimEdge"), new _Action.Action(new _ClaimEdge.ClaimEdge("ChildClaim1", "grandChild3", u, con, "GrandChildClaim3Edge"), u, "add_claimEdge"), new _Action.Action(new _ScoreTree.ScoreTree("topTestClaim", "testTopScore", u, "testScoreTree"), undefined, "add_scoreTree")],
      repository: repository
    });
    expect(repository.rsData.items["testScoreTree"].descendantCount).toEqual(6);
    let results, expectations;
    results = [];
    expectations = [["topTestClaim.generation", 0], ["ChildClaim1.generation", 1], ["ChildClaim2.generation", 1], ["grandChild1.generation", 2], ["grandChild2.generation", 2]];

    for (const expectation of expectations) {
      const source = expectation[0].split(".");
      const tempResult = await repository.getScoresBySourceId(source[0]);
      results.push([expectation[0], tempResult[0][source[1]]]);
    }

    expect(results).toMatchObject(expectations);
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy90ZXN0cy9jYWxjdWxhdGVTY29yZUFjdGlvbnNUZXN0cy50cyJdLCJuYW1lcyI6WyJjYWxjdWxhdGVTY29yZUFjdGlvblRlc3RzIiwidSIsInVuZGVmaW5lZCIsInBybyIsImNvbiIsInRlc3QiLCJyZXBvc2l0b3J5IiwiUmVwb3NpdG9yeUxvY2FsUHVyZSIsInJlc3VsdCIsImFjdGlvbnMiLCJBY3Rpb24iLCJDbGFpbSIsIlNjb3JlVHJlZSIsImNhbGN1bGF0b3IiLCJjYWxjdWxhdGVTY29yZSIsImV4cGVjdCIsInJzRGF0YSIsInNjb3JlSWRzQnlTb3VyY2VJZCIsImxlbmd0aCIsInRvRXF1YWwiLCJ0ZW1wIiwiQ2xhaW1FZGdlIiwiZ2V0U2NvcmUiLCJjb25maWRlbmNlIiwiZ2V0U2NvcmVzQnlTb3VyY2VJZCIsInByaW9yaXR5IiwiZWRnZSIsImdldENsYWltRWRnZXNCeUNoaWxkSWQiLCJpZCIsImNoYW5nZWRTY29yZXMiLCJpdGVtcyIsIkNoaWxkQ2xhaW0xU2NvcmVzSW5pdGlhbCIsImNoYW5nZWRTY29yZXMyIiwiQ2hpbGRDbGFpbTFTY29yZXMiLCJub3RpZnkiLCJyZXN1bHQyIiwicGFyZW50SWQiLCJ0b3BDbGFpbSIsIkNsYWltMV8wIiwiQ2xhaW0xXzEiLCJDbGFpbTJfMCIsIkNsYWltMl8xIiwiQ2xhaW0yXzIiLCJDbGFpbTNfMCIsIkNsYWltRWRnZTFfMCIsIkNsYWltRWRnZTFfMSIsIlNjb3JlIiwicmVzdWx0cyIsImV4cGVjdGF0aW9ucyIsImV4cGVjdGF0aW9uIiwic291cmNlIiwic3BsaXQiLCJ0ZW1wUmVzdWx0IiwicHVzaCIsInRvTWF0Y2hPYmplY3QiLCJkZXNjZW5kYW50Q291bnQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFTyxTQUFTQSx5QkFBVCxHQUFxQztBQUMxQyxRQUFNQyxDQUFDLEdBQUdDLFNBQVY7QUFBQSxRQUFx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QTNCLENBSGEsRUFJYixDQUFDLHdCQUFELEVBQTJCLENBQTNCLENBSmEsRUFLYixDQUFDLHdCQUFELEVBQTJCLENBQTNCLENBTGEsQ0FBZjs7QUFPQSxTQUFLLE1BQU1DLFdBQVgsSUFBMEJELFlBQTFCLEVBQXdDO0FBQ3RDLFlBQU1FLE1BQU0sR0FBR0QsV0FBVyxDQUFDLENBQUQsQ0FBWCxDQUFlRSxLQUFmLENBQXFCLEdBQXJCLENBQWY7QUFDQSxZQUFNQyxVQUFVLEdBQUksTUFBTTlDLFVBQVUsQ0FBQ2tCLG1CQUFYLENBQStCMEIsTUFBTSxDQUFDLENBQUQsQ0FBckMsQ0FBMUI7QUFDQUgsTUFBQUEsT0FBTyxDQUFDTSxJQUFSLENBQWEsQ0FDWEosV0FBVyxDQUFDLENBQUQsQ0FEQSxFQUVWRyxVQUFVLENBQUMsQ0FBRCxDQUFYLENBQWdCRixNQUFNLENBQUMsQ0FBRCxDQUF0QixDQUZXLENBQWI7QUFJRDs7QUFDRG5DLElBQUFBLE1BQU0sQ0FBQ2dDLE9BQUQsQ0FBTixDQUFnQk8sYUFBaEIsQ0FBOEJOLFlBQTlCO0FBQ0QsR0EzQ0csQ0FBSjtBQTRDRCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlcG9zaXRvcnlMb2NhbFB1cmUgfSBmcm9tIFwiLi4vcmVwb3NpdG9yaWVzL1JlcG9zaXRvcnlMb2NhbFB1cmVcIjtcclxuaW1wb3J0IHsgY2FsY3VsYXRlU2NvcmVBY3Rpb25zIH0gZnJvbSBcIi4uL2NhbGN1bGF0ZVNjb3JlQWN0aW9uc1wiO1xyXG5pbXBvcnQgeyBjYWxjdWxhdGVTY29yZSB9IGZyb20gXCIuLi9jYWxjdWxhdGVTY29yZVwiO1xyXG5pbXBvcnQgeyBDbGFpbSB9IGZyb20gXCIuLi9kYXRhTW9kZWxzL0NsYWltXCI7XHJcbmltcG9ydCB7IEFjdGlvbiB9IGZyb20gXCIuLi9kYXRhTW9kZWxzL0FjdGlvblwiO1xyXG5pbXBvcnQgeyBDbGFpbUVkZ2UgfSBmcm9tIFwiLi4vZGF0YU1vZGVscy9DbGFpbUVkZ2VcIjtcclxuaW1wb3J0IHsgU2NvcmUgfSBmcm9tIFwiLi4vZGF0YU1vZGVscy9TY29yZVwiO1xyXG5pbXBvcnQgeyBTY29yZVRyZWUgfSBmcm9tIFwiLi4vZGF0YU1vZGVscy9TY29yZVRyZWVcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVTY29yZUFjdGlvblRlc3RzKCkge1xyXG4gIGNvbnN0IHUgPSB1bmRlZmluZWQsIHBybyA9IHRydWUsIGNvbiA9IGZhbHNlXHJcblxyXG4gIHRlc3QoJ2FkZCBhIG5ldyBzY29yZXRyZWUnLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCByZXBvc2l0b3J5ID0gbmV3IFJlcG9zaXRvcnlMb2NhbFB1cmUoKTtcclxuICAgIC8vIEFkZCBhIG5ldyBjbGFpbSBhbmQgc2V0IGl0IGFzIGEgc2NvcmUgdHJlZSB0b3BcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNhbGN1bGF0ZVNjb3JlQWN0aW9ucyh7XHJcbiAgICAgIGFjdGlvbnM6IFtcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbShcIlwiLCBcInRvcFRlc3RDbGFpbVwiKSwgdW5kZWZpbmVkLCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBTY29yZVRyZWUoXCJ0b3BUZXN0Q2xhaW1cIiwgXCJ0ZXN0VG9wU2NvcmVcIiwgdSwgXCJ0ZXN0U2NvcmVUcmVlXCIpLCB1bmRlZmluZWQsIFwiYWRkX3Njb3JlVHJlZVwiKSxcclxuICAgICAgXSxcclxuICAgICAgcmVwb3NpdG9yeTogcmVwb3NpdG9yeSxcclxuICAgICAgY2FsY3VsYXRvcjogY2FsY3VsYXRlU2NvcmVcclxuICAgIH0pXHJcbiAgICB2YXIgdGVzdCA9IG5ldyBBY3Rpb24obmV3IFNjb3JlVHJlZShcInRvcFRlc3RDbGFpbVwiLCBcInRlc3RUb3BTY29yZVwiLCB1LCBcInRlc3RTY29yZVRyZWVcIiksIHVuZGVmaW5lZCwgXCJhZGRfc2NvcmVUcmVlXCIpO1xyXG4gICAgZXhwZWN0KHJlcG9zaXRvcnkucnNEYXRhLnNjb3JlSWRzQnlTb3VyY2VJZFtcInRvcFRlc3RDbGFpbVwiXS5sZW5ndGgpLnRvRXF1YWwoMSlcclxuICB9KTtcclxuXHJcbiAgdGVzdCgnQWRkIGEgY2hpbGQgdGhhdCBkb2VzIG5vdCBjaGFuZ2UgdGhlIHRvcCBzY29yZScsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHJlcG9zaXRvcnkgPSBuZXcgUmVwb3NpdG9yeUxvY2FsUHVyZSgpO1xyXG4gICAgY29uc3QgdGVtcCA9IGF3YWl0IGNhbGN1bGF0ZVNjb3JlQWN0aW9ucyh7XHJcbiAgICAgIGFjdGlvbnM6IFtcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbShcIlwiLCBcInRvcFRlc3RDbGFpbVwiKSwgdW5kZWZpbmVkLCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbShcIlwiLCBcIkNoaWxkQ2xhaW0xXCIpLCB1bmRlZmluZWQsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IFNjb3JlVHJlZShcInRvcFRlc3RDbGFpbVwiLCBcInRlc3RUb3BTY29yZVwiLCB1LCBcInRlc3RTY29yZVRyZWVcIiksIHVuZGVmaW5lZCwgXCJhZGRfc2NvcmVUcmVlXCIpLFxyXG4gICAgICBdLFxyXG4gICAgICByZXBvc2l0b3J5OiByZXBvc2l0b3J5XHJcbiAgICB9KVxyXG5cclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNhbGN1bGF0ZVNjb3JlQWN0aW9ucyh7XHJcbiAgICAgIGFjdGlvbnM6IFtcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbUVkZ2UoXCJ0b3BUZXN0Q2xhaW1cIiwgXCJDaGlsZENsYWltMVwiLCB1LCB1LCB1LCBcIlByaW9yaXR5IFNldFwiKSwgdW5kZWZpbmVkLCBcImFkZF9jbGFpbUVkZ2VcIilcclxuICAgICAgXSxcclxuICAgICAgcmVwb3NpdG9yeTogcmVwb3NpdG9yeVxyXG4gICAgfSlcclxuICAgIGV4cGVjdCgoYXdhaXQgcmVwb3NpdG9yeS5nZXRTY29yZShcInRlc3RUb3BTY29yZVwiKSk/LmNvbmZpZGVuY2UpLnRvRXF1YWwoMSk7XHJcbiAgfSk7XHJcblxyXG4gIHRlc3QoJ1ByaW9pdHkgb24gQWRkJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgcmVwb3NpdG9yeSA9IG5ldyBSZXBvc2l0b3J5TG9jYWxQdXJlKCk7XHJcbiAgICBjb25zdCB0ZW1wID0gYXdhaXQgY2FsY3VsYXRlU2NvcmVBY3Rpb25zKHtcclxuICAgICAgYWN0aW9uczogW1xyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltKFwiXCIsIFwidG9wVGVzdENsYWltXCIpLCB1bmRlZmluZWQsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltKFwiXCIsIFwiQ2hpbGRDbGFpbTFcIiksIHVuZGVmaW5lZCwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgU2NvcmVUcmVlKFwidG9wVGVzdENsYWltXCIsIFwidGVzdFRvcFNjb3JlXCIsIHUsIFwidGVzdFNjb3JlVHJlZVwiKSwgdW5kZWZpbmVkLCBcImFkZF9zY29yZVRyZWVcIiksXHJcbiAgICAgIF0sXHJcbiAgICAgIHJlcG9zaXRvcnk6IHJlcG9zaXRvcnlcclxuICAgIH0pXHJcblxyXG4gICAgY29uc3QgYWN0aW9ucyA9IFtcclxuICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW1FZGdlKFwidG9wVGVzdENsYWltXCIsIFwiQ2hpbGRDbGFpbTFcIiwgdSwgdSwgdSwgXCJQcmlvcml0eSBTZXRcIiksIHVuZGVmaW5lZCwgXCJhZGRfY2xhaW1FZGdlXCIpXHJcbiAgICBdO1xyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2FsY3VsYXRlU2NvcmVBY3Rpb25zKHtcclxuICAgICAgYWN0aW9uczogYWN0aW9ucyxcclxuICAgICAgcmVwb3NpdG9yeTogcmVwb3NpdG9yeVxyXG4gICAgfSlcclxuICAgIGV4cGVjdCgoYXdhaXQgcmVwb3NpdG9yeS5nZXRTY29yZXNCeVNvdXJjZUlkKFwiQ2hpbGRDbGFpbTFcIikpWzBdPy5wcmlvcml0eSkudG9FcXVhbChcIlByaW9yaXR5IFNldFwiKTtcclxuICB9KTtcclxuXHJcbiAgdGVzdCgnUHJpb2l0eSBvbiBNb2RpZnkgY2xhaW1FZGdlJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgcmVwb3NpdG9yeSA9IG5ldyBSZXBvc2l0b3J5TG9jYWxQdXJlKCk7XHJcbiAgICBjb25zdCB0ZW1wID0gYXdhaXQgY2FsY3VsYXRlU2NvcmVBY3Rpb25zKHtcclxuICAgICAgYWN0aW9uczogW1xyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltKFwiXCIsIFwidG9wVGVzdENsYWltXCIpLCB1bmRlZmluZWQsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltKFwiXCIsIFwiQ2hpbGRDbGFpbTFcIiksIHVuZGVmaW5lZCwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgU2NvcmVUcmVlKFwidG9wVGVzdENsYWltXCIsIFwidGVzdFRvcFNjb3JlXCIsIHUsIFwidGVzdFNjb3JlVHJlZVwiKSwgdW5kZWZpbmVkLCBcImFkZF9zY29yZVRyZWVcIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW1FZGdlKFwidG9wVGVzdENsYWltXCIsIFwiQ2hpbGRDbGFpbTFcIiwgdSwgdSwgdSksIHVuZGVmaW5lZCwgXCJhZGRfY2xhaW1FZGdlXCIpXHJcbiAgICAgIF0sXHJcbiAgICAgIHJlcG9zaXRvcnk6IHJlcG9zaXRvcnlcclxuICAgIH0pXHJcblxyXG4gICAgY29uc3QgZWRnZSA9IChhd2FpdCByZXBvc2l0b3J5LmdldENsYWltRWRnZXNCeUNoaWxkSWQoXCJDaGlsZENsYWltMVwiKSlbMF07XHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjYWxjdWxhdGVTY29yZUFjdGlvbnMoe1xyXG4gICAgICBhY3Rpb25zOiBbbmV3IEFjdGlvbihuZXcgQ2xhaW1FZGdlKFwidG9wVGVzdENsYWltXCIsIFwiQ2hpbGRDbGFpbTFcIiwgdSwgdSwgZWRnZS5pZCwnUHJpb3JpdHkgTW9kaWZpZWQnKSwgdW5kZWZpbmVkLCBcIm1vZGlmeV9jbGFpbUVkZ2VcIildLFxyXG4gICAgICByZXBvc2l0b3J5OiByZXBvc2l0b3J5XHJcbiAgICB9KVxyXG4gICAgZXhwZWN0KChhd2FpdCByZXBvc2l0b3J5LmdldFNjb3Jlc0J5U291cmNlSWQoXCJDaGlsZENsYWltMVwiKSlbMF0/LnByaW9yaXR5KS50b0VxdWFsKFwiUHJpb3JpdHkgTW9kaWZpZWRcIik7XHJcbiAgfSk7XHJcblxyXG4gIHRlc3QoJ0NoYW5naW5nIGEgY2hpbGQgcHJvIHZhbHVlIHNob3VsZCBjaGFuZ2UgdGhlIHRvcCBzY29yZScsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHJlcG9zaXRvcnkgPSBuZXcgUmVwb3NpdG9yeUxvY2FsUHVyZSgpO1xyXG4gICAgY29uc3QgdGVtcCA9IGF3YWl0IGNhbGN1bGF0ZVNjb3JlQWN0aW9ucyh7XHJcbiAgICAgIGFjdGlvbnM6IFtcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbShcIlwiLCBcInRvcFRlc3RDbGFpbVwiKSwgdSwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgU2NvcmVUcmVlKFwidG9wVGVzdENsYWltXCIsIFwidGVzdFRvcFNjb3JlXCIsIHUsIFwidGVzdFNjb3JlVHJlZVwiKSwgdW5kZWZpbmVkLCBcImFkZF9zY29yZVRyZWVcIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW0oXCJcIiwgXCJDaGlsZENsYWltMVwiKSwgdSwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW1FZGdlKFwidG9wVGVzdENsYWltXCIsIFwiQ2hpbGRDbGFpbTFcIiwgdSwgdHJ1ZSwgXCJDaGlsZENsYWltMUVkZ2VcIiksIHUsIFwiYWRkX2NsYWltRWRnZVwiKVxyXG4gICAgICBdLFxyXG4gICAgICByZXBvc2l0b3J5OiByZXBvc2l0b3J5XHJcbiAgICB9KVxyXG5cclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNhbGN1bGF0ZVNjb3JlQWN0aW9ucyh7XHJcbiAgICAgIGFjdGlvbnM6IFtcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbUVkZ2UoXCJ0b3BUZXN0Q2xhaW1cIiwgXCJDaGlsZENsYWltMVwiLCB1LCBmYWxzZSwgXCJDaGlsZENsYWltMUVkZ2VcIiksIHUsIFwibW9kaWZ5X2NsYWltRWRnZVwiKVxyXG4gICAgICBdLFxyXG4gICAgICByZXBvc2l0b3J5OiByZXBvc2l0b3J5XHJcbiAgICB9KVxyXG5cclxuICAgIGV4cGVjdCgoYXdhaXQgcmVwb3NpdG9yeS5nZXRTY29yZXNCeVNvdXJjZUlkKFwidG9wVGVzdENsYWltXCIpKVswXS5jb25maWRlbmNlKS50b0VxdWFsKC0xKTtcclxuICB9KTtcclxuXHJcbiAgdGVzdCgnQWRkIGEgY2hpbGQgdGhhdCByZXZlcnNlcyB0aGUgdG9wIHNjb3JlJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgcmVwb3NpdG9yeSA9IG5ldyBSZXBvc2l0b3J5TG9jYWxQdXJlKCk7XHJcbiAgICBjb25zdCB0ZW1wID0gYXdhaXQgY2FsY3VsYXRlU2NvcmVBY3Rpb25zKHtcclxuICAgICAgYWN0aW9uczogW1xyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltKFwiXCIsIFwidG9wVGVzdENsYWltXCIpLCB1LCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBTY29yZVRyZWUoXCJ0b3BUZXN0Q2xhaW1cIiwgXCJ0ZXN0VG9wU2NvcmVcIiwgdSwgXCJ0ZXN0U2NvcmVUcmVlXCIpLCB1LCBcImFkZF9zY29yZVRyZWVcIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW0oXCJcIiwgXCJDaGlsZENsYWltMVwiKSwgdSwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgIF0sXHJcbiAgICAgIHJlcG9zaXRvcnk6IHJlcG9zaXRvcnlcclxuICAgIH0pXHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjYWxjdWxhdGVTY29yZUFjdGlvbnMoe1xyXG4gICAgICBhY3Rpb25zOiBbXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW1FZGdlKFwidG9wVGVzdENsYWltXCIsIFwiQ2hpbGRDbGFpbTFcIiwgdSwgZmFsc2UsIFwiQ2hpbGRDbGFpbTFFZGdlXCIpLCB1LCBcImFkZF9jbGFpbUVkZ2VcIilcclxuICAgICAgXSxcclxuICAgICAgcmVwb3NpdG9yeTogcmVwb3NpdG9yeSxcclxuICAgICAgY2FsY3VsYXRvcjogY2FsY3VsYXRlU2NvcmVcclxuICAgIH0pXHJcblxyXG4gICAgZXhwZWN0KChhd2FpdCByZXBvc2l0b3J5LmdldFNjb3Jlc0J5U291cmNlSWQoXCJ0b3BUZXN0Q2xhaW1cIikpWzBdLmNvbmZpZGVuY2UpLnRvRXF1YWwoLTEpO1xyXG4gIH0pO1xyXG5cclxuICB0ZXN0KCdBZGRpbmcgYSBncmFuZGNoaWxkIHNjb3JlIFJldmVyc2VzIFNjb3JlcyAyIGxldmVscycsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHJlcG9zaXRvcnkgPSBuZXcgUmVwb3NpdG9yeUxvY2FsUHVyZSgpO1xyXG4gICAgY29uc3QgdGVtcCA9IGF3YWl0IGNhbGN1bGF0ZVNjb3JlQWN0aW9ucyh7XHJcbiAgICAgIGFjdGlvbnM6IFtcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbShcIlwiLCBcInRvcFRlc3RDbGFpbVwiKSwgdW5kZWZpbmVkLCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBTY29yZVRyZWUoXCJ0b3BUZXN0Q2xhaW1cIiwgXCJ0ZXN0VG9wU2NvcmVcIiwgdSwgXCJ0ZXN0U2NvcmVUcmVlXCIpLCB1bmRlZmluZWQsIFwiYWRkX3Njb3JlVHJlZVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbShcIlwiLCBcIkNoaWxkQ2xhaW0xXCIpLCB1bmRlZmluZWQsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltKFwiXCIsIFwiQ2hpbGRDbGFpbTJcIiksIHVuZGVmaW5lZCwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW1FZGdlKFwidG9wVGVzdENsYWltXCIsIFwiQ2hpbGRDbGFpbTFcIiwgdW5kZWZpbmVkLCBmYWxzZSwgXCJDaGlsZENsYWltMUVkZ2VcIiksIHVuZGVmaW5lZCwgXCJhZGRfY2xhaW1FZGdlXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltRWRnZShcInRvcFRlc3RDbGFpbVwiLCBcIkNoaWxkQ2xhaW0yXCIsIHVuZGVmaW5lZCwgdHJ1ZSwgXCJDaGlsZENsYWltMkVkZ2VcIiksIHVuZGVmaW5lZCwgXCJhZGRfY2xhaW1FZGdlXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltKFwiXCIsIFwiZ3JhbmRDaGlsZDFcIiksIHVuZGVmaW5lZCwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgIF0sXHJcbiAgICAgIHJlcG9zaXRvcnk6IHJlcG9zaXRvcnlcclxuICAgIH0pXHJcblxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2FsY3VsYXRlU2NvcmVBY3Rpb25zKHtcclxuICAgICAgYWN0aW9uczogW1xyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltRWRnZShcIkNoaWxkQ2xhaW0xXCIsIFwiZ3JhbmRDaGlsZDFcIiwgdW5kZWZpbmVkLCBmYWxzZSwgXCJHcmFuZENoaWxkQ2xhaW0xRWRnZVwiKSwgdW5kZWZpbmVkLCBcImFkZF9jbGFpbUVkZ2VcIilcclxuICAgICAgXSxcclxuICAgICAgcmVwb3NpdG9yeTogcmVwb3NpdG9yeSxcclxuICAgICAgY2FsY3VsYXRvcjogY2FsY3VsYXRlU2NvcmVcclxuICAgIH0pXHJcblxyXG4gICAgZXhwZWN0KChhd2FpdCByZXBvc2l0b3J5LmdldFNjb3JlKFwidGVzdFRvcFNjb3JlXCIpKT8uY29uZmlkZW5jZSkudG9FcXVhbCgxKTtcclxuXHJcbiAgfSk7XHJcblxyXG4gIHRlc3QoJ0NvbXBsZXggVGVzdCcsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHJlcG9zaXRvcnkgPSBuZXcgUmVwb3NpdG9yeUxvY2FsUHVyZSgpO1xyXG4gICAgY29uc3QgY2hhbmdlZFNjb3JlcyA9IGF3YWl0IGNhbGN1bGF0ZVNjb3JlQWN0aW9ucyh7XHJcbiAgICAgIGFjdGlvbnM6IFtcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbShcIlRvcCBDbGFpbVwiLCBcInRvcFRlc3RDbGFpbVwiKSwgdSwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW0oXCJDaGlsZCBDbGFpbSAxXCIsIFwiQ2hpbGRDbGFpbTFcIiksIHUsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltKFwiQ2hpbGQgQ2xhaW0gMlwiLCBcIkNoaWxkQ2xhaW0yXCIpLCB1LCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbShcIkdyYW5kY2hpbGQgQ2xhaW0gMVwiLCBcImdyYW5kQ2hpbGQxXCIpLCB1LCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbUVkZ2UoXCJ0b3BUZXN0Q2xhaW1cIiwgXCJDaGlsZENsYWltMVwiLCB1LCBmYWxzZSwgXCJDaGlsZENsYWltMUVkZ2VcIiksIHUsIFwiYWRkX2NsYWltRWRnZVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbUVkZ2UoXCJ0b3BUZXN0Q2xhaW1cIiwgXCJDaGlsZENsYWltMlwiLCB1LCB0cnVlLCBcIkNoaWxkQ2xhaW0yRWRnZVwiKSwgdSwgXCJhZGRfY2xhaW1FZGdlXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltRWRnZShcIkNoaWxkQ2xhaW0xXCIsIFwiZ3JhbmRDaGlsZDFcIiwgdSwgZmFsc2UsIFwiR3JhbmRDaGlsZENsYWltMUVkZ2VcIiksIHUsIFwiYWRkX2NsYWltRWRnZVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBTY29yZVRyZWUoXCJ0b3BUZXN0Q2xhaW1cIiwgXCJ0ZXN0VG9wU2NvcmVcIiwgdSwgXCJ0ZXN0U2NvcmVUcmVlXCIpLCB1bmRlZmluZWQsIFwiYWRkX3Njb3JlVHJlZVwiKSxcclxuICAgICAgXSxcclxuICAgICAgcmVwb3NpdG9yeTogcmVwb3NpdG9yeVxyXG4gICAgfSlcclxuXHJcbiAgICBleHBlY3QoKHJlcG9zaXRvcnkucnNEYXRhLml0ZW1zW1widGVzdFRvcFNjb3JlXCJdIGFzIFNjb3JlKS5jb25maWRlbmNlKS50b0VxdWFsKDEpO1xyXG4gICAgZXhwZWN0KHJlcG9zaXRvcnkucnNEYXRhLnNjb3JlSWRzQnlTb3VyY2VJZFtcInRvcFRlc3RDbGFpbVwiXS5sZW5ndGgpLnRvRXF1YWwoMSk7XHJcblxyXG4gICAgLy9XZWlyZCBzY29yZSBub3QgY2hhbmdpbmdcclxuICAgIGNvbnN0IENoaWxkQ2xhaW0xU2NvcmVzSW5pdGlhbCA9IGF3YWl0IHJlcG9zaXRvcnkuZ2V0U2NvcmVzQnlTb3VyY2VJZChcIkNoaWxkQ2xhaW0xXCIpXHJcbiAgICBleHBlY3QoQ2hpbGRDbGFpbTFTY29yZXNJbml0aWFsWzBdLnBybykudG9FcXVhbChmYWxzZSk7XHJcblxyXG4gICAgY29uc3QgY2hhbmdlZFNjb3JlczIgPSBhd2FpdCBjYWxjdWxhdGVTY29yZUFjdGlvbnMoe1xyXG4gICAgICBhY3Rpb25zOiBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgXCJuZXdEYXRhXCI6IHtcclxuICAgICAgICAgICAgXCJjb250ZW50XCI6IFwiQ2hpbGQgQ2xhaW0gMVwiLFxyXG4gICAgICAgICAgICBcImlkXCI6IFwiQ2hpbGRDbGFpbTFcIixcclxuICAgICAgICAgICAgXCJyZXZlcnNpYmxlXCI6IGZhbHNlLFxyXG4gICAgICAgICAgICBcInR5cGVcIjogXCJjbGFpbVwiXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgXCJ0eXBlXCI6IFwibW9kaWZ5X2NsYWltXCIsXHJcbiAgICAgICAgICBcImRhdGFJZFwiOiBcIkNoaWxkQ2xhaW0xXCJcclxuICAgICAgICB9IGFzIEFjdGlvbixcclxuICAgICAgICB7XHJcbiAgICAgICAgICBcIm5ld0RhdGFcIjoge1xyXG4gICAgICAgICAgICBcInBhcmVudElkXCI6IFwidG9wVGVzdENsYWltXCIsXHJcbiAgICAgICAgICAgIFwiY2hpbGRJZFwiOiBcIkNoaWxkQ2xhaW0xXCIsXHJcbiAgICAgICAgICAgIFwiYWZmZWN0c1wiOiBcImNvbmZpZGVuY2VcIixcclxuICAgICAgICAgICAgXCJwcm9cIjogdHJ1ZSxcclxuICAgICAgICAgICAgXCJpZFwiOiBcIkNoaWxkQ2xhaW0xRWRnZVwiLFxyXG4gICAgICAgICAgICBcInByaW9yaXR5XCI6IFwiXCIsXHJcbiAgICAgICAgICAgIFwidHlwZVwiOiBcImNsYWltRWRnZVwiXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgXCJ0eXBlXCI6IFwibW9kaWZ5X2NsYWltRWRnZVwiLFxyXG4gICAgICAgICAgXCJkYXRhSWRcIjogXCJDaGlsZENsYWltMUVkZ2VcIlxyXG4gICAgICAgIH0gYXMgQWN0aW9uXHJcbiAgICAgIF0sXHJcbiAgICAgIHJlcG9zaXRvcnk6IHJlcG9zaXRvcnlcclxuICAgIH0pXHJcblxyXG4gICAgY29uc3QgQ2hpbGRDbGFpbTFTY29yZXMgPSBhd2FpdCByZXBvc2l0b3J5LmdldFNjb3Jlc0J5U291cmNlSWQoXCJDaGlsZENsYWltMVwiKVxyXG4gICAgZXhwZWN0KENoaWxkQ2xhaW0xU2NvcmVzWzBdLnBybykudG9FcXVhbCh0cnVlKTtcclxuICB9KTtcclxuXHJcbiAgdGVzdCgnUGFydGlhbCBDbGFpbSBFZGdlIEdyYW5kY2hpbGQgVXBkYXRlJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgcmVwb3NpdG9yeSA9IG5ldyBSZXBvc2l0b3J5TG9jYWxQdXJlKCk7XHJcbiAgICBjb25zdCBjaGFuZ2VkU2NvcmVzID0gYXdhaXQgY2FsY3VsYXRlU2NvcmVBY3Rpb25zKHtcclxuICAgICAgYWN0aW9uczogW1xyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltKFwiVG9wIENsYWltXCIsIFwidG9wVGVzdENsYWltXCIpLCB1LCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbShcIkNoaWxkIENsYWltIDFcIiwgXCJDaGlsZENsYWltMVwiKSwgdSwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW0oXCJDaGlsZCBDbGFpbSAyXCIsIFwiQ2hpbGRDbGFpbTJcIiksIHUsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltKFwiR3JhbmRjaGlsZCBDbGFpbSAxXCIsIFwiZ3JhbmRDaGlsZDFcIiksIHUsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltRWRnZShcInRvcFRlc3RDbGFpbVwiLCBcIkNoaWxkQ2xhaW0xXCIsIHUsIGZhbHNlLCBcIkNoaWxkQ2xhaW0xRWRnZVwiKSwgdSwgXCJhZGRfY2xhaW1FZGdlXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltRWRnZShcInRvcFRlc3RDbGFpbVwiLCBcIkNoaWxkQ2xhaW0yXCIsIHUsIHRydWUsIFwiQ2hpbGRDbGFpbTJFZGdlXCIpLCB1LCBcImFkZF9jbGFpbUVkZ2VcIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW1FZGdlKFwiQ2hpbGRDbGFpbTFcIiwgXCJncmFuZENoaWxkMVwiLCB1LCBmYWxzZSwgXCJHcmFuZENoaWxkQ2xhaW0xRWRnZVwiKSwgdSwgXCJhZGRfY2xhaW1FZGdlXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IFNjb3JlVHJlZShcInRvcFRlc3RDbGFpbVwiLCBcInRlc3RUb3BTY29yZVwiLCB1LCBcInRlc3RTY29yZVRyZWVcIiksIHVuZGVmaW5lZCwgXCJhZGRfc2NvcmVUcmVlXCIpLFxyXG4gICAgICBdLFxyXG4gICAgICByZXBvc2l0b3J5OiByZXBvc2l0b3J5XHJcbiAgICB9KVxyXG5cclxuICAgIC8vYXdhaXQgcmVwb3NpdG9yeS5ub3RpZnkoY2hhbmdlZFNjb3Jlcyk7XHJcbiAgICBleHBlY3QoKGF3YWl0IHJlcG9zaXRvcnkuZ2V0U2NvcmUoXCJ0ZXN0VG9wU2NvcmVcIikpPy5jb25maWRlbmNlKS50b0VxdWFsKDEpO1xyXG4gICAgZXhwZWN0KHJlcG9zaXRvcnkucnNEYXRhLnNjb3JlSWRzQnlTb3VyY2VJZFtcInRvcFRlc3RDbGFpbVwiXS5sZW5ndGgpLnRvRXF1YWwoMSk7XHJcblxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2FsY3VsYXRlU2NvcmVBY3Rpb25zKHtcclxuICAgICAgYWN0aW9uczogW1xyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltRWRnZShcInRvcFRlc3RDbGFpbVwiLCBcIkNoaWxkQ2xhaW0yXCIsIHUsIGZhbHNlLCBcIkNoaWxkQ2xhaW0yRWRnZVwiKSwgdSwgXCJtb2RpZnlfY2xhaW1FZGdlXCIpLFxyXG4gICAgICBdLFxyXG4gICAgICByZXBvc2l0b3J5OiByZXBvc2l0b3J5XHJcbiAgICB9KVxyXG4gICAgYXdhaXQgcmVwb3NpdG9yeS5ub3RpZnkocmVzdWx0KTtcclxuICAgIGV4cGVjdCgoYXdhaXQgcmVwb3NpdG9yeS5nZXRTY29yZShcInRlc3RUb3BTY29yZVwiKSk/LmNvbmZpZGVuY2UpLnRvRXF1YWwoLTEpO1xyXG5cclxuICAgIGNvbnN0IHJlc3VsdDIgPSBhd2FpdCBjYWxjdWxhdGVTY29yZUFjdGlvbnMoe1xyXG4gICAgICBhY3Rpb25zOiBbXHJcbiAgICAgICAgbmV3IEFjdGlvbih7IHBybzogdHJ1ZSB9LCB1LCBcIm1vZGlmeV9jbGFpbUVkZ2VcIiwgXCJDaGlsZENsYWltMkVkZ2VcIiksXHJcbiAgICAgICAgLy9uZXcgQWN0aW9uKG5ldyBDbGFpbUVkZ2UoXCJ0b3BUZXN0Q2xhaW1cIiwgXCJDaGlsZENsYWltMlwiLCB1LCB0cnVlLCBcIkNoaWxkQ2xhaW0yRWRnZVwiKSwgdSwgXCJtb2RpZnlfY2xhaW1FZGdlXCIpLFxyXG4gICAgICBdLFxyXG4gICAgICByZXBvc2l0b3J5OiByZXBvc2l0b3J5XHJcbiAgICB9KVxyXG5cclxuICAgIGF3YWl0IHJlcG9zaXRvcnkubm90aWZ5KHJlc3VsdDIpO1xyXG4gICAgZXhwZWN0KChhd2FpdCByZXBvc2l0b3J5LmdldFNjb3JlKFwidGVzdFRvcFNjb3JlXCIpKT8uY29uZmlkZW5jZSkudG9FcXVhbCgxKTtcclxuICB9KTtcclxuXHJcbiAgdGVzdCgnUGFydGlhbCBDbGFpbSBFZGdlIENoaWxkIFVwZGF0ZScsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHJlcG9zaXRvcnkgPSBuZXcgUmVwb3NpdG9yeUxvY2FsUHVyZSgpO1xyXG4gICAgY29uc3QgY2hhbmdlZFNjb3JlcyA9IGF3YWl0IGNhbGN1bGF0ZVNjb3JlQWN0aW9ucyh7XHJcbiAgICAgIGFjdGlvbnM6IFtcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbShcIlRvcCBDbGFpbVwiLCBcInRvcFRlc3RDbGFpbVwiKSwgdSwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW0oXCJDaGlsZCBDbGFpbSAxXCIsIFwiQ2hpbGRDbGFpbTFcIiksIHUsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltKFwiQ2hpbGQgQ2xhaW0gMlwiLCBcIkNoaWxkQ2xhaW0yXCIpLCB1LCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbShcIkdyYW5kY2hpbGQgQ2xhaW0gMVwiLCBcImdyYW5kQ2hpbGQxXCIpLCB1LCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbUVkZ2UoXCJ0b3BUZXN0Q2xhaW1cIiwgXCJDaGlsZENsYWltMVwiLCB1LCBmYWxzZSwgXCJDaGlsZENsYWltMUVkZ2VcIiksIHUsIFwiYWRkX2NsYWltRWRnZVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbUVkZ2UoXCJ0b3BUZXN0Q2xhaW1cIiwgXCJDaGlsZENsYWltMlwiLCB1LCB0cnVlLCBcIkNoaWxkQ2xhaW0yRWRnZVwiKSwgdSwgXCJhZGRfY2xhaW1FZGdlXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltRWRnZShcIkNoaWxkQ2xhaW0xXCIsIFwiZ3JhbmRDaGlsZDFcIiwgdSwgZmFsc2UsIFwiR3JhbmRDaGlsZENsYWltMUVkZ2VcIiksIHUsIFwiYWRkX2NsYWltRWRnZVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBTY29yZVRyZWUoXCJ0b3BUZXN0Q2xhaW1cIiwgXCJ0ZXN0VG9wU2NvcmVcIiwgdSwgXCJ0ZXN0U2NvcmVUcmVlXCIpLCB1bmRlZmluZWQsIFwiYWRkX3Njb3JlVHJlZVwiKSxcclxuICAgICAgXSxcclxuICAgICAgcmVwb3NpdG9yeTogcmVwb3NpdG9yeVxyXG4gICAgfSlcclxuXHJcbiAgICAvL2F3YWl0IHJlcG9zaXRvcnkubm90aWZ5KGNoYW5nZWRTY29yZXMpO1xyXG4gICAgZXhwZWN0KChhd2FpdCByZXBvc2l0b3J5LmdldFNjb3JlKFwidGVzdFRvcFNjb3JlXCIpKT8uY29uZmlkZW5jZSkudG9FcXVhbCgxKTtcclxuXHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjYWxjdWxhdGVTY29yZUFjdGlvbnMoe1xyXG4gICAgICBhY3Rpb25zOiBbXHJcbiAgICAgICAgbmV3IEFjdGlvbih7IHBybzogZmFsc2UgfSwgdSwgXCJtb2RpZnlfY2xhaW1FZGdlXCIsIFwiQ2hpbGRDbGFpbTJFZGdlXCIpLFxyXG4gICAgICAgIC8vbmV3IEFjdGlvbihuZXcgQ2xhaW1FZGdlKFwidG9wVGVzdENsYWltXCIsIFwiQ2hpbGRDbGFpbTJcIiwgdSwgZmFsc2UsIFwiQ2hpbGRDbGFpbTJFZGdlXCIpLCB1LCBcIm1vZGlmeV9jbGFpbUVkZ2VcIiksXHJcbiAgICAgIF0sXHJcbiAgICAgIHJlcG9zaXRvcnk6IHJlcG9zaXRvcnlcclxuICAgIH0pXHJcbiAgICAvL2F3YWl0IHJlcG9zaXRvcnkubm90aWZ5KHJlc3VsdCk7XHJcbiAgICBleHBlY3QoKGF3YWl0IHJlcG9zaXRvcnkuZ2V0U2NvcmUoXCJ0ZXN0VG9wU2NvcmVcIikpPy5jb25maWRlbmNlKS50b0VxdWFsKC0xKTtcclxuXHJcbiAgICBjb25zdCByZXN1bHQyID0gYXdhaXQgY2FsY3VsYXRlU2NvcmVBY3Rpb25zKHtcclxuICAgICAgYWN0aW9uczogW1xyXG4gICAgICAgIG5ldyBBY3Rpb24oeyBwcm86IHRydWUgfSwgdSwgXCJtb2RpZnlfY2xhaW1FZGdlXCIsIFwiQ2hpbGRDbGFpbTJFZGdlXCIpLFxyXG4gICAgICAgIC8vbmV3IEFjdGlvbihuZXcgQ2xhaW1FZGdlKFwidG9wVGVzdENsYWltXCIsIFwiQ2hpbGRDbGFpbTJcIiwgdSwgdHJ1ZSwgXCJDaGlsZENsYWltMkVkZ2VcIiksIHUsIFwibW9kaWZ5X2NsYWltRWRnZVwiKSxcclxuICAgICAgXSxcclxuICAgICAgcmVwb3NpdG9yeTogcmVwb3NpdG9yeVxyXG4gICAgfSlcclxuXHJcbiAgICBleHBlY3QoKGF3YWl0IHJlcG9zaXRvcnkuZ2V0U2NvcmUoXCJ0ZXN0VG9wU2NvcmVcIikpPy5jb25maWRlbmNlKS50b0VxdWFsKDEpO1xyXG4gIH0pO1xyXG5cclxuICB0ZXN0KCdEZWxldGluZyBhbiBlZGdlIHNob3VsZCByZXZlcnNlcyB0aGUgdG9wIHNjb3JlJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgcmVwb3NpdG9yeSA9IG5ldyBSZXBvc2l0b3J5TG9jYWxQdXJlKCk7XHJcbiAgICBhd2FpdCBjYWxjdWxhdGVTY29yZUFjdGlvbnMoe1xyXG4gICAgICBhY3Rpb25zOiBbXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW0oXCJcIiwgXCJ0b3BUZXN0Q2xhaW1cIiksIHVuZGVmaW5lZCwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW0oXCJcIiwgXCJDaGlsZENsYWltMVwiKSwgdW5kZWZpbmVkLCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbUVkZ2UoXCJ0b3BUZXN0Q2xhaW1cIiwgXCJDaGlsZENsYWltMVwiLCB1bmRlZmluZWQsIGZhbHNlLCBcIkNoaWxkQ2xhaW0xRWRnZVwiKSwgdW5kZWZpbmVkLCBcImFkZF9jbGFpbUVkZ2VcIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgU2NvcmVUcmVlKFwidG9wVGVzdENsYWltXCIsIFwidGVzdFRvcFNjb3JlXCIsIHUsIFwidGVzdFNjb3JlVHJlZVwiKSwgdW5kZWZpbmVkLCBcImFkZF9zY29yZVRyZWVcIiksXHJcbiAgICAgIF0sIHJlcG9zaXRvcnk6IHJlcG9zaXRvcnlcclxuICAgIH0pXHJcblxyXG4gICAgZXhwZWN0KChhd2FpdCByZXBvc2l0b3J5LmdldFNjb3JlKFwidGVzdFRvcFNjb3JlXCIpKT8uY29uZmlkZW5jZSkudG9FcXVhbCgtMSk7XHJcblxyXG4gICAgYXdhaXQgY2FsY3VsYXRlU2NvcmVBY3Rpb25zKHtcclxuICAgICAgYWN0aW9uczogW1xyXG4gICAgICAgIG5ldyBBY3Rpb24odSwgeyBwYXJlbnRJZDogXCJ0b3BUZXN0Q2xhaW1cIiB9LCBcImRlbGV0ZV9jbGFpbUVkZ2VcIiwgXCJDaGlsZENsYWltMUVkZ2VcIilcclxuICAgICAgXSwgcmVwb3NpdG9yeTogcmVwb3NpdG9yeSxcclxuICAgIH0pXHJcblxyXG4gICAgZXhwZWN0KChhd2FpdCByZXBvc2l0b3J5LmdldFNjb3JlKFwidGVzdFRvcFNjb3JlXCIpKT8uY29uZmlkZW5jZSkudG9FcXVhbCgxKTtcclxuICB9KTtcclxuXHJcbiAgdGVzdCgnTXVsdGkgbGV2ZWwgcmVsZXZhbmNlIGRlbGV0ZSB0ZXN0JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgcmVwb3NpdG9yeSA9IG5ldyBSZXBvc2l0b3J5TG9jYWxQdXJlKCk7XHJcblxyXG4gICAgY29uc3QgcHJvID0gdHJ1ZTtcclxuICAgIGNvbnN0IGNvbiA9IGZhbHNlO1xyXG4gICAgY29uc3QgdG9wQ2xhaW0gPSBuZXcgQ2xhaW0oXCJTaG91bGQgRmljdGlvbiBDaXR5IGNvbnZlcnQgRWxtIFN0cmVldCB0byBvbmx5IHBlZGVzdHJpYW4gdHJhZmZpYz9cIiwgXCJ0b3BUZXN0Q2xhaW1cIilcclxuICAgIGNvbnN0IENsYWltMV8wID0gbmV3IENsYWltKFwiVGhlIHBsYW5uaW5nIGNvbW1pc3Npb24gZXN0aW1hdGVzIHRoaXMgd2lsbCBpbmNyZWFzZSBmb290IHRyYWZmaWMgdG8gbG9jYWwgc2hvcHMgYnkgMTIlIGR1cmluZyBwZWFrIGhvdXJzLlwiLCBcIkNsYWltMV8wXCIpXHJcbiAgICBjb25zdCBDbGFpbTFfMSA9IG5ldyBDbGFpbShcIlRoZSBpbmNyZWFzZSBpbiByZXZlbnVlIGlzIGV4cGVjdGVkIHRvIHBheSBvZmYgdGhlIGV4cGVuc2UgaW4gdW5kZXIgMiB5ZWFycyBtZWV0aW5nIHRoZSBjaXRpZXMgaW52ZXN0bWVudCByZXF1aXJlbWVudHMuXCIsIFwiQ2xhaW0xXzFcIilcclxuICAgIGNvbnN0IENsYWltMl8wID0gbmV3IENsYWltKFwiVGhpcyB3aWxsIHJlc3VsdCBpbiB0cmFmZmljIGJlaW5nIGRpdmVydGVkIGRvd24gcmVzaWRlbnRpYWwgc3RyZWV0cy5cIilcclxuICAgIGNvbnN0IENsYWltMl8xID0gbmV3IENsYWltKFwiQ2hpbGRyZW4gc2FmZXR5IGlzIG1vcmUgaW1wb3J0YW50IHRoYW4gcHJvZml0IGZvciBsb2NhbCBzaG9wcy5cIilcclxuICAgIGNvbnN0IENsYWltMl8yID0gbmV3IENsYWltKFwiQSBzZXQgb2YgcmFpbHJvYWQgdHJhY2tzIGFyZSBubyBsb25nZXIgaW4gdXNlIGFuZCB0aGUgQ2l0eSBjYW4gY29udmVydCB0aGF0IHRvIGEgbmV3IHN0cmVldC5cIilcclxuICAgIGNvbnN0IENsYWltM18wID0gbmV3IENsYWltKFwiVGhlIGNvbnZlcnNpb24gd2lsbCBjb3N0IDIgTWlsbGlvbiBkb2xsYXJzLlwiKVxyXG4gICAgY29uc3QgQ2xhaW1FZGdlMV8wID0gbmV3IENsYWltRWRnZSh0b3BDbGFpbS5pZCwgQ2xhaW0xXzAuaWQsIHUsIHBybywgXCJDbGFpbUVkZ2UxXzBcIik7XHJcbiAgICBjb25zdCBDbGFpbUVkZ2UxXzEgPSBuZXcgQ2xhaW1FZGdlKENsYWltMV8wLmlkLCBDbGFpbTFfMS5pZCwgXCJyZWxldmFuY2VcIiwgcHJvLCBcIkNsYWltRWRnZTFfMVwiKVxyXG4gICAgY29uc3QgYWN0aW9ucyA9IFtcclxuICAgICAgbmV3IEFjdGlvbih0b3BDbGFpbSwgdSwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgIG5ldyBBY3Rpb24oQ2xhaW0xXzAsIHUsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICBuZXcgQWN0aW9uKENsYWltMV8xLCB1LCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgbmV3IEFjdGlvbihDbGFpbTJfMCwgdSwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgIG5ldyBBY3Rpb24oQ2xhaW0yXzEsIHUsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICBuZXcgQWN0aW9uKENsYWltMl8yLCB1LCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgbmV3IEFjdGlvbihDbGFpbTNfMCwgdSwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgIG5ldyBBY3Rpb24oQ2xhaW1FZGdlMV8wLCB1LCBcImFkZF9jbGFpbUVkZ2VcIiksXHJcbiAgICAgIG5ldyBBY3Rpb24oQ2xhaW1FZGdlMV8xLCB1LCBcImFkZF9jbGFpbUVkZ2VcIiksXHJcbiAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltRWRnZSh0b3BDbGFpbS5pZCwgQ2xhaW0yXzAuaWQsIHUsIGNvbiksIHUsIFwiYWRkX2NsYWltRWRnZVwiKSxcclxuICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW1FZGdlKENsYWltMl8wLmlkLCBDbGFpbTJfMS5pZCwgXCJyZWxldmFuY2VcIiwgY29uKSwgdSwgXCJhZGRfY2xhaW1FZGdlXCIpLFxyXG4gICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbUVkZ2UoQ2xhaW0yXzAuaWQsIENsYWltMl8yLmlkLCB1LCBjb24pLCB1LCBcImFkZF9jbGFpbUVkZ2VcIiksXHJcbiAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltRWRnZSh0b3BDbGFpbS5pZCwgQ2xhaW0zXzAuaWQsIHUsIGNvbiksIHUsIFwiYWRkX2NsYWltRWRnZVwiKSxcclxuICAgICAgbmV3IEFjdGlvbihuZXcgU2NvcmUodG9wQ2xhaW0uaWQsIHRvcENsYWltLmlkLCB1LCB1LCB1LCB1LCB1LCAwLCB1LCBcInRlc3RUb3BTY29yZVwiKSwgdSwgXCJhZGRfc2NvcmVcIiksXHJcbiAgICAgIG5ldyBBY3Rpb24obmV3IFNjb3JlVHJlZShcInRvcFRlc3RDbGFpbVwiLCBcInRlc3RUb3BTY29yZVwiLCB1LCBcInRlc3RTY29yZVRyZWVcIiksIHVuZGVmaW5lZCwgXCJhZGRfc2NvcmVUcmVlXCIpLFxyXG5cclxuXHJcbiAgICBdXHJcbiAgICBhd2FpdCBjYWxjdWxhdGVTY29yZUFjdGlvbnMoeyBhY3Rpb25zOiBhY3Rpb25zLCByZXBvc2l0b3J5OiByZXBvc2l0b3J5IH0pXHJcblxyXG4gICAgZXhwZWN0KChhd2FpdCByZXBvc2l0b3J5LmdldFNjb3JlKFwidGVzdFRvcFNjb3JlXCIpKT8uY29uZmlkZW5jZSkudG9FcXVhbCgwLjMzMzMzMzMzMzMzMzMzMzMpO1xyXG5cclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNhbGN1bGF0ZVNjb3JlQWN0aW9ucyh7XHJcbiAgICAgIGFjdGlvbnM6IFtcclxuICAgICAgICBuZXcgQWN0aW9uKHVuZGVmaW5lZCwgQ2xhaW1FZGdlMV8xLCBcImRlbGV0ZV9jbGFpbUVkZ2VcIiwgQ2xhaW1FZGdlMV8xLmlkKVxyXG4gICAgICBdLCByZXBvc2l0b3J5OiByZXBvc2l0b3J5XHJcbiAgICB9KVxyXG5cclxuICAgIGV4cGVjdCgoYXdhaXQgcmVwb3NpdG9yeS5nZXRTY29yZShcInRlc3RUb3BTY29yZVwiKSk/LmNvbmZpZGVuY2UpLnRvRXF1YWwoMCk7XHJcblxyXG5cclxuICB9KTtcclxuXHJcbiAgdGVzdCgnUmVsZXZhbmNlIHRlc3QnLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCByZXBvc2l0b3J5ID0gbmV3IFJlcG9zaXRvcnlMb2NhbFB1cmUoKTtcclxuICAgIGxldCByZXN1bHQ7XHJcbiAgICBhd2FpdCBjYWxjdWxhdGVTY29yZUFjdGlvbnMoe1xyXG4gICAgICBhY3Rpb25zOiBbXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW0oXCJUb3AgQ2xhaW1cIiwgXCJ0b3BUZXN0Q2xhaW1cIiksIHUsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltKFwiQ2hpbGQgQ2xhaW0gMVwiLCBcIkNoaWxkQ2xhaW0xXCIpLCB1LCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbShcIkNoaWxkIENsYWltIDJcIiwgXCJDaGlsZENsYWltMlwiKSwgdSwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW0oXCJHcmFuZGNoaWxkIENsYWltIDFcIiwgXCJncmFuZENoaWxkMVwiKSwgdSwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW1FZGdlKFwidG9wVGVzdENsYWltXCIsIFwiQ2hpbGRDbGFpbTFcIiwgdSwgcHJvLCBcIkNoaWxkQ2xhaW0xRWRnZVwiKSwgdSwgXCJhZGRfY2xhaW1FZGdlXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltRWRnZShcInRvcFRlc3RDbGFpbVwiLCBcIkNoaWxkQ2xhaW0yXCIsIHUsIGNvbiwgXCJDaGlsZENsYWltMkVkZ2VcIiksIHUsIFwiYWRkX2NsYWltRWRnZVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbUVkZ2UoXCJDaGlsZENsYWltMVwiLCBcImdyYW5kQ2hpbGQxXCIsIFwicmVsZXZhbmNlXCIsIHBybywgXCJHcmFuZENoaWxkQ2xhaW0xRWRnZVwiKSwgdSwgXCJhZGRfY2xhaW1FZGdlXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IFNjb3JlVHJlZShcInRvcFRlc3RDbGFpbVwiLCBcInRlc3RUb3BTY29yZVwiLCB1LCBcInRlc3RTY29yZVRyZWVcIiksIHVuZGVmaW5lZCwgXCJhZGRfc2NvcmVUcmVlXCIpLFxyXG4gICAgICBdLFxyXG4gICAgICByZXBvc2l0b3J5OiByZXBvc2l0b3J5XHJcbiAgICB9KVxyXG5cclxuICAgIGxldCByZXN1bHRzOiBbc3RyaW5nLCBhbnldW10sIGV4cGVjdGF0aW9uczogW3N0cmluZywgYW55XVtdXHJcblxyXG4gICAgLy8gQ2hlY2sgZGVzY2VuZGFudENvdW50XHJcbiAgICByZXN1bHRzID0gW11cclxuICAgIGV4cGVjdGF0aW9ucyA9IFtcclxuICAgICAgW1widG9wVGVzdENsYWltLmNvbmZpZGVuY2VcIiwgMC4zMzMzMzMzMzMzMzMzMzMzXSxcclxuICAgICAgW1wiZ3JhbmRDaGlsZDEuYWZmZWN0c1wiLCBcInJlbGV2YW5jZVwiXSxcclxuICAgIF1cclxuICAgIGZvciAoY29uc3QgZXhwZWN0YXRpb24gb2YgZXhwZWN0YXRpb25zKSB7XHJcbiAgICAgIGNvbnN0IHNvdXJjZSA9IGV4cGVjdGF0aW9uWzBdLnNwbGl0KFwiLlwiKTtcclxuICAgICAgY29uc3QgdGVtcFJlc3VsdCA9IChhd2FpdCByZXBvc2l0b3J5LmdldFNjb3Jlc0J5U291cmNlSWQoc291cmNlWzBdKSkgYXMgYW55O1xyXG4gICAgICByZXN1bHRzLnB1c2goW1xyXG4gICAgICAgIGV4cGVjdGF0aW9uWzBdLFxyXG4gICAgICAgICh0ZW1wUmVzdWx0WzBdKVtzb3VyY2VbMV1dXHJcbiAgICAgIF0pXHJcbiAgICB9XHJcbiAgICBleHBlY3QocmVzdWx0cykudG9NYXRjaE9iamVjdChleHBlY3RhdGlvbnMpO1xyXG4gIH0pO1xyXG5cclxuICB0ZXN0KCdEZXNjZW5kYW50IENvdW50IFRlc3RzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgcmVwb3NpdG9yeSA9IG5ldyBSZXBvc2l0b3J5TG9jYWxQdXJlKCk7XHJcbiAgICBsZXQgcmVzdWx0O1xyXG4gICAgYXdhaXQgY2FsY3VsYXRlU2NvcmVBY3Rpb25zKHtcclxuICAgICAgYWN0aW9uczogW1xyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltKFwiVG9wIENsYWltXCIsIFwidG9wVGVzdENsYWltXCIpLCB1LCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbShcIkNoaWxkIENsYWltIDFcIiwgXCJDaGlsZENsYWltMVwiKSwgdSwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW0oXCJDaGlsZCBDbGFpbSAyXCIsIFwiQ2hpbGRDbGFpbTJcIiksIHUsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltKFwiQ2hpbGQgQ2xhaW0gM1wiLCBcIkNoaWxkQ2xhaW0zXCIpLCB1LCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbShcIkdyYW5kY2hpbGQgQ2xhaW0gMVwiLCBcImdyYW5kQ2hpbGQxXCIpLCB1LCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbShcIkdyYW5kY2hpbGQgQ2xhaW0gMlwiLCBcImdyYW5kQ2hpbGQyXCIpLCB1LCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbShcIkdyYW5kY2hpbGQgQ2xhaW0gM1wiLCBcImdyYW5kQ2hpbGQzXCIpLCB1LCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbUVkZ2UoXCJ0b3BUZXN0Q2xhaW1cIiwgXCJDaGlsZENsYWltMVwiLCB1LCBwcm8sIFwiQ2hpbGRDbGFpbTFFZGdlXCIpLCB1LCBcImFkZF9jbGFpbUVkZ2VcIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW1FZGdlKFwidG9wVGVzdENsYWltXCIsIFwiQ2hpbGRDbGFpbTJcIiwgdSwgcHJvLCBcIkNoaWxkQ2xhaW0yRWRnZVwiKSwgdSwgXCJhZGRfY2xhaW1FZGdlXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltRWRnZShcInRvcFRlc3RDbGFpbVwiLCBcIkNoaWxkQ2xhaW0zXCIsIHUsIGNvbiwgXCJDaGlsZENsYWltM0VkZ2VcIiksIHUsIFwiYWRkX2NsYWltRWRnZVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbUVkZ2UoXCJDaGlsZENsYWltMVwiLCBcImdyYW5kQ2hpbGQxXCIsIHUsIHBybywgXCJHcmFuZENoaWxkQ2xhaW0xRWRnZVwiKSwgdSwgXCJhZGRfY2xhaW1FZGdlXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltRWRnZShcIkNoaWxkQ2xhaW0xXCIsIFwiZ3JhbmRDaGlsZDJcIiwgdSwgcHJvLCBcIkdyYW5kQ2hpbGRDbGFpbTJFZGdlXCIpLCB1LCBcImFkZF9jbGFpbUVkZ2VcIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW1FZGdlKFwiQ2hpbGRDbGFpbTFcIiwgXCJncmFuZENoaWxkM1wiLCB1LCBjb24sIFwiR3JhbmRDaGlsZENsYWltM0VkZ2VcIiksIHUsIFwiYWRkX2NsYWltRWRnZVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBTY29yZVRyZWUoXCJ0b3BUZXN0Q2xhaW1cIiwgXCJ0ZXN0VG9wU2NvcmVcIiwgdSwgXCJ0ZXN0U2NvcmVUcmVlXCIpLCB1bmRlZmluZWQsIFwiYWRkX3Njb3JlVHJlZVwiKSxcclxuICAgICAgXSxcclxuICAgICAgcmVwb3NpdG9yeTogcmVwb3NpdG9yeVxyXG4gICAgfSlcclxuXHJcbiAgICBleHBlY3QoKHJlcG9zaXRvcnkucnNEYXRhLml0ZW1zW1widGVzdFNjb3JlVHJlZVwiXSBhcyBTY29yZVRyZWUpLmRlc2NlbmRhbnRDb3VudCkudG9FcXVhbCg2KTtcclxuXHJcbiAgICBsZXQgcmVzdWx0czogW3N0cmluZywgYW55XVtdLCBleHBlY3RhdGlvbnM6IFtzdHJpbmcsIGFueV1bXVxyXG4gICAgcmVzdWx0cyA9IFtdXHJcbiAgICBleHBlY3RhdGlvbnMgPSBbXHJcbiAgICAgIFtcInRvcFRlc3RDbGFpbS5kZXNjZW5kYW50Q291bnRcIiwgNl0sXHJcbiAgICAgIFtcIkNoaWxkQ2xhaW0xLmRlc2NlbmRhbnRDb3VudFwiLCAzXSxcclxuICAgICAgW1wiQ2hpbGRDbGFpbTIuZGVzY2VuZGFudENvdW50XCIsIDBdLFxyXG4gICAgXVxyXG4gICAgZm9yIChjb25zdCBleHBlY3RhdGlvbiBvZiBleHBlY3RhdGlvbnMpIHtcclxuICAgICAgY29uc3Qgc291cmNlID0gZXhwZWN0YXRpb25bMF0uc3BsaXQoXCIuXCIpO1xyXG4gICAgICBjb25zdCB0ZW1wUmVzdWx0ID0gKGF3YWl0IHJlcG9zaXRvcnkuZ2V0U2NvcmVzQnlTb3VyY2VJZChzb3VyY2VbMF0pKSBhcyBhbnk7XHJcbiAgICAgIHJlc3VsdHMucHVzaChbXHJcbiAgICAgICAgZXhwZWN0YXRpb25bMF0sXHJcbiAgICAgICAgKHRlbXBSZXN1bHRbMF0pW3NvdXJjZVsxXV1cclxuICAgICAgXSlcclxuICAgIH1cclxuICAgIGV4cGVjdChyZXN1bHRzKS50b01hdGNoT2JqZWN0KGV4cGVjdGF0aW9ucyk7XHJcbiAgfSk7XHJcblxyXG4gIHRlc3QoJ0dlbmVyYXRpb24gQ291bnQgVGVzdHMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCByZXBvc2l0b3J5ID0gbmV3IFJlcG9zaXRvcnlMb2NhbFB1cmUoKTtcclxuICAgIGxldCByZXN1bHQ7XHJcbiAgICBhd2FpdCBjYWxjdWxhdGVTY29yZUFjdGlvbnMoe1xyXG4gICAgICBhY3Rpb25zOiBbXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW0oXCJUb3AgQ2xhaW1cIiwgXCJ0b3BUZXN0Q2xhaW1cIiksIHUsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltKFwiQ2hpbGQgQ2xhaW0gMVwiLCBcIkNoaWxkQ2xhaW0xXCIpLCB1LCBcImFkZF9jbGFpbVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbShcIkNoaWxkIENsYWltIDJcIiwgXCJDaGlsZENsYWltMlwiKSwgdSwgXCJhZGRfY2xhaW1cIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW0oXCJDaGlsZCBDbGFpbSAzXCIsIFwiQ2hpbGRDbGFpbTNcIiksIHUsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltKFwiR3JhbmRjaGlsZCBDbGFpbSAxXCIsIFwiZ3JhbmRDaGlsZDFcIiksIHUsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltKFwiR3JhbmRjaGlsZCBDbGFpbSAyXCIsIFwiZ3JhbmRDaGlsZDJcIiksIHUsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltKFwiR3JhbmRjaGlsZCBDbGFpbSAzXCIsIFwiZ3JhbmRDaGlsZDNcIiksIHUsIFwiYWRkX2NsYWltXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltRWRnZShcInRvcFRlc3RDbGFpbVwiLCBcIkNoaWxkQ2xhaW0xXCIsIHUsIHBybywgXCJDaGlsZENsYWltMUVkZ2VcIiksIHUsIFwiYWRkX2NsYWltRWRnZVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbUVkZ2UoXCJ0b3BUZXN0Q2xhaW1cIiwgXCJDaGlsZENsYWltMlwiLCB1LCBwcm8sIFwiQ2hpbGRDbGFpbTJFZGdlXCIpLCB1LCBcImFkZF9jbGFpbUVkZ2VcIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW1FZGdlKFwidG9wVGVzdENsYWltXCIsIFwiQ2hpbGRDbGFpbTNcIiwgdSwgY29uLCBcIkNoaWxkQ2xhaW0zRWRnZVwiKSwgdSwgXCJhZGRfY2xhaW1FZGdlXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IENsYWltRWRnZShcIkNoaWxkQ2xhaW0xXCIsIFwiZ3JhbmRDaGlsZDFcIiwgdSwgcHJvLCBcIkdyYW5kQ2hpbGRDbGFpbTFFZGdlXCIpLCB1LCBcImFkZF9jbGFpbUVkZ2VcIiksXHJcbiAgICAgICAgbmV3IEFjdGlvbihuZXcgQ2xhaW1FZGdlKFwiQ2hpbGRDbGFpbTFcIiwgXCJncmFuZENoaWxkMlwiLCB1LCBwcm8sIFwiR3JhbmRDaGlsZENsYWltMkVkZ2VcIiksIHUsIFwiYWRkX2NsYWltRWRnZVwiKSxcclxuICAgICAgICBuZXcgQWN0aW9uKG5ldyBDbGFpbUVkZ2UoXCJDaGlsZENsYWltMVwiLCBcImdyYW5kQ2hpbGQzXCIsIHUsIGNvbiwgXCJHcmFuZENoaWxkQ2xhaW0zRWRnZVwiKSwgdSwgXCJhZGRfY2xhaW1FZGdlXCIpLFxyXG4gICAgICAgIG5ldyBBY3Rpb24obmV3IFNjb3JlVHJlZShcInRvcFRlc3RDbGFpbVwiLCBcInRlc3RUb3BTY29yZVwiLCB1LCBcInRlc3RTY29yZVRyZWVcIiksIHVuZGVmaW5lZCwgXCJhZGRfc2NvcmVUcmVlXCIpLFxyXG4gICAgICBdLFxyXG4gICAgICByZXBvc2l0b3J5OiByZXBvc2l0b3J5XHJcbiAgICB9KVxyXG5cclxuICAgIGV4cGVjdCgocmVwb3NpdG9yeS5yc0RhdGEuaXRlbXNbXCJ0ZXN0U2NvcmVUcmVlXCJdIGFzIFNjb3JlVHJlZSkuZGVzY2VuZGFudENvdW50KS50b0VxdWFsKDYpO1xyXG5cclxuICAgIGxldCByZXN1bHRzOiBbc3RyaW5nLCBhbnldW10sIGV4cGVjdGF0aW9uczogW3N0cmluZywgYW55XVtdXHJcbiAgICByZXN1bHRzID0gW11cclxuICAgIGV4cGVjdGF0aW9ucyA9IFtcclxuICAgICAgW1widG9wVGVzdENsYWltLmdlbmVyYXRpb25cIiwgMF0sXHJcbiAgICAgIFtcIkNoaWxkQ2xhaW0xLmdlbmVyYXRpb25cIiwgMV0sXHJcbiAgICAgIFtcIkNoaWxkQ2xhaW0yLmdlbmVyYXRpb25cIiwgMV0sXHJcbiAgICAgIFtcImdyYW5kQ2hpbGQxLmdlbmVyYXRpb25cIiwgMl0sXHJcbiAgICAgIFtcImdyYW5kQ2hpbGQyLmdlbmVyYXRpb25cIiwgMl0sXHJcbiAgICBdXHJcbiAgICBmb3IgKGNvbnN0IGV4cGVjdGF0aW9uIG9mIGV4cGVjdGF0aW9ucykge1xyXG4gICAgICBjb25zdCBzb3VyY2UgPSBleHBlY3RhdGlvblswXS5zcGxpdChcIi5cIik7XHJcbiAgICAgIGNvbnN0IHRlbXBSZXN1bHQgPSAoYXdhaXQgcmVwb3NpdG9yeS5nZXRTY29yZXNCeVNvdXJjZUlkKHNvdXJjZVswXSkpIGFzIGFueTtcclxuICAgICAgcmVzdWx0cy5wdXNoKFtcclxuICAgICAgICBleHBlY3RhdGlvblswXSxcclxuICAgICAgICAodGVtcFJlc3VsdFswXSlbc291cmNlWzFdXVxyXG4gICAgICBdKVxyXG4gICAgfVxyXG4gICAgZXhwZWN0KHJlc3VsdHMpLnRvTWF0Y2hPYmplY3QoZXhwZWN0YXRpb25zKTtcclxuICB9KTtcclxufSJdfQ==