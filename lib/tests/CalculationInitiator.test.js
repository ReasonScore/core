"use strict";

var _CalculationInitiator = require("../CalculationInitiator");

var _Change = require("../dataModels/Change");

var _Claim = require("../dataModels/Claim");

var _Id = require("../dataModels/Id");

var _ClaimEdge = require("../dataModels/ClaimEdge");

var _Repository = require("../Repository");

var _Affects = require("../dataModels/Affects");

test('claim without any edges should have score of 1', function () {
  var repo = new _Repository.Repository();
  var calcInitator = new _CalculationInitiator.CalculationInitator(repo);
  var claim = new _Claim.Claim("Measured Claim", (0, _Id.ID)("0"));
  calcInitator.notify([new _Change.Change(claim)]);
  expect(repo.getScoreBySourceClaimId(claim.id).sourceClaimId).toBe(claim.id);
  expect(repo.getScoreBySourceClaimId(claim.id).confidence).toBe(1);
});
test('claim with one con child should have confidence of -1', function () {
  var repo = new _Repository.Repository();
  var calcInitator = new _CalculationInitiator.CalculationInitator(repo);
  var measuredClaim = new _Claim.Claim("Measured Claim", (0, _Id.ID)("MeasuredClaim"));
  var childClaim = new _Claim.Claim("Child Claim", (0, _Id.ID)("ChildClaim"));
  calcInitator.notify([new _Change.Change(measuredClaim), new _Change.Change(childClaim), new _Change.Change(new _ClaimEdge.ClaimEdge(measuredClaim.id, childClaim.id, _Affects.Affects.Confidence, false))]);
  expect(repo.getScoreBySourceClaimId(measuredClaim.id).confidence).toBe(-1);
});
test('claim with two con descendants should have a confidence of 1', function () {
  var repo = new _Repository.Repository();
  var calcInitator = new _CalculationInitiator.CalculationInitator(repo);
  var measuredClaim = new _Claim.Claim("Measured Claim", (0, _Id.ID)("measuredClaim"));
  var childClaim1 = new _Claim.Claim("Child Claim 1", (0, _Id.ID)("childClaim1"));
  var descendantClaim = new _Claim.Claim("Descendant Claim", (0, _Id.ID)("descendantClaim"));
  calcInitator.notify([new _Change.Change(measuredClaim), new _Change.Change(childClaim1), new _Change.Change(descendantClaim), new _Change.Change(new _ClaimEdge.ClaimEdge(measuredClaim.id, childClaim1.id, _Affects.Affects.Confidence, false)), new _Change.Change(new _ClaimEdge.ClaimEdge(childClaim1.id, descendantClaim.id, _Affects.Affects.Confidence, false))]);
  expect(repo.getScoreBySourceClaimId(measuredClaim.id).confidence).toBe(1);
});
test('Multiple children calculation', function () {
  var repo = new _Repository.Repository();
  var calcInitator = new _CalculationInitiator.CalculationInitator(repo);
  var measuredClaim = new _Claim.Claim("Measured Claim", (0, _Id.ID)("measuredClaim"));
  var childClaim1 = new _Claim.Claim("Child Claim 1", (0, _Id.ID)("childClaim1"));
  var childClaim2 = new _Claim.Claim("Child Claim 2", (0, _Id.ID)("childClaim2"));
  var descendantClaim = new _Claim.Claim("Descendant Claim", (0, _Id.ID)("descendantClaim"));
  calcInitator.notify([new _Change.Change(measuredClaim), new _Change.Change(childClaim1), new _Change.Change(childClaim2), new _Change.Change(descendantClaim), new _Change.Change(new _ClaimEdge.ClaimEdge(measuredClaim.id, childClaim1.id, _Affects.Affects.Confidence, false)), new _Change.Change(new _ClaimEdge.ClaimEdge(measuredClaim.id, childClaim2.id, _Affects.Affects.Confidence, false)), new _Change.Change(new _ClaimEdge.ClaimEdge(childClaim1.id, descendantClaim.id, _Affects.Affects.Confidence, false))]);
  expect(repo.getScoreBySourceClaimId(measuredClaim.id).confidence).toBe(0);
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy90ZXN0cy9DYWxjdWxhdGlvbkluaXRpYXRvci50ZXN0LnRzIl0sIm5hbWVzIjpbInRlc3QiLCJyZXBvIiwiUmVwb3NpdG9yeSIsImNhbGNJbml0YXRvciIsIkNhbGN1bGF0aW9uSW5pdGF0b3IiLCJjbGFpbSIsIkNsYWltIiwibm90aWZ5IiwiQ2hhbmdlIiwiZXhwZWN0IiwiZ2V0U2NvcmVCeVNvdXJjZUNsYWltSWQiLCJpZCIsInNvdXJjZUNsYWltSWQiLCJ0b0JlIiwiY29uZmlkZW5jZSIsIm1lYXN1cmVkQ2xhaW0iLCJjaGlsZENsYWltIiwiQ2xhaW1FZGdlIiwiQWZmZWN0cyIsIkNvbmZpZGVuY2UiLCJjaGlsZENsYWltMSIsImRlc2NlbmRhbnRDbGFpbSIsImNoaWxkQ2xhaW0yIl0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUdBQSxJQUFJLENBQUMsZ0RBQUQsRUFBbUQsWUFBTTtBQUN6RCxNQUFNQyxJQUFJLEdBQUcsSUFBSUMsc0JBQUosRUFBYjtBQUNBLE1BQU1DLFlBQVksR0FBRyxJQUFJQyx5Q0FBSixDQUF3QkgsSUFBeEIsQ0FBckI7QUFDQSxNQUFNSSxLQUFLLEdBQUcsSUFBSUMsWUFBSixDQUFVLGdCQUFWLEVBQTRCLFlBQUcsR0FBSCxDQUE1QixDQUFkO0FBQ0FILEVBQUFBLFlBQVksQ0FBQ0ksTUFBYixDQUFvQixDQUNoQixJQUFJQyxjQUFKLENBQVdILEtBQVgsQ0FEZ0IsQ0FBcEI7QUFHQUksRUFBQUEsTUFBTSxDQUFDUixJQUFJLENBQUNTLHVCQUFMLENBQTZCTCxLQUFLLENBQUNNLEVBQW5DLEVBQXVDQyxhQUF4QyxDQUFOLENBQTZEQyxJQUE3RCxDQUFrRVIsS0FBSyxDQUFDTSxFQUF4RTtBQUNBRixFQUFBQSxNQUFNLENBQUNSLElBQUksQ0FBQ1MsdUJBQUwsQ0FBNkJMLEtBQUssQ0FBQ00sRUFBbkMsRUFBdUNHLFVBQXhDLENBQU4sQ0FBMERELElB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QUFKLENBQVUsZUFBVixFQUEyQixZQUFHLGFBQUgsQ0FBM0IsQ0FBcEI7QUFDSSxNQUFNZSxlQUFlLEdBQUcsSUFBSWYsWUFBSixDQUFVLGtCQUFWLEVBQThCLFlBQUcsaUJBQUgsQ0FBOUIsQ0FBeEI7QUFDSkgsRUFBQUEsWUFBWSxDQUFDSSxNQUFiLENBQW9CLENBQ2hCLElBQUlDLGNBQUosQ0FBV08sYUFBWCxDQURnQixFQUVoQixJQUFJUCxjQUFKLENBQVdZLFdBQVgsQ0FGZ0IsRUFHaEIsSUFBSVosY0FBSixDQUFXYyxXQUFYLENBSGdCLEVBSWhCLElBQUlkLGNBQUosQ0FBV2EsZUFBWCxDQUpnQixFQUtoQixJQUFJYixjQUFKLENBQVcsSUFBSVMsb0JBQUosQ0FBY0YsYUFBYSxDQUFDSixFQUE1QixFQUErQlMsV0FBVyxDQUFDVCxFQUEzQyxFQUE4Q08saUJBQVFDLFVBQXRELEVBQWlFLEtBQWpFLENBQVgsQ0FMZ0IsRUFNaEIsSUFBSVgsY0FBSixDQUFXLElBQUlTLG9CQUFKLENBQWNGLGFBQWEsQ0FBQ0osRUFBNUIsRUFBK0JXLFdBQVcsQ0FBQ1gsRUFBM0MsRUFBOENPLGlCQUFRQyxVQUF0RCxFQUFpRSxLQUFqRSxDQUFYLENBTmdCLEVBT2hCLElBQUlYLGNBQUosQ0FBVyxJQUFJUyxvQkFBSixDQUFjRyxXQUFXLENBQUNULEVBQTFCLEVBQTZCVSxlQUFlLENBQUNWLEVBQTdDLEVBQWdETyxpQkFBUUMsVUFBeEQsRUFBbUUsS0FBbkUsQ0FBWCxDQVBnQixDQUFwQjtBQVNBVixFQUFBQSxNQUFNLENBQUNSLElBQUksQ0FBQ1MsdUJBQUwsQ0FBNkJLLGFBQWEsQ0FBQ0osRUFBM0MsRUFBK0NHLFVBQWhELENBQU4sQ0FBa0VELElBQWxFLENBQXVFLENBQXZFO0FBQ0gsQ0FqQkcsQ0FBSiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENhbGN1bGF0aW9uSW5pdGF0b3IgfSBmcm9tIFwiLi4vQ2FsY3VsYXRpb25Jbml0aWF0b3JcIjtcclxuaW1wb3J0IHsgQ2hhbmdlIH0gZnJvbSBcIi4uL2RhdGFNb2RlbHMvQ2hhbmdlXCI7XHJcbmltcG9ydCB7IENsYWltIH0gZnJvbSBcIi4uL2RhdGFNb2RlbHMvQ2xhaW1cIjtcclxuaW1wb3J0IHsgSUQgfSBmcm9tIFwiLi4vZGF0YU1vZGVscy9JZFwiO1xyXG5pbXBvcnQgeyBDbGFpbUVkZ2UgfSBmcm9tIFwiLi4vZGF0YU1vZGVscy9DbGFpbUVkZ2VcIjtcclxuaW1wb3J0IHsgUmVwb3NpdG9yeSB9IGZyb20gXCIuLi9SZXBvc2l0b3J5XCI7XHJcbmltcG9ydCB7IEFmZmVjdHMgfSBmcm9tIFwiLi4vZGF0YU1vZGVscy9BZmZlY3RzXCI7XHJcblxyXG5cclxudGVzdCgnY2xhaW0gd2l0aG91dCBhbnkgZWRnZXMgc2hvdWxkIGhhdmUgc2NvcmUgb2YgMScsICgpID0+IHtcclxuICAgIGNvbnN0IHJlcG8gPSBuZXcgUmVwb3NpdG9yeSgpO1xyXG4gICAgY29uc3QgY2FsY0luaXRhdG9yID0gbmV3IENhbGN1bGF0aW9uSW5pdGF0b3IocmVwbyk7XHJcbiAgICBjb25zdCBjbGFpbSA9IG5ldyBDbGFpbShcIk1lYXN1cmVkIENsYWltXCIsIElEKFwiMFwiKSk7XHJcbiAgICBjYWxjSW5pdGF0b3Iubm90aWZ5KFtcclxuICAgICAgICBuZXcgQ2hhbmdlKGNsYWltKSxcclxuICAgIF0pO1xyXG4gICAgZXhwZWN0KHJlcG8uZ2V0U2NvcmVCeVNvdXJjZUNsYWltSWQoY2xhaW0uaWQpLnNvdXJjZUNsYWltSWQpLnRvQmUoY2xhaW0uaWQpO1xyXG4gICAgZXhwZWN0KHJlcG8uZ2V0U2NvcmVCeVNvdXJjZUNsYWltSWQoY2xhaW0uaWQpLmNvbmZpZGVuY2UpLnRvQmUoMSk7XHJcblxyXG59KTtcclxuXHJcbnRlc3QoJ2NsYWltIHdpdGggb25lIGNvbiBjaGlsZCBzaG91bGQgaGF2ZSBjb25maWRlbmNlIG9mIC0xJywgKCkgPT4ge1xyXG4gICAgY29uc3QgcmVwbyA9IG5ldyBSZXBvc2l0b3J5KCk7XHJcbiAgICBjb25zdCBjYWxjSW5pdGF0b3IgPSBuZXcgQ2FsY3VsYXRpb25Jbml0YXRvcihyZXBvKTtcclxuICAgIGNvbnN0IG1lYXN1cmVkQ2xhaW0gPSBuZXcgQ2xhaW0oXCJNZWFzdXJlZCBDbGFpbVwiLCBJRChcIk1lYXN1cmVkQ2xhaW1cIikpO1xyXG4gICAgY29uc3QgY2hpbGRDbGFpbSA9IG5ldyBDbGFpbShcIkNoaWxkIENsYWltXCIsIElEKFwiQ2hpbGRDbGFpbVwiKSk7XHJcbiAgICBjYWxjSW5pdGF0b3Iubm90aWZ5KFtcclxuICAgICAgICBuZXcgQ2hhbmdlKG1lYXN1cmVkQ2xhaW0pLFxyXG4gICAgICAgIG5ldyBDaGFuZ2UoY2hpbGRDbGFpbSksXHJcbiAgICAgICAgbmV3IENoYW5nZShuZXcgQ2xhaW1FZGdlKG1lYXN1cmVkQ2xhaW0uaWQsY2hpbGRDbGFpbS5pZCxBZmZlY3RzLkNvbmZpZGVuY2UsZmFsc2UpKSxcclxuICAgXSk7XHJcbiAgICBleHBlY3QocmVwby5nZXRTY29yZUJ5U291cmNlQ2xhaW1JZChtZWFzdXJlZENsYWltLmlkKS5jb25maWRlbmNlKS50b0JlKC0xKTtcclxufSk7XHJcblxyXG50ZXN0KCdjbGFpbSB3aXRoIHR3byBjb24gZGVzY2VuZGFudHMgc2hvdWxkIGhhdmUgYSBjb25maWRlbmNlIG9mIDEnLCAoKSA9PiB7XHJcbiAgICBjb25zdCByZXBvID0gbmV3IFJlcG9zaXRvcnkoKTtcclxuICAgIGNvbnN0IGNhbGNJbml0YXRvciA9IG5ldyBDYWxjdWxhdGlvbkluaXRhdG9yKHJlcG8pO1xyXG4gICAgY29uc3QgbWVhc3VyZWRDbGFpbSA9IG5ldyBDbGFpbShcIk1lYXN1cmVkIENsYWltXCIsIElEKFwibWVhc3VyZWRDbGFpbVwiKSk7XHJcbiAgICBjb25zdCBjaGlsZENsYWltMSA9IG5ldyBDbGFpbShcIkNoaWxkIENsYWltIDFcIiwgSUQoXCJjaGlsZENsYWltMVwiKSk7XHJcbiAgICAgICAgY29uc3QgZGVzY2VuZGFudENsYWltID0gbmV3IENsYWltKFwiRGVzY2VuZGFudCBDbGFpbVwiLCBJRChcImRlc2NlbmRhbnRDbGFpbVwiKSk7XHJcbiAgICBjYWxjSW5pdGF0b3Iubm90aWZ5KFtcclxuICAgICAgICBuZXcgQ2hhbmdlKG1lYXN1cmVkQ2xhaW0pLFxyXG4gICAgICAgIG5ldyBDaGFuZ2UoY2hpbGRDbGFpbTEpLFxyXG4gICAgICAgIG5ldyBDaGFuZ2UoZGVzY2VuZGFudENsYWltKSxcclxuICAgICAgICBuZXcgQ2hhbmdlKG5ldyBDbGFpbUVkZ2UobWVhc3VyZWRDbGFpbS5pZCxjaGlsZENsYWltMS5pZCxBZmZlY3RzLkNvbmZpZGVuY2UsZmFsc2UpKSxcclxuICAgICAgICBuZXcgQ2hhbmdlKG5ldyBDbGFpbUVkZ2UoY2hpbGRDbGFpbTEuaWQsZGVzY2VuZGFudENsYWltLmlkLEFmZmVjdHMuQ29uZmlkZW5jZSxmYWxzZSkpLFxyXG4gICBdKTtcclxuICAgIGV4cGVjdChyZXBvLmdldFNjb3JlQnlTb3VyY2VDbGFpbUlkKG1lYXN1cmVkQ2xhaW0uaWQpLmNvbmZpZGVuY2UpLnRvQmUoMSk7XHJcbn0pO1xyXG5cclxudGVzdCgnTXVsdGlwbGUgY2hpbGRyZW4gY2FsY3VsYXRpb24nLCAoKSA9PiB7XHJcbiAgICBjb25zdCByZXBvID0gbmV3IFJlcG9zaXRvcnkoKTtcclxuICAgIGNvbnN0IGNhbGNJbml0YXRvciA9IG5ldyBDYWxjdWxhdGlvbkluaXRhdG9yKHJlcG8pO1xyXG4gICAgY29uc3QgbWVhc3VyZWRDbGFpbSA9IG5ldyBDbGFpbShcIk1lYXN1cmVkIENsYWltXCIsIElEKFwibWVhc3VyZWRDbGFpbVwiKSk7XHJcbiAgICBjb25zdCBjaGlsZENsYWltMSA9IG5ldyBDbGFpbShcIkNoaWxkIENsYWltIDFcIiwgSUQoXCJjaGlsZENsYWltMVwiKSk7XHJcbiAgICBjb25zdCBjaGlsZENsYWltMiA9IG5ldyBDbGFpbShcIkNoaWxkIENsYWltIDJcIiwgSUQoXCJjaGlsZENsYWltMlwiKSk7XHJcbiAgICAgICAgY29uc3QgZGVzY2VuZGFudENsYWltID0gbmV3IENsYWltKFwiRGVzY2VuZGFudCBDbGFpbVwiLCBJRChcImRlc2NlbmRhbnRDbGFpbVwiKSk7XHJcbiAgICBjYWxjSW5pdGF0b3Iubm90aWZ5KFtcclxuICAgICAgICBuZXcgQ2hhbmdlKG1lYXN1cmVkQ2xhaW0pLFxyXG4gICAgICAgIG5ldyBDaGFuZ2UoY2hpbGRDbGFpbTEpLFxyXG4gICAgICAgIG5ldyBDaGFuZ2UoY2hpbGRDbGFpbTIpLFxyXG4gICAgICAgIG5ldyBDaGFuZ2UoZGVzY2VuZGFudENsYWltKSxcclxuICAgICAgICBuZXcgQ2hhbmdlKG5ldyBDbGFpbUVkZ2UobWVhc3VyZWRDbGFpbS5pZCxjaGlsZENsYWltMS5pZCxBZmZlY3RzLkNvbmZpZGVuY2UsZmFsc2UpKSxcclxuICAgICAgICBuZXcgQ2hhbmdlKG5ldyBDbGFpbUVkZ2UobWVhc3VyZWRDbGFpbS5pZCxjaGlsZENsYWltMi5pZCxBZmZlY3RzLkNvbmZpZGVuY2UsZmFsc2UpKSxcclxuICAgICAgICBuZXcgQ2hhbmdlKG5ldyBDbGFpbUVkZ2UoY2hpbGRDbGFpbTEuaWQsZGVzY2VuZGFudENsYWltLmlkLEFmZmVjdHMuQ29uZmlkZW5jZSxmYWxzZSkpLFxyXG4gICBdKTtcclxuICAgIGV4cGVjdChyZXBvLmdldFNjb3JlQnlTb3VyY2VDbGFpbUlkKG1lYXN1cmVkQ2xhaW0uaWQpLmNvbmZpZGVuY2UpLnRvQmUoMCk7XHJcbn0pOyJdfQ==