"use strict";

var _calculateScore = require("../calculateScore");

var _Score = require("../dataModels/Score");

var _Id = require("../dataModels/Id");

var _ScoreAndClaimEdge = require("../dataModels/ScoreAndClaimEdge");

var _ClaimEdge = require("../dataModels/ClaimEdge");

function _templateObject2() {
  var data = _taggedTemplateLiteral(["\n    id       | expScore  | expRel   | reversable | affects1        | polarity1 | confidence1 | relevance1 | affects2        | polarity2 | confidence2 | relevance2\n    ", " | ", "  | ", " | ", "   | ", " | ", "  | ", "    | ", "   | ", " | ", "  | ", "    | ", "\n    ", " | ", "  | ", " | ", "   | ", " | ", "  | ", "    | ", "   | ", " | ", "  | ", "    | ", " \n    ", " | ", "  | ", " | ", "   | ", " | ", "  | ", "    | ", "   | ", " | ", "  | ", "    | ", " \n"]);

  _templateObject2 = function _templateObject2() {
    return data;
  };

  return data;
}

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n    id       | expScore  | expRel   | polarity | reversable | affects1        | confidence1 | relevance1\n    ", " | ", "  | ", " | ", " | ", "   | ", " | ", "    | ", "\n    ", " | ", "  | ", " | ", " | ", "   | ", "  | ", "    | ", "\n    ", " | ", "  | ", " | ", " | ", "   | ", " | ", "    | ", "\n    ", " | ", "  | ", " | ", " | ", "   | ", " | ", "    | ", "\n    ", " | ", "  | ", " | ", " | ", "   | ", " | ", "    | ", "\n    ", " | ", "  | ", " | ", " | ", "    | ", " | ", "    | ", "\n    ", " | ", "  | ", " | ", " | ", "   | ", " | ", "    | ", "\n    ", " | ", "  | ", " | ", " | ", "   | ", " | ", "    | ", "\n    ", " | ", "  | ", " | ", " | ", "   | ", " | ", "    | ", "   \n    ", " | ", "  | ", " | ", " | ", "   | ", " | ", "    | ", "\n    ", " | ", "  | ", " | ", " | ", "    | ", " | ", "    | ", "\n"]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }

test('claim without any edges should have score of 1', function () {
  expect((0, _calculateScore.calculateScore)().confidence).toBe(1);
});
describe.each(_templateObject(), '__1', +1.00, +1.00, 'pro', false, 'confidence', +1.00, +1.00, '__2', +1.00, +2.00, 'pro', false, 'relevance', +1.00, +1.00, '__3', +0.50, +1.00, 'pro', false, 'confidence', +0.50, +1.00, '__4', +0.00, +1.00, 'pro', false, 'confidence', +0.00, +1.00, '__5', +0.00, +1.00, 'pro', false, 'confidence', -1.00, +1.00, '__6', -1.00, +1.00, 'pro', true, 'confidence', -1.00, +1.00, '__7', +0.00, +1.00, 'con', false, 'confidence', +1.00, +1.00, '__8', +0.00, +1.00, 'con', false, 'confidence', +0.50, +1.00, '__9', +0.00, +1.00, 'con', false, 'confidence', +0.00, +1.00, '_10', +1.00, +1.00, 'con', false, 'confidence', -1.00, +1.00, '_11', +1.00, +1.00, 'con', true, 'confidence', -1.00, +1.00)('', function (_ref) {
  var id = _ref.id,
      expScore = _ref.expScore,
      expRel = _ref.expRel,
      polarity = _ref.polarity,
      reversable = _ref.reversable,
      affects1 = _ref.affects1,
      confidence1 = _ref.confidence1,
      relevance1 = _ref.relevance1;
  var scoreAndClaimEdges = [new _ScoreAndClaimEdge.ScoreAndClaimEdge(new _Score.Score(confidence1, relevance1, id, (0, _Id.ID)(""), undefined), new _ClaimEdge.ClaimEdge(undefined, undefined, affects1, polarity === "pro" ? true : false))];
  var result = (0, _calculateScore.calculateScore)({
    scoreAndClaimEdges: scoreAndClaimEdges,
    reversable: reversable
  });
  test("".concat(id, " ").concat(polarity, " ").concat((confidence1 < 0 ? "" : "+") + confidence1.toFixed(1), " ").concat((relevance1 < 0 ? "" : " ") + relevance1.toFixed(1), " ").concat(affects1 ? "true " : "false", " ").concat(affects1.padEnd(10), ",     score = ").concat((expScore < 0 ? "" : " ") + expScore.toFixed(1)), function () {
    expect(result.confidence).toBe(expScore);
  });
  test("".concat(id, " ").concat(polarity, " ").concat((confidence1 < 0 ? "" : "+") + confidence1.toFixed(1), " ").concat((relevance1 < 0 ? "" : " ") + relevance1.toFixed(1), " ").concat(affects1 ? "true " : "false", " ").concat(affects1.padEnd(10), ", relevance = ").concat((expRel < 0 ? "" : " ") + expRel.toFixed(1)), function () {
    expect(result.relevance).toBe(expRel);
  });
});
describe.each(_templateObject2(), '_12', +1.00, +1.00, false, 'confidence', 'pro', +1.00, +1.00, 'confidence', 'pro', +1.00, +1.00, '_13', +0.00, +1.00, false, 'confidence', 'pro', +1.00, +1.00, 'confidence', 'pro', -1.00, +1.00, '_14', +1.00, +1.00, false, 'confidence', 'pro', +1.00, +1.00, 'confidence', 'con', +0.00, +1.00)('', function (_ref2) {
  var id = _ref2.id,
      expScore = _ref2.expScore,
      expRel = _ref2.expRel,
      reversable = _ref2.reversable,
      affects1 = _ref2.affects1,
      polarity1 = _ref2.polarity1,
      confidence1 = _ref2.confidence1,
      relevance1 = _ref2.relevance1,
      affects2 = _ref2.affects2,
      polarity2 = _ref2.polarity2,
      confidence2 = _ref2.confidence2,
      relevance2 = _ref2.relevance2;
  var scoreAndClaimEdges = [new _ScoreAndClaimEdge.ScoreAndClaimEdge(new _Score.Score(confidence1, relevance1, id, (0, _Id.ID)(""), undefined), new _ClaimEdge.ClaimEdge(undefined, undefined, affects1, polarity1 === "pro" ? true : false)), new _ScoreAndClaimEdge.ScoreAndClaimEdge(new _Score.Score(confidence2, relevance2, id, (0, _Id.ID)(""), undefined), new _ClaimEdge.ClaimEdge(undefined, undefined, affects2, polarity2 === "pro" ? true : false))];
  var result = (0, _calculateScore.calculateScore)({
    scoreAndClaimEdges: scoreAndClaimEdges,
    reversable: reversable
  });
  test("".concat(id, " confidence"), function () {
    expect(result.confidence).toBe(expScore);
  });
  test("".concat(id, " relevance"), function () {
    expect(result.relevance).toBe(expRel);
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy90ZXN0cy9jYWxjdWxhdGVTY29yZS50ZXN0LnNraXAudHMiXSwibmFtZXMiOlsidGVzdCIsImV4cGVjdCIsImNvbmZpZGVuY2UiLCJ0b0JlIiwiZGVzY3JpYmUiLCJlYWNoIiwiaWQiLCJleHBTY29yZSIsImV4cFJlbCIsInBvbGFyaXR5IiwicmV2ZXJzYWJsZSIsImFmZmVjdHMxIiwiY29uZmlkZW5jZTEiLCJyZWxldmFuY2UxIiwic2NvcmVBbmRDbGFpbUVkZ2VzIiwiU2NvcmVBbmRDbGFpbUVkZ2UiLCJTY29yZSIsInVuZGVmaW5lZCIsIkNsYWltRWRnZSIsInJlc3VsdCIsInRvRml4ZWQiLCJwYWRFbmQiLCJyZWxldmFuY2UiLCJwb2xhcml0eTEiLCJhZmZlY3RzMiIsInBvbGFyaXR5MiIsImNvbmZpZGVuY2UyIiwicmVsZXZhbmNlMiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUFBLElBQUksQ0FBQyxnREFBRCxFQUFtRCxZQUFNO0FBQ3pEQyxFQUFBQSxNQUFNLENBQUMsc0NBQWlCQyxVQUFsQixDQUFOLENBQW9DQyxJQUFwQyxDQUF5QyxDQUF6QztBQUNILENBRkcsQ0FBSjtBQUlBQyxRQUFRLENBQUNDLElBQVQsb0JBRU0sS0FGTixFQUVpQixDQUFDLElBRmxCLEVBRTZCLENBQUMsSUFGOUIsRUFFd0MsS0FGeEMsRUFFbUQsS0FGbkQsRUFFZ0UsWUFGaEUsRUFFa0YsQ0FBQyxJQUZuRixFQUVnRyxDQUFDLElBRmpHLEVBR00sS0FITixFQUdpQixDQUFDLElBSGxCLEVBRzZCLENBQUMsSUFIOUIsRUFHd0MsS0FIeEMsRUFHbUQsS0FIbkQsRUFHZ0UsV0FIaEUsRUFHa0YsQ0FBQyxJQUhuRixFQUdnRyxDQUFDLElBSGpHLEVBSU0sS0FKTixFQUlpQixDQUFDLElBSmxCLEVBSTZCLENBQUMsSUFKOUIsRUFJd0MsS0FKeEMsRUFJbUQsS0FKbkQsRUFJ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QUgsQ0FBdkMsRUFBK0NXLFNBQS9DLENBREosRUFFSSxJQUFJQyxvQkFBSixDQUFjRCxTQUFkLEVBQXlCQSxTQUF6QixFQUNJTixRQURKLEVBRUlZLFNBQVMsS0FBSyxLQUFkLEdBQXNCLElBQXRCLEdBQTZCLEtBRmpDLENBRkosQ0FEdUIsRUFPdkIsSUFBSVIsb0NBQUosQ0FDSSxJQUFJQyxZQUFKLENBQVVVLFdBQVYsRUFBdUJDLFVBQXZCLEVBQW1DckIsRUFBbkMsRUFBdUMsWUFBRyxFQUFILENBQXZDLEVBQStDVyxTQUEvQyxDQURKLEVBRUksSUFBSUMsb0JBQUosQ0FBY0QsU0FBZCxFQUF5QkEsU0FBekIsRUFDSU8sUUFESixFQUVJQyxTQUFTLEtBQUssS0FBZCxHQUFzQixJQUF0QixHQUE2QixLQUZqQyxDQUZKLENBUHVCLENBQTNCO0FBY0EsTUFBTU4sTUFBTSxHQUFHLG9DQUFlO0FBQUVMLElBQUFBLGtCQUFrQixFQUFsQkEsa0JBQUY7QUFBc0JKLElBQUFBLFVBQVUsRUFBVkE7QUFBdEIsR0FBZixDQUFmO0FBQ0FWLEVBQUFBLElBQUksV0FBSU0sRUFBSixrQkFBcUIsWUFBTTtBQUFFTCxJQUFBQSxNQUFNLENBQUNrQixNQUFNLENBQUNqQixVQUFSLENBQU4sQ0FBMEJDLElBQTFCLENBQStCSSxRQUEvQjtBQUEyQyxHQUF4RSxDQUFKO0FBQ0FQLEVBQUFBLElBQUksV0FBSU0sRUFBSixpQkFBb0IsWUFBTTtBQUFFTCxJQUFBQSxNQUFNLENBQUNrQixNQUFNLENBQUNHLFNBQVIsQ0FBTixDQUF5Qm5CLElBQXpCLENBQThCSyxNQUE5QjtBQUF3QyxHQUFwRSxDQUFKO0FBQ0gsQ0F2QkQiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjYWxjdWxhdGVTY29yZSB9IGZyb20gXCIuLi9jYWxjdWxhdGVTY29yZVwiO1xyXG5pbXBvcnQgeyBTY29yZSB9IGZyb20gXCIuLi9kYXRhTW9kZWxzL1Njb3JlXCI7XHJcbmltcG9ydCB7IElEIH0gZnJvbSBcIi4uL2RhdGFNb2RlbHMvSWRcIjtcclxuaW1wb3J0IHsgU2NvcmVBbmRDbGFpbUVkZ2UgfSBmcm9tIFwiLi4vZGF0YU1vZGVscy9TY29yZUFuZENsYWltRWRnZVwiO1xyXG5pbXBvcnQgeyBDbGFpbUVkZ2UgfSBmcm9tIFwiLi4vZGF0YU1vZGVscy9DbGFpbUVkZ2VcIjtcclxuXHJcbnRlc3QoJ2NsYWltIHdpdGhvdXQgYW55IGVkZ2VzIHNob3VsZCBoYXZlIHNjb3JlIG9mIDEnLCAoKSA9PiB7XHJcbiAgICBleHBlY3QoY2FsY3VsYXRlU2NvcmUoKS5jb25maWRlbmNlKS50b0JlKDEpO1xyXG59KTtcclxuXHJcbmRlc2NyaWJlLmVhY2hgXHJcbiAgICBpZCAgICAgICB8IGV4cFNjb3JlICB8IGV4cFJlbCAgIHwgcG9sYXJpdHkgfCByZXZlcnNhYmxlIHwgYWZmZWN0czEgICAgICAgIHwgY29uZmlkZW5jZTEgfCByZWxldmFuY2UxXHJcbiAgICAkeydfXzEnfSB8ICR7KzEuMDB9ICB8ICR7KzEuMDB9IHwgJHsncHJvJ30gfCAke2ZhbHNlfSAgIHwgJHsnY29uZmlkZW5jZSd9IHwgJHsrMS4wMH0gICAgfCAkeysxLjAwfVxyXG4gICAgJHsnX18yJ30gfCAkeysxLjAwfSAgfCAkeysyLjAwfSB8ICR7J3Bybyd9IHwgJHtmYWxzZX0gICB8ICR7J3JlbGV2YW5jZSd9ICB8ICR7KzEuMDB9ICAgIHwgJHsrMS4wMH1cclxuICAgICR7J19fMyd9IHwgJHsrMC41MH0gIHwgJHsrMS4wMH0gfCAkeydwcm8nfSB8ICR7ZmFsc2V9ICAgfCAkeydjb25maWRlbmNlJ30gfCAkeyswLjUwfSAgICB8ICR7KzEuMDB9XHJcbiAgICAkeydfXzQnfSB8ICR7KzAuMDB9ICB8ICR7KzEuMDB9IHwgJHsncHJvJ30gfCAke2ZhbHNlfSAgIHwgJHsnY29uZmlkZW5jZSd9IHwgJHsrMC4wMH0gICAgfCAkeysxLjAwfVxyXG4gICAgJHsnX181J30gfCAkeyswLjAwfSAgfCAkeysxLjAwfSB8ICR7J3Bybyd9IHwgJHtmYWxzZX0gICB8ICR7J2NvbmZpZGVuY2UnfSB8ICR7LTEuMDB9ICAgIHwgJHsrMS4wMH1cclxuICAgICR7J19fNid9IHwgJHstMS4wMH0gIHwgJHsrMS4wMH0gfCAkeydwcm8nfSB8ICR7dHJ1ZX0gICAgfCAkeydjb25maWRlbmNlJ30gfCAkey0xLjAwfSAgICB8ICR7KzEuMDB9XHJcbiAgICAkeydfXzcnfSB8ICR7KzAuMDB9ICB8ICR7KzEuMDB9IHwgJHsnY29uJ30gfCAke2ZhbHNlfSAgIHwgJHsnY29uZmlkZW5jZSd9IHwgJHsrMS4wMH0gICAgfCAkeysxLjAwfVxyXG4gICAgJHsnX184J30gfCAkeyswLjAwfSAgfCAkeysxLjAwfSB8ICR7J2Nvbid9IHwgJHtmYWxzZX0gICB8ICR7J2NvbmZpZGVuY2UnfSB8ICR7KzAuNTB9ICAgIHwgJHsrMS4wMH1cclxuICAgICR7J19fOSd9IHwgJHsrMC4wMH0gIHwgJHsrMS4wMH0gfCAkeydjb24nfSB8ICR7ZmFsc2V9ICAgfCAkeydjb25maWRlbmNlJ30gfCAkeyswLjAwfSAgICB8ICR7KzEuMDB9ICAgXHJcbiAgICAkeydfMTAnfSB8ICR7KzEuMDB9ICB8ICR7KzEuMDB9IHwgJHsnY29uJ30gfCAke2ZhbHNlfSAgIHwgJHsnY29uZmlkZW5jZSd9IHwgJHstMS4wMH0gICAgfCAkeysxLjAwfVxyXG4gICAgJHsnXzExJ30gfCAkeysxLjAwfSAgfCAkeysxLjAwfSB8ICR7J2Nvbid9IHwgJHt0cnVlfSAgICB8ICR7J2NvbmZpZGVuY2UnfSB8ICR7LTEuMDB9ICAgIHwgJHsrMS4wMH1cclxuYCgnJywgKHsgaWQsIGV4cFNjb3JlLCBleHBSZWwsIHBvbGFyaXR5LCByZXZlcnNhYmxlLCBhZmZlY3RzMSwgY29uZmlkZW5jZTEsIHJlbGV2YW5jZTEgfSkgPT4ge1xyXG4gICAgY29uc3Qgc2NvcmVBbmRDbGFpbUVkZ2VzID0gW1xyXG4gICAgICAgIG5ldyBTY29yZUFuZENsYWltRWRnZShcclxuICAgICAgICAgICAgbmV3IFNjb3JlKGNvbmZpZGVuY2UxLCByZWxldmFuY2UxLCBpZCwgSUQoXCJcIiksIHVuZGVmaW5lZCksXHJcbiAgICAgICAgICAgIG5ldyBDbGFpbUVkZ2UodW5kZWZpbmVkLCB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICBhZmZlY3RzMSxcclxuICAgICAgICAgICAgICAgIHBvbGFyaXR5ID09PSBcInByb1wiID8gdHJ1ZSA6IGZhbHNlKVxyXG4gICAgICAgICldO1xyXG4gICAgY29uc3QgcmVzdWx0ID0gY2FsY3VsYXRlU2NvcmUoeyBzY29yZUFuZENsYWltRWRnZXMsIHJldmVyc2FibGUgfSk7XHJcbiAgICB0ZXN0KGAke2lkfSAke3BvbGFyaXR5fSAkeyhjb25maWRlbmNlMSA8IDAgPyBcIlwiIDogXCIrXCIpICsgY29uZmlkZW5jZTEudG9GaXhlZCgxKX0gJHsocmVsZXZhbmNlMSA8IDAgPyBcIlwiIDogXCIgXCIpICsgcmVsZXZhbmNlMS50b0ZpeGVkKDEpfSAke2FmZmVjdHMxID8gXCJ0cnVlIFwiIDogXCJmYWxzZVwifSAke2FmZmVjdHMxLnBhZEVuZCgxMCl9LCAgICAgc2NvcmUgPSAkeyhleHBTY29yZSA8IDAgPyBcIlwiIDogXCIgXCIpICsgZXhwU2NvcmUudG9GaXhlZCgxKX1gLCAoKSA9PiB7XHJcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5jb25maWRlbmNlKS50b0JlKGV4cFNjb3JlKTtcclxuICAgIH0pO1xyXG4gICAgdGVzdChgJHtpZH0gJHtwb2xhcml0eX0gJHsoY29uZmlkZW5jZTEgPCAwID8gXCJcIiA6IFwiK1wiKSArIGNvbmZpZGVuY2UxLnRvRml4ZWQoMSl9ICR7KHJlbGV2YW5jZTEgPCAwID8gXCJcIiA6IFwiIFwiKSArIHJlbGV2YW5jZTEudG9GaXhlZCgxKX0gJHthZmZlY3RzMSA/IFwidHJ1ZSBcIiA6IFwiZmFsc2VcIn0gJHthZmZlY3RzMS5wYWRFbmQoMTApfSwgcmVsZXZhbmNlID0gJHsoZXhwUmVsIDwgMCA/IFwiXCIgOiBcIiBcIikgKyBleHBSZWwudG9GaXhlZCgxKX1gLCAoKSA9PiB7XHJcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5yZWxldmFuY2UpLnRvQmUoZXhwUmVsKTtcclxuICAgIH0pO1xyXG59KTtcclxuXHJcblxyXG5cclxuXHJcbmRlc2NyaWJlLmVhY2hgXHJcbiAgICBpZCAgICAgICB8IGV4cFNjb3JlICB8IGV4cFJlbCAgIHwgcmV2ZXJzYWJsZSB8IGFmZmVjdHMxICAgICAgICB8IHBvbGFyaXR5MSB8IGNvbmZpZGVuY2UxIHwgcmVsZXZhbmNlMSB8IGFmZmVjdHMyICAgICAgICB8IHBvbGFyaXR5MiB8IGNvbmZpZGVuY2UyIHwgcmVsZXZhbmNlMlxyXG4gICAgJHsnXzEyJ30gfCAkeysxLjAwfSAgfCAkeysxLjAwfSB8ICR7ZmFsc2V9ICAgfCAkeydjb25maWRlbmNlJ30gfCAkeydwcm8nfSAgfCAkeysxLjAwfSAgICB8ICR7KzEuMDB9ICAgfCAkeydjb25maWRlbmNlJ30gfCAkeydwcm8nfSAgfCAkeysxLjAwfSAgICB8ICR7KzEuMDB9XHJcbiAgICAkeydfMTMnfSB8ICR7KzAuMDB9ICB8ICR7KzEuMDB9IHwgJHtmYWxzZX0gICB8ICR7J2NvbmZpZGVuY2UnfSB8ICR7J3Bybyd9ICB8ICR7KzEuMDB9ICAgIHwgJHsrMS4wMH0gICB8ICR7J2NvbmZpZGVuY2UnfSB8ICR7J3Bybyd9ICB8ICR7LTEuMDB9ICAgIHwgJHsrMS4wMH0gXHJcbiAgICAkeydfMTQnfSB8ICR7KzEuMDB9ICB8ICR7KzEuMDB9IHwgJHtmYWxzZX0gICB8ICR7J2NvbmZpZGVuY2UnfSB8ICR7J3Bybyd9ICB8ICR7KzEuMDB9ICAgIHwgJHsrMS4wMH0gICB8ICR7J2NvbmZpZGVuY2UnfSB8ICR7J2Nvbid9ICB8ICR7KzAuMDB9ICAgIHwgJHsrMS4wMH0gXHJcbmAoJycsICh7IGlkLCBleHBTY29yZSwgZXhwUmVsLCByZXZlcnNhYmxlLCBhZmZlY3RzMSwgcG9sYXJpdHkxLCBjb25maWRlbmNlMSwgcmVsZXZhbmNlMSwgYWZmZWN0czIsIHBvbGFyaXR5MiwgY29uZmlkZW5jZTIsIHJlbGV2YW5jZTIgfSkgPT4ge1xyXG4gICAgY29uc3Qgc2NvcmVBbmRDbGFpbUVkZ2VzID0gW1xyXG4gICAgICAgIG5ldyBTY29yZUFuZENsYWltRWRnZShcclxuICAgICAgICAgICAgbmV3IFNjb3JlKGNvbmZpZGVuY2UxLCByZWxldmFuY2UxLCBpZCwgSUQoXCJcIiksIHVuZGVmaW5lZCksXHJcbiAgICAgICAgICAgIG5ldyBDbGFpbUVkZ2UodW5kZWZpbmVkLCB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICBhZmZlY3RzMSxcclxuICAgICAgICAgICAgICAgIHBvbGFyaXR5MSA9PT0gXCJwcm9cIiA/IHRydWUgOiBmYWxzZSlcclxuICAgICAgICApLFxyXG4gICAgICAgIG5ldyBTY29yZUFuZENsYWltRWRnZShcclxuICAgICAgICAgICAgbmV3IFNjb3JlKGNvbmZpZGVuY2UyLCByZWxldmFuY2UyLCBpZCwgSUQoXCJcIiksIHVuZGVmaW5lZCksXHJcbiAgICAgICAgICAgIG5ldyBDbGFpbUVkZ2UodW5kZWZpbmVkLCB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICBhZmZlY3RzMixcclxuICAgICAgICAgICAgICAgIHBvbGFyaXR5MiA9PT0gXCJwcm9cIiA/IHRydWUgOiBmYWxzZSlcclxuICAgICAgICApXHJcbiAgICBdO1xyXG4gICAgY29uc3QgcmVzdWx0ID0gY2FsY3VsYXRlU2NvcmUoeyBzY29yZUFuZENsYWltRWRnZXMsIHJldmVyc2FibGUgfSk7XHJcbiAgICB0ZXN0KGAke2lkfSBjb25maWRlbmNlYCwgKCkgPT4geyBleHBlY3QocmVzdWx0LmNvbmZpZGVuY2UpLnRvQmUoZXhwU2NvcmUpOyB9KTtcclxuICAgIHRlc3QoYCR7aWR9IHJlbGV2YW5jZWAsICgpID0+IHsgZXhwZWN0KHJlc3VsdC5yZWxldmFuY2UpLnRvQmUoZXhwUmVsKTsgfSk7XHJcbn0pO1xyXG4iXX0=