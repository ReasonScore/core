"use strict";

var _calculateScore = require("../calculateScore");

var _Score = require("../dataModels/Score");

class TestData {
  constructor(testDescription = "Test", expectedScore, scores = [], reversible = false) {
    this.testDescription = testDescription;
    this.expectedScore = expectedScore;
    this.scores = scores;
    this.reversible = reversible;
  }

}

function s(confidence = 1, relevance = 1, pro = true, affects = "confidence") {
  return new _Score.Score("", "", "", undefined, undefined, pro, affects, confidence, relevance);
}

function t(testDescription, expectedScore, scores, reversible = false) {
  return new TestData(testDescription, expectedScore, scores, reversible);
}

const pro = true;
const con = false;
const testData = [t("no scores = 1  ", s(1), []), t("1 and 1 = 1    ", s(1), [s(+1), s(+1)]), t("1 and -1 = 0   ", s(0), [s(+1), s(-1)]), t("pro and con = 0", s(0), [s(+1), s(+1, 1, con)])];
const JsonTestData = [];

for (let data of testData) {
  JsonTestData.push(JSON.stringify(data));
}

describe.each(JsonTestData)('Tests', testJson => {
  const t = JSON.parse(testJson);
  test(t.testDescription + ' Confidence', () => {
    const result = (0, _calculateScore.calculateScore)({
      childScores: t.scores,
      reversible: t.reversible
    });
    expect(result.confidence).toBe(t.expectedScore.confidence);
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy90ZXN0cy9jYWxjdWxhdGVTY29yZS50ZXN0LnNraXAudHMiXSwibmFtZXMiOlsiVGVzdERhdGEiLCJjb25zdHJ1Y3RvciIsInRlc3REZXNjcmlwdGlvbiIsImV4cGVjdGVkU2NvcmUiLCJzY29yZXMiLCJyZXZlcnNpYmxlIiwicyIsImNvbmZpZGVuY2UiLCJyZWxldmFuY2UiLCJwcm8iLCJhZmZlY3RzIiwiU2NvcmUiLCJ1bmRlZmluZWQiLCJ0IiwiY29uIiwidGVzdERhdGEiLCJKc29uVGVzdERhdGEiLCJkYXRhIiwicHVzaCIsIkpTT04iLCJzdHJpbmdpZnkiLCJkZXNjcmliZSIsImVhY2giLCJ0ZXN0SnNvbiIsInBhcnNlIiwidGVzdCIsInJlc3VsdCIsImNoaWxkU2NvcmVzIiwiZXhwZWN0IiwidG9CZSJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFHQSxNQUFNQSxRQUFOLENBQWU7QUFDWEMsRUFBQUEsV0FBVyxDQUNBQyxlQUF1QixHQUFHLE1BRDFCLEVBRUFDLGFBRkEsRUFHQUMsTUFBZSxHQUFHLEVBSGxCLEVBSUFDLFVBQW1CLEdBQUcsS0FKdEIsRUFLVDtBQUFBLFNBSlNILGVBSVQsR0FKU0EsZUFJVDtBQUFBLFNBSFNDLGFBR1QsR0FIU0EsYUFHVDtBQUFBLFNBRlNDLE1BRVQsR0FGU0EsTUFFVDtBQUFBLFNBRFNDLFVBQ1QsR0FEU0EsVUFDVDtBQUNEOztBQVBVOztBQVVmLFNBQVNDLENBQVQsQ0FBV0MsVUFBa0IsR0FBRyxDQUFoQyxFQUFtQ0MsU0FBaUIsR0FBRyxDQUF2RCxFQUEwREMsR0FBWSxHQUFHLElBQXpFLEVBQStFQyxPQUFnQixHQUFHLFlBQWxHLEVBQXVIO0FBQ25ILFNBQU8sSUFBSUMsWUFBSixDQUFVLEVBQVYsRUFBYSxFQUFiLEVBQWdCLEVBQWhCLEVBQW9CQyxTQUFwQixFQUErQkEsU0FBL0IsRUFBMENILEdBQTFDLEVBQStDQyxPQUEvQyxFQUF3REgsVUFBeEQsRUFBb0VDLFNBQXBFLENBQVA7QUFDSDs7QUFFRCxTQUFTSyxDQUFULENBQVdYLGVBQVgsRUFBb0NDLGFBQXBDLEVBQTBEQyxNQUExRCxFQUEyRUMsVUFBbUIsR0FBRyxLQUFqRyxFQUF3RztBQUNwRyxTQUFPLElBQUlMLFFBQUosQ0FBYUUsZUFBYixFQUE4QkMsYUFBOUIsRUFBNkNDLE1BQTdDLEVBQXFEQyxVQUFyRCxDQUFQO0FBQ0g7O0FBRUQsTUFBTUksR0FBRyxHQUFHLElBQVo7QUFDQSxNQUFNSyxHQUFHLEdBQUcsS0FBWjtBQUVBLE1BQU1DLFFBQVEsR0FBRyxDQUNiRixDQUFDLENBQUMsaUJBQUQsRUFBb0JQLENBQUMsQ0FBQyxDQUFELENBQXJCLEVBQTBCLEVBQTFCLENBRFksRUFFYk8sQ0FBQyxDQUFDLGlCQUFELEVBQW9CUCxDQUFDLENBQUMsQ0FBRCxDQUFyQixFQUEwQixDQUFDQSxDQUFDLENBQUMsQ0FBQyxDQUFGLENBQUYsRUFBUUEsQ0FBQyxDQUFDLENBQUMsQ0FBRixDQUFULENBQTFCLENBRlksRUFHYk8sQ0FBQyxDQUFDLGlCQUFELEVBQW9CUCxDQUFDLENBQUMsQ0FBRCxDQUFyQixFQUEwQixDQUFDQSxDQUFDLENBQUMsQ0FBQyxDQUFGLENBQUYsRUFBUUEsQ0FBQyxDQUFDLENBQUMsQ0FBRixDQUFULENBQTFCLENBSFksRUFJYk8sQ0FBQyxDQUFDLGlCQUFELEVBQW9CUCxDQUFDLENBQUMsQ0FBRCxDQUFyQixFQUEwQixDQUFDQSxDQUFDLENBQUMsQ0FBQyxDQUFGLENBQUYsRUFBUUEsQ0FBQyxDQUFDLENBQUMsQ0FBRixFQUFLLENBQUwsRUFBUVEsR0FBUixDQUFULENBQTFCLENBSlksQ0FBakI7QUFPQSxNQUFNRSxZQUFzQixHQUFHLEVBQS9COztBQUVBLEtBQUssSUFBSUMsSUFBVCxJQUFpQkYsUUFBakIsRUFBMkI7QUFDdkJDLEVBQUFBLFlBQVksQ0FBQ0UsSUFBYixDQUFrQkMsSUFBSSxDQUFDQyxTQUFMLENBQWVILElBQWYsQ0FBbEI7QUFDSDs7QUFFREksUUFBUSxDQUFDQyxJQUFULENBQWNOLFlBQWQsRUFDSSxPQURKLEVBRUtPLFFBQUQsSUFBYztBQUNWLFFBQU1WLENBQVcsR0FBR00sSUFBSSxDQUFDSyxLQUFMLENBQVdELFFBQVgsQ0FBcEI7QUFDQUUsRUFBQUEsSUFBSSxDQUFDWixDQUFDLENBQUNYLGVBQUYsR0FBb0IsYUFBckIsRUFBb0MsTUFBTTtBQUMxQyxVQUFNd0IsTUFBTSxHQUFHLG9DQUFlO0FBQUVDLE1BQUFBLFdBQVcsRUFBRWQsQ0FBQyxDQUFDVCxNQUFqQjtBQUF5QkMsTUFBQUEsVUFBVSxFQUFFUSxDQUFDLENBQUNSO0FBQXZDLEtBQWYsQ0FBZjtBQUNBdUIsSUFBQUEsTUFBTSxDQUFDRixNQUFNLENBQUNuQixVQUFSLENBQU4sQ0FBMEJzQixJQUExQixDQUErQmhCLENBQUMsQ0FBQ1YsYUFBRixDQUFnQkksVUFBL0M7QUFDSCxHQUhHLENBQUo7QUFLSCxDQVRMIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY2FsY3VsYXRlU2NvcmUgfSBmcm9tIFwiLi4vY2FsY3VsYXRlU2NvcmVcIjtcclxuaW1wb3J0IHsgU2NvcmUgfSBmcm9tIFwiLi4vZGF0YU1vZGVscy9TY29yZVwiO1xyXG5pbXBvcnQgeyBBZmZlY3RzIH0gZnJvbSBcIi4uL2RhdGFNb2RlbHMvQWZmZWN0c1wiO1xyXG5cclxuY2xhc3MgVGVzdERhdGEge1xyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgcHVibGljIHRlc3REZXNjcmlwdGlvbjogc3RyaW5nID0gXCJUZXN0XCIsXHJcbiAgICAgICAgcHVibGljIGV4cGVjdGVkU2NvcmU6IFNjb3JlLFxyXG4gICAgICAgIHB1YmxpYyBzY29yZXM6IFNjb3JlW10gPSBbXSxcclxuICAgICAgICBwdWJsaWMgcmV2ZXJzaWJsZTogYm9vbGVhbiA9IGZhbHNlLFxyXG4gICAgKSB7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHMoY29uZmlkZW5jZTogbnVtYmVyID0gMSwgcmVsZXZhbmNlOiBudW1iZXIgPSAxLCBwcm86IGJvb2xlYW4gPSB0cnVlLCBhZmZlY3RzOiBBZmZlY3RzID0gXCJjb25maWRlbmNlXCIpOiBTY29yZSB7XHJcbiAgICByZXR1cm4gbmV3IFNjb3JlKFwiXCIsXCJcIixcIlwiLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgcHJvLCBhZmZlY3RzLCBjb25maWRlbmNlLCByZWxldmFuY2UpO1xyXG59XHJcblxyXG5mdW5jdGlvbiB0KHRlc3REZXNjcmlwdGlvbjogc3RyaW5nLCBleHBlY3RlZFNjb3JlOiBTY29yZSwgc2NvcmVzOiBTY29yZVtdLCByZXZlcnNpYmxlOiBib29sZWFuID0gZmFsc2UpIHtcclxuICAgIHJldHVybiBuZXcgVGVzdERhdGEodGVzdERlc2NyaXB0aW9uLCBleHBlY3RlZFNjb3JlLCBzY29yZXMsIHJldmVyc2libGUpXHJcbn1cclxuXHJcbmNvbnN0IHBybyA9IHRydWU7XHJcbmNvbnN0IGNvbiA9IGZhbHNlO1xyXG5cclxuY29uc3QgdGVzdERhdGEgPSBbXHJcbiAgICB0KFwibm8gc2NvcmVzID0gMSAgXCIsIHMoMSksIFtdKSxcclxuICAgIHQoXCIxIGFuZCAxID0gMSAgICBcIiwgcygxKSwgW3MoKzEpLCBzKCsxKV0pLFxyXG4gICAgdChcIjEgYW5kIC0xID0gMCAgIFwiLCBzKDApLCBbcygrMSksIHMoLTEpXSksXHJcbiAgICB0KFwicHJvIGFuZCBjb24gPSAwXCIsIHMoMCksIFtzKCsxKSwgcygrMSwgMSwgY29uKV0pLFxyXG5dXHJcblxyXG5jb25zdCBKc29uVGVzdERhdGE6IHN0cmluZ1tdID0gW107XHJcblxyXG5mb3IgKGxldCBkYXRhIG9mIHRlc3REYXRhKSB7XHJcbiAgICBKc29uVGVzdERhdGEucHVzaChKU09OLnN0cmluZ2lmeShkYXRhKSlcclxufVxyXG5cclxuZGVzY3JpYmUuZWFjaChKc29uVGVzdERhdGEpKFxyXG4gICAgJ1Rlc3RzJyxcclxuICAgICh0ZXN0SnNvbikgPT4ge1xyXG4gICAgICAgIGNvbnN0IHQ6IFRlc3REYXRhID0gSlNPTi5wYXJzZSh0ZXN0SnNvbik7XHJcbiAgICAgICAgdGVzdCh0LnRlc3REZXNjcmlwdGlvbiArICcgQ29uZmlkZW5jZScsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gY2FsY3VsYXRlU2NvcmUoeyBjaGlsZFNjb3JlczogdC5zY29yZXMsIHJldmVyc2libGU6IHQucmV2ZXJzaWJsZSB9KTtcclxuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5jb25maWRlbmNlKS50b0JlKHQuZXhwZWN0ZWRTY29yZS5jb25maWRlbmNlKVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH0sXHJcbik7XHJcblxyXG4iXX0=